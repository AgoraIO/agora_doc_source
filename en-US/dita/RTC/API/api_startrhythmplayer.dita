<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_startrhythmplayer">
    <title><ph keyref="startRhythmPlayer" /></title>
    <shortdesc id="short"><ph id="shortdesc">Enables the virtual metronome.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="startRhythmPlayer" />
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="android" outputclass="language-java">public int startRhythmPlayer(String sound1, String sound2, AgoraRhythmPlayerConfig config);</codeblock>
                <codeblock props="ios mac" outputclass="language-objectivec">- (int)startRhythmPlayer:(NSString* _Nonnull)sound1 sound2:(NSString* _Nonnull)sound2 config:(AgoraRtcRhythmPlayerConfig* _Nonnull)config;</codeblock>
                <codeblock props="windows" outputclass="language-cpp" />
                <codeblock props="electron" outputclass="language-typescript" />
                <codeblock props="unity" outputclass="language-csharp" />
                <codeblock props="rn" outputclass="language-typescript" />
                <codeblock props="flutter" outputclass="language-dart">Future&lt;void&gt; startRhythmPlayer(
      String sound1, String sound2, RhythmPlayerConfig config);</codeblock>
            </p>
        </section>
        <section id="detailed_desc">
            <dl outputclass="since" props="rtc">
                <dlentry props="native">
                    <dt>Since</dt>
                    <dd>v3.4.0</dd>
                </dlentry>
            </dl>
            <p>In music education, physical education and other scenarios, teachers usually need to use a metronome so that students can practice with the correct beat. The meter is composed of a downbeat and upbeats. The first beat of each measure is called a downbeat, and the rest are called upbeats.</p>
            <p>In this method, you need to set the file path of the upbeat and downbeat, the number of beats per measure, the beat speed, and whether to send the sound of the metronome to remote users.</p>
            <note type="attention" id="rhythm_play">After enabling the virtual metronome, the SDK plays the specified audio effect file from the beginning, and controls the playback duration of each file according to <parmname>beatsPerMinute </parmname>you set in <xref keyref="AgoraRhythmPlayerConfig" />. For example, if you set <parmname>beatsPerMinute</parmname> as <codeph>60</codeph>, the SDK plays one beat every second. If the file duration exceeds the beat duration, the SDK only plays the audio within the beat duration.</note>
        </section>
        <section id="parameters"><title>Parameters</title>
            <parml>
                <plentry>
                    <pt>sound1</pt>
                    <pd id="rhythm_sound"><p props="android">The absolute path or URL address (including the suffixes of the filename) of the audio effect file. For example: <codeph>/sdcard/emulated/0/audio.mp4</codeph>. Supported audio formats include MP3, AAC, M4A, MP4, WAV, and 3GP. For more information, see <xref href="https://developer.android.com/guide/topics/media/media-formats?hl=zh-cn" format="html" scope="external">Media Formats Supported by Android</xref>.</p>
                        <p props="ios">The absolute path or URL address (including the suffixes of the filename) of the audio effect file. iOS/macOS: For example: <codeph>/var/mobile/Containers/Data/audio.mp4</codeph>. Supported audio formats include MP3, AAC, M4A, MP4, WAV, and 3GP. For more information, see <xref href="https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/MultimediaPG/UsingAudio/UsingAudio.html#//apple_ref/doc/uid/TP40009767-CH2-SW28" format="html" scope="external">Media Playback Programming Guide</xref>.</p>
                        <p props="flutter rn">The absolute path or URL address (including the suffixes of the filename) of the audio effect file. For example: Android: <codeph>/sdcard/emulated/0/audio.mp4</codeph>, iOS: <codeph>/var/mobile/Containers/Data/audio.mp4</codeph>. Supported audio formats include MP3, AAC, M4A, MP4, WAV, and 3GP. See <xref href="https://developer.android.com/guide/topics/media/media-formats?hl=zh-cn" format="html" scope="external">Media Formats Supported by Android</xref> or <xref href="https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/MultimediaPG/UsingAudio/UsingAudio.html#//apple_ref/doc/uid/TP40009767-CH2-SW28" format="html" scope="external">Media Playback Programming Guide</xref>.</p>
                    </pd>
                </plentry>
                <plentry>
                    <pt>sound2</pt>
                    <pd conkeyref="startRhythmPlayer/rhythm_sound" />
                </plentry>
                <plentry>
                    <pt>config</pt>
                    <pd>The metronome configuration. See <xref keyref="AgoraRhythmPlayerConfig" />.</pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="native electron unity">
            <title>Returns</title>
            <ul>
                <li>0: Success.</li>
                <li>&lt; 0: Failure.<ul>
                    <li>-22: Cannot find audio effect files. Please set the correct paths for <parmname>sound1</parmname> and <parmname>sound2</parmname>.</li>
                </ul></li>
            </ul>
        </section>
    </refbody>
</reference>