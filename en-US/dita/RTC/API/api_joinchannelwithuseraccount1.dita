<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_joinchannelwithuseraccount1">
    <title><ph keyref="joinChannelWithUserAccount1"/> [1/2]</title>
    <shortdesc id="short"><ph id="shortdesc">Allows a user to join a channel.</ph></shortdesc>
    <prolog>
        <metadata>
   <keywords>
       <indexterm keyref="joinChannelWithUserAccount1" />
   </keywords>
        </metadata>
    </prolog>
    <refbody><section id="prototype">

        <p outputclass="codeblock" conref="../conref/conref_rtc_api.dita#apidef/joinChannelWithUserAccount1"/>
        </section>
        <section id="detailed_desc">

   <dl outputclass="since">
       <dlentry>
  <dt>Since</dt>
  <dd>v2.8.0</dd>
       </dlentry>
   </dl>
   <p>This method allows a user to join the channel with the user account. After the user successfully joins the channel, the SDK triggers the following callbacks:<ul>
       <li>The local client: <xref keyref="onLocalUserRegistered"/>, <xref keyref="onJoinChannelSuccess"/> and the <xref keyref="onConnectionStateChanged"></xref>callbacks.</li>
       <li>The remote client: <xref keyref="onUserJoined"/> and <xref keyref="onUserInfoUpdated"/>, if the user is in the COMMUNICATION profile, or if the user is a host in the LIVE_BROADCASTING profile.</li>
   </ul></p>
   <p>Once the user joins the channel, the user subscribes to the audio and video streams of all the other users in the channel by default, giving rise to usage and billing calculation. If you do not want to subscribe to a specified stream or all remote streams, call the <apiname>mute</apiname> methods accordingly.</p>
   <note type="attention">To ensure smooth communication, use the same parameter type to identify the user. For example, if a user joins the channel with a user ID, then ensure all the other users use the user ID too. The same applies to the user account. If a user joins the channel with the Agora Web SDK, ensure that the ID of the user is set to the same parameter type.</note>
        </section>
        <section id="parameters"><title>Parameters</title>
   <parml>
       <plentry conkeyref="joinChannel2/token"><pt/><pd/></plentry>
       <plentry>
  <pt>channelName</pt>
  <pd><p conkeyref="joinChannel2/channelID_desc"/></pd>
       </plentry>
       <plentry>
  <pt>userAccount</pt>
  <pd><p>The user account. This parameter is used to identify the user in the channel for real-time audio and video interaction. You need to set and manage user accounts yourself and ensure that each user account in the same channel is unique. The maximum length of this parameter is 255 bytes. Ensure that you set this parameter and do not set it as null<ph keyref="NULL"/>. Supported characters are (89 in total):<ul conkeyref="joinChannel2/char_support"><li/></ul>
      </p></pd>
       </plentry>
   </parml>
        </section>
        <section id="return_values">
   <title>Returns</title>
   <ul>
       <li>0: Success.</li>
       <li>&lt; 0: Failure.<ul>
  <li>-2 (ERR_INVALID_ARGUMENT): The parameter is invalid.</li>
  <li>-3(ERR_NOT_READY): The SDK fails to be initialized. You can try re-initializing the SDK.</li>
  <li>-5(ERR_REFUSED): The request is rejected.</li>
       </ul></li>
   </ul>
        </section></refbody>
</reference>
