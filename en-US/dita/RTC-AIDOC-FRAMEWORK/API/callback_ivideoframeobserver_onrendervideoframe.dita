<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="callback_ivideoframeobserver_onrendervideoframe">
    <title><ph keyref="onRenderVideoFrame"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="electron">Gets the video data sent by the remote user.</ph><ph id="shortdesc" props="rn">Retrieves video data sent by the remote user.</ph><ph id="shortdesc" props="flutter">Gets the video data sent from the remote user.</ph><ph id="shortdesc" props="unity">Obtains video data sent by the remote user.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="onRenderVideoFrame"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="electron" outputclass="language-typescript">onRenderVideoFrame?(
    channelId: string,
    remoteUid: number,
    videoFrame: VideoFrame
  ): void;</codeblock>
                <codeblock props="rn" outputclass="language-typescript">onRenderVideoFrame?(
    channelId: string,
    remoteUid: number,
    videoFrame: VideoFrame
  ): void;</codeblock>
                <codeblock props="flutter" outputclass="language-dart">final void Function(String channelId, int remoteUid, VideoFrame videoFrame)?
      onRenderVideoFrame;</codeblock>
                <codeblock props="unity" outputclass="language-csharp">public virtual bool OnRenderVideoFrame(string channelId, uint remoteUid, VideoFrame videoFrame)</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="electron">After successfully registering the video data observer, the SDK triggers this callback when each video frame is captured. You can get the video data sent by the remote user before rendering and process it as needed.</p>
            <p props="rn">After successfully registering the video data observer, the SDK triggers this callback for each captured video frame. You can use this callback to retrieve the video data sent by the remote user before rendering and process it as needed.</p>
            <p props="flutter">After successfully registering the video data observer, the SDK triggers this callback each time a video frame is captured. You can get the video data sent from the remote user before rendering and process it as needed for your scenario.</p>
            <p props="unity">After successfully registering the video data observer, the SDK triggers this callback when each video frame is captured. You can obtain the video data sent by the remote user before rendering and process it as needed based on your scenario.</p>
            <note props="electron">
                <ul>
                    <li>If the video data format you receive is RGBA, the SDK does not support processing the Alpha channel.</li>
                    <li>It is recommended to implement this callback using the C++ API.</li>
                    <li>Due to framework limitations, this callback does not support sending the processed video data back to the SDK.</li>
                    <li>When modifying parameters in <codeph>videoFrame</codeph>, ensure they match the actual video frame data in the buffer. Otherwise, unexpected rotation or distortion may occur in the local preview or remote video.</li>
                </ul>
            </note>
            <note props="rn">
                <ul>
                    <li>If the video data type is RGBA, the SDK does not support processing the Alpha channel.</li>
                    <li>It is recommended to implement this callback using the C++ API.</li>
                    <li>Due to framework limitations, this callback does not support sending the processed video data back to the SDK.</li>
                    <li>When modifying parameters in <codeph>videoFrame</codeph>, make sure the modified parameters match the actual video frame in the buffer. Otherwise, unexpected issues such as incorrect rotation or distortion may occur in the local preview or remote video.</li>
                </ul>
            </note>
            <note props="flutter">
                <ul>
                    <li>If the video data you get is of RGBA type, the SDK does not support processing the Alpha channel.</li>
                    <li>Due to framework limitations, this callback does not support sending the processed video data back to the SDK.</li>
                    <li>It is recommended that you ensure the modified parameters in <codeph>videoFrame</codeph> match the actual video frame in the buffer; otherwise, unexpected rotation, distortion, etc., may occur in the local preview or remote video.</li>
                </ul>
            </note>
            <note props="unity">Unity only supports sending YUV format video data back to the SDK. Make sure to set <codeph>mode</codeph> to <codeph>INTPTR</codeph> when calling <xref keyref="registerVideoFrameObserver"/> to register the raw video frame observer.</note>
        </section>
        <section id="parameters" deliveryTarget="details" props="electron flutter rn unity">
            <title>Parameters</title>
            <parml>
                <plentry props="electron">
                    <pt>remoteUid</pt>
                    <pd>The user ID of the remote user who sent the video frame.</pd>
                </plentry>
                <plentry props="electron">
                    <pt>videoFrame</pt>
                    <pd>Video frame data. See <xref keyref="VideoFrame"/>.
                        <note>The default format of the video frame data obtained through this callback is:
                            <ul>
                                <li>macOS: I420</li>
                                <li>Windows: YUV420</li>
                            </ul>
                        </note>
                    </pd>
                </plentry>
                <plentry props="electron">
                    <pt>channelId</pt>
                    <pd>Channel ID.</pd>
                </plentry>
                <plentry props="rn">
                    <pt>remoteUid</pt>
                    <pd>ID of the remote user who sent the video frame.</pd>
                </plentry>
                <plentry props="rn">
                    <pt>videoFrame</pt>
                    <pd>Video frame data. See <xref keyref="VideoFrame"/>.
                        <note>The default video frame data format obtained through this callback is:
                            <ul>
                                <li>Android: I420</li>
                                <li>iOS: I420</li>
                            </ul>
                        </note>
                    </pd>
                </plentry>
                <plentry props="rn">
                    <pt>channelId</pt>
                    <pd>Channel ID.</pd>
                </plentry>
                <plentry props="flutter">
                    <pt>remoteUid</pt>
                    <pd>Remote user ID who sent the video frame.</pd>
                </plentry>
                <plentry props="flutter">
                    <pt>videoFrame</pt>
                    <pd>Video frame data. See <xref keyref="VideoFrame"/>.
                        <note>The default format of the video frame data obtained through this callback is as follows:
                            <ul>
                                <li>Android: I420</li>
                                <li>iOS: I420</li>
                                <li>macOS: I420</li>
                                <li>Windows: YUV420</li>
                            </ul>
                        </note>
                    </pd>
                </plentry>
                <plentry props="flutter">
                    <pt>channelId</pt>
                    <pd>Channel ID.</pd>
                </plentry>
                <plentry props="unity">
                    <pt>remoteUid</pt>
                    <pd>Remote user ID who sent the video frame.</pd>
                </plentry>
                <plentry props="unity">
                    <pt>videoFrame</pt>
                    <pd>Video frame data. See <xref keyref="VideoFrame"/>.</pd>
                </plentry>
                <plentry props="unity">
                    <pt>channelId</pt>
                    <pd>Channel ID.</pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="unity">
            <title>Return Values</title>
            <p props="unity">
                <ul>
                    <li><xref keyref="true"/>: Instructs the SDK to receive the video frame.</li>
                    <li><xref keyref="false"/>: Instructs the SDK to discard the video frame.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>