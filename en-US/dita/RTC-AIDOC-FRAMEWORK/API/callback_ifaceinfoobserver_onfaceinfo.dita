<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="callback_ifaceinfoobserver_onfaceinfo">
    <title><ph keyref="onFaceInfo"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="electron">Reports face information processed by the voice driver plugin.</ph><ph id="shortdesc" props="rn">Reports face information processed by the voice driver extension.</ph><ph id="shortdesc" props="flutter">Reports the face information processed by the voice driver plugin.</ph><ph id="shortdesc" props="unity">Reports the face information processed by the voice driver extension.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="onFaceInfo"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="electron" outputclass="language-typescript">onFaceInfo?(outFaceInfo: string): void;</codeblock>
                <codeblock props="rn" outputclass="language-typescript">onFaceInfo?(outFaceInfo: string): void;</codeblock>
                <codeblock props="flutter" outputclass="language-dart">final void Function(String outFaceInfo)? onFaceInfo;</codeblock>
                <codeblock props="unity" outputclass="language-csharp">public virtual bool OnFaceInfo(string outFaceInfo)
        {
            return true;
        }</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title"/>
        <section id="parameters" deliveryTarget="details" props="electron flutter rn unity">
            <title>Parameters</title>
            <parml>
                <plentry props="electron">
                    <pt>outFaceInfo</pt>
                    <pd>Output parameter. A JSON string of the face information processed by the voice driver plugin, containing the following fields:
                        <ul>
                            <li>faces: An array of objects. Each object contains information about a detected face.</li>
                            <li>blendshapes: Object. A set of blendshape coefficients named according to the ARKit standard. Each key-value pair represents a blendshape coefficient. The coefficient is a float in the range [0.0, 1.0].</li>
                            <li>rotation: An array of objects. Head rotation values, including the following key-value pairs with float values in the range [-180.0, 180.0]:
                                <ul>
                                    <li>pitch: Head pitch angle. Positive when looking down, negative when looking up.</li>
                                    <li>yaw: Head yaw angle. Positive when turning left, negative when turning right.</li>
                                    <li>roll: Head roll angle. Positive when tilting right, negative when tilting left.</li>
                                </ul>
                            </li>
                            <li>timestamp: String. The timestamp of the output result in milliseconds.</li>
                        </ul><ph>Example JSON:</ph><ph>{</ph><ph>"faces":[{</ph><ph>"blendshapes":{</ph><ph>"eyeBlinkLeft":0.9, "eyeLookDownLeft":0.0, "eyeLookInLeft":0.0, "eyeLookOutLeft":0.0, "eyeLookUpLeft":0.0,</ph><ph>"eyeSquintLeft":0.0, "eyeWideLeft":0.0, "eyeBlinkRight":0.0, "eyeLookDownRight":0.0, "eyeLookInRight":0.0,</ph><ph>"eyeLookOutRight":0.0, "eyeLookUpRight":0.0, "eyeSquintRight":0.0, "eyeWideRight":0.0, "jawForward":0.0,</ph><ph>"jawLeft":0.0, "jawRight":0.0, "jawOpen":0.0, "mouthClose":0.0, "mouthFunnel":0.0, "mouthPucker":0.0,</ph><ph>"mouthLeft":0.0, "mouthRight":0.0, "mouthSmileLeft":0.0, "mouthSmileRight":0.0, "mouthFrownLeft":0.0,</ph><ph>"mouthFrownRight":0.0, "mouthDimpleLeft":0.0, "mouthDimpleRight":0.0, "mouthStretchLeft":0.0, "mouthStretchRight":0.0,</ph><ph>"mouthRollLower":0.0, "mouthRollUpper":0.0, "mouthShrugLower":0.0, "mouthShrugUpper":0.0, "mouthPressLeft":0.0,</ph><ph>"mouthPressRight":0.0, "mouthLowerDownLeft":0.0, "mouthLowerDownRight":0.0, "mouthUpperUpLeft":0.0, "mouthUpperUpRight":0.0,</ph><ph>"browDownLeft":0.0, "browDownRight":0.0, "browInnerUp":0.0, "browOuterUpLeft":0.0, "browOuterUpRight":0.0,</ph><ph>"cheekPuff":0.0, "cheekSquintLeft":0.0, "cheekSquintRight":0.0, "noseSneerLeft":0.0, "noseSneerRight":0.0,</ph><ph>"tongueOut":0.0</ph><ph>},</ph><ph>"rotation":{"pitch":30.0, "yaw":25.5, "roll":-15.5},</ph><ph>}],</ph><ph>"timestamp":"654879876546"</ph><ph>}</ph></pd>
                </plentry>
                <plentry props="rn">
                    <pt>outFaceInfo</pt>
                    <pd>Output parameter. A JSON string of face information processed by the voice driver extension, containing the following fields:
                        <ul>
                            <li>faces: Array of objects. Contains detected face information, with each object representing one face.</li>
                            <li>blendshapes: Object. Blend shape coefficients conforming to the ARKit standard. Each key-value pair represents a blendshape coefficient as a float in the range [0.0, 1.0].</li>
                            <li>rotation: Array of objects. Head rotation angles, including the following key-value pairs with float values in the range [-180.0, 180.0]:
                                <ul>
                                    <li>pitch: Head tilt angle. Positive when looking down, negative when looking up.</li>
                                    <li>yaw: Horizontal head rotation. Positive when turning left, negative when turning right.</li>
                                    <li>roll: Vertical head rotation. Positive when tilting right, negative when tilting left.</li>
                                </ul>
                            </li>
                            <li>timestamp: String. Timestamp of the output result in milliseconds.</li>
                        </ul><ph>Example JSON:</ph><ph>{</ph><ph>"faces":[{</ph><ph>"blendshapes":{</ph><ph>"eyeBlinkLeft":0.9, "eyeLookDownLeft":0.0, "eyeLookInLeft":0.0, "eyeLookOutLeft":0.0, "eyeLookUpLeft":0.0,</ph><ph>"eyeSquintLeft":0.0, "eyeWideLeft":0.0, "eyeBlinkRight":0.0, "eyeLookDownRight":0.0, "eyeLookInRight":0.0,</ph><ph>"eyeLookOutRight":0.0, "eyeLookUpRight":0.0, "eyeSquintRight":0.0, "eyeWideRight":0.0, "jawForward":0.0,</ph><ph>"jawLeft":0.0, "jawRight":0.0, "jawOpen":0.0, "mouthClose":0.0, "mouthFunnel":0.0, "mouthPucker":0.0,</ph><ph>"mouthLeft":0.0, "mouthRight":0.0, "mouthSmileLeft":0.0, "mouthSmileRight":0.0, "mouthFrownLeft":0.0,</ph><ph>"mouthFrownRight":0.0, "mouthDimpleLeft":0.0, "mouthDimpleRight":0.0, "mouthStretchLeft":0.0, "mouthStretchRight":0.0,</ph><ph>"mouthRollLower":0.0, "mouthRollUpper":0.0, "mouthShrugLower":0.0, "mouthShrugUpper":0.0, "mouthPressLeft":0.0,</ph><ph>"mouthPressRight":0.0, "mouthLowerDownLeft":0.0, "mouthLowerDownRight":0.0, "mouthUpperUpLeft":0.0, "mouthUpperUpRight":0.0,</ph><ph>"browDownLeft":0.0, "browDownRight":0.0, "browInnerUp":0.0, "browOuterUpLeft":0.0, "browOuterUpRight":0.0,</ph><ph>"cheekPuff":0.0, "cheekSquintLeft":0.0, "cheekSquintRight":0.0, "noseSneerLeft":0.0, "noseSneerRight":0.0,</ph><ph>"tongueOut":0.0</ph><ph>},</ph><ph>"rotation":{"pitch":30.0, "yaw":25.5, "roll":-15.5},</ph><ph>}],</ph><ph>"timestamp":"654879876546"</ph><ph>}</ph></pd>
                </plentry>
                <plentry props="flutter">
                    <pt>outFaceInfo</pt>
                    <pd>Output parameter. A JSON string of face information processed by the voice driver plugin, containing the following fields:
                        <ul>
                            <li>faces: Array of objects. Contains information of detected faces, each face corresponds to one object.</li>
                            <li>blendshapes: Object. Blend shape coefficient set, named according to ARkit standards. Each key-value pair represents a blend shape coefficient. The coefficient is a float ranging from [0.0, 1.0].</li>
                            <li>rotation: Array of objects. Head rotation values, including the following three key-value pairs, with float values ranging from [-180.0, 180.0]:
                                <ul>
                                    <li>pitch: Head pitch angle. Positive when looking down, negative when looking up.</li>
                                    <li>yaw: Head yaw angle. Positive when turning left, negative when turning right.</li>
                                    <li>roll: Head roll angle. Positive when tilting right, negative when tilting left.</li>
                                </ul>
                            </li>
                            <li>timestamp: String. Timestamp of the output result in milliseconds.</li>
                        </ul><ph>Example JSON:</ph><ph>{</ph><ph>"faces":[{</ph><ph>"blendshapes":{</ph><ph>"eyeBlinkLeft":0.9, "eyeLookDownLeft":0.0, "eyeLookInLeft":0.0, "eyeLookOutLeft":0.0, "eyeLookUpLeft":0.0,</ph><ph>"eyeSquintLeft":0.0, "eyeWideLeft":0.0, "eyeBlinkRight":0.0, "eyeLookDownRight":0.0, "eyeLookInRight":0.0,</ph><ph>"eyeLookOutRight":0.0, "eyeLookUpRight":0.0, "eyeSquintRight":0.0, "eyeWideRight":0.0, "jawForward":0.0,</ph><ph>"jawLeft":0.0, "jawRight":0.0, "jawOpen":0.0, "mouthClose":0.0, "mouthFunnel":0.0, "mouthPucker":0.0,</ph><ph>"mouthLeft":0.0, "mouthRight":0.0, "mouthSmileLeft":0.0, "mouthSmileRight":0.0, "mouthFrownLeft":0.0,</ph><ph>"mouthFrownRight":0.0, "mouthDimpleLeft":0.0, "mouthDimpleRight":0.0, "mouthStretchLeft":0.0, "mouthStretchRight":0.0,</ph><ph>"mouthRollLower":0.0, "mouthRollUpper":0.0, "mouthShrugLower":0.0, "mouthShrugUpper":0.0, "mouthPressLeft":0.0,</ph><ph>"mouthPressRight":0.0, "mouthLowerDownLeft":0.0, "mouthLowerDownRight":0.0, "mouthUpperUpLeft":0.0, "mouthUpperUpRight":0.0,</ph><ph>"browDownLeft":0.0, "browDownRight":0.0, "browInnerUp":0.0, "browOuterUpLeft":0.0, "browOuterUpRight":0.0,</ph><ph>"cheekPuff":0.0, "cheekSquintLeft":0.0, "cheekSquintRight":0.0, "noseSneerLeft":0.0, "noseSneerRight":0.0,</ph><ph>"tongueOut":0.0</ph><ph>},</ph><ph>"rotation":{"pitch":30.0, "yaw":25.5, "roll":-15.5},</ph><ph>}],</ph><ph>"timestamp":"654879876546"</ph><ph>}</ph></pd>
                </plentry>
                <plentry props="unity">
                    <pt>outFaceInfo</pt>
                    <pd>Output parameter. A JSON string of face information processed by the voice driver extension, containing the following fields:
                        <ul>
                            <li>faces: Array of objects. Contains detected face information, each face corresponds to one object.</li>
                            <li>blendshapes: Object. A set of blend shape coefficients named according to the ARKit standard. The internal key-value pairs represent each blend shape coefficient. The coefficient is a float in the range [0.0, 1.0].</li>
                            <li>rotation: Array of objects. Head rotation values, including the following key-value pairs with float values in the range [-180.0, 180.0]:
                                <ul>
                                    <li>pitch: Head pitch angle. Positive when looking down, negative when looking up.</li>
                                    <li>yaw: Head yaw angle. Positive when turning left, negative when turning right.</li>
                                    <li>roll: Head roll angle. Positive when tilting right, negative when tilting left.</li>
                                </ul>
                            </li>
                            <li>timestamp: String. Timestamp of the output result in milliseconds.</li>
                        </ul><ph>Example JSON:</ph><ph>{</ph><ph>"faces":[{</ph><ph>"blendshapes":{</ph><ph>"eyeBlinkLeft":0.9, "eyeLookDownLeft":0.0, "eyeLookInLeft":0.0, "eyeLookOutLeft":0.0, "eyeLookUpLeft":0.0,</ph><ph>"eyeSquintLeft":0.0, "eyeWideLeft":0.0, "eyeBlinkRight":0.0, "eyeLookDownRight":0.0, "eyeLookInRight":0.0,</ph><ph>"eyeLookOutRight":0.0, "eyeLookUpRight":0.0, "eyeSquintRight":0.0, "eyeWideRight":0.0, "jawForward":0.0,</ph><ph>"jawLeft":0.0, "jawRight":0.0, "jawOpen":0.0, "mouthClose":0.0, "mouthFunnel":0.0, "mouthPucker":0.0,</ph><ph>"mouthLeft":0.0, "mouthRight":0.0, "mouthSmileLeft":0.0, "mouthSmileRight":0.0, "mouthFrownLeft":0.0,</ph><ph>"mouthFrownRight":0.0, "mouthDimpleLeft":0.0, "mouthDimpleRight":0.0, "mouthStretchLeft":0.0, "mouthStretchRight":0.0,</ph><ph>"mouthRollLower":0.0, "mouthRollUpper":0.0, "mouthShrugLower":0.0, "mouthShrugUpper":0.0, "mouthPressLeft":0.0,</ph><ph>"mouthPressRight":0.0, "mouthLowerDownLeft":0.0, "mouthLowerDownRight":0.0, "mouthUpperUpLeft":0.0, "mouthUpperUpRight":0.0,</ph><ph>"browDownLeft":0.0, "browDownRight":0.0, "browInnerUp":0.0, "browOuterUpLeft":0.0, "browOuterUpRight":0.0,</ph><ph>"cheekPuff":0.0, "cheekSquintLeft":0.0, "cheekSquintRight":0.0, "noseSneerLeft":0.0, "noseSneerRight":0.0,</ph><ph>"tongueOut":0.0</ph><ph>},</ph><ph>"rotation":{"pitch":30.0, "yaw":25.5, "roll":-15.5},</ph><ph>}],</ph><ph>"timestamp":"654879876546"</ph><ph>}</ph></pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="electron flutter rn unity">
            <title>Return Values</title>
            <p props="electron">
                <ul>
                    <li><xref keyref="true"/>: Successfully parsed the face information JSON.</li>
                    <li><xref keyref="false"/>: Failed to parse the face information JSON.</li>
                </ul>
            </p>
            <p props="rn">
                <ul>
                    <li><xref keyref="true"/>: Face info JSON parsed successfully.</li>
                    <li><xref keyref="false"/>: Failed to parse face info JSON.</li>
                </ul>
            </p>
            <p props="flutter">
                <ul>
                    <li><xref keyref="true"/>: Face information JSON parsed successfully.</li>
                    <li><xref keyref="false"/>: Face information JSON parsing failed.</li>
                </ul>
            </p>
            <p props="unity">
                <ul>
                    <li><xref keyref="true"/>: Successfully parsed the face info JSON.</li>
                    <li><xref keyref="false"/>: Failed to parse the face info JSON.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>