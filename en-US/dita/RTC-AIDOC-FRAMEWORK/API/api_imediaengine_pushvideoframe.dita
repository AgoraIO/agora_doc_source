<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_imediaengine_pushvideoframe">
    <title><ph keyref="pushVideoFrame"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="electron">Publishes external raw video frames to the channel through a custom video track.</ph><ph id="shortdesc" props="rn">Publishes an external raw video frame to the channel through a custom video track.</ph><ph id="shortdesc" props="flutter">Publishes external raw video frames to the channel through a custom video track.</ph><ph id="shortdesc" props="unity">Publishes external raw video frames to the channel through a custom video track.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="pushVideoFrame"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="electron" outputclass="language-typescript">abstract pushVideoFrame(
    frame: ExternalVideoFrame,
    videoTrackId?: number
  ): number;</codeblock>
                <codeblock props="rn" outputclass="language-typescript">abstract pushVideoFrame(
    frame: ExternalVideoFrame,
    videoTrackId?: number
  ): number;</codeblock>
                <codeblock props="flutter" outputclass="language-dart">Future&lt;void&gt; pushVideoFrame(
    {required ExternalVideoFrame frame, int videoTrackId = 0});</codeblock>
                <codeblock props="unity" outputclass="language-csharp">public abstract int PushVideoFrame(ExternalVideoFrame frame, uint videoTrackId = 0);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="electron">When you need to publish a custom captured video in the channel, follow these steps:
                <ol>
                    <li>Call <xref keyref="createCustomVideoTrack"/> to create a video track and get the video track ID.</li>
                    <li>When calling <xref keyref="joinChannel2"/> to join the channel, set <codeph>customVideoTrackId</codeph> in <xref keyref="ChannelMediaOptions"/> to the video track ID you want to publish, and set <codeph>publishCustomVideoTrack</codeph> to <xref keyref="true"/>.</li>
                    <li>Call this method and specify <codeph>videoTrackId</codeph> as the video track ID from step 2 to publish the corresponding custom video source in the channel.</li>
                </ol>
            </p>
            <p props="rn">When you need to publish a custom captured video in the channel, refer to the following steps:
                <ol>
                    <li>Call the <xref keyref="createCustomVideoTrack"/> method to create a video track and obtain the video track ID.</li>
                    <li>When calling <xref keyref="joinChannel2"/> to join the channel, set <codeph>customVideoTrackId</codeph> in <xref keyref="ChannelMediaOptions"/> to the video track ID you want to publish, and set <codeph>publishCustomVideoTrack</codeph> to <xref keyref="true"/>.</li>
                    <li>Call this method and specify <codeph>videoTrackId</codeph> as the video track ID specified in step 2 to publish the corresponding custom video source in the channel.</li>
                </ol>
            </p>
            <p props="flutter">When you need to publish custom captured video in a channel, follow these steps:
                <ol>
                    <li>Call the <xref keyref="createCustomVideoTrack"/> method to create a video track and get the video track ID.</li>
                    <li>When calling <xref keyref="joinChannel2"/> to join a channel, set <codeph>customVideoTrackId</codeph> in <xref keyref="ChannelMediaOptions"/> to the video track ID you want to publish and set <codeph>publishCustomVideoTrack</codeph> to <xref keyref="true"/>.</li>
                    <li>Call this method and specify <codeph>videoTrackId</codeph> as the video track ID from step 2 to publish the corresponding custom video source in the channel.</li>
                </ol>
            </p>
            <p props="unity">When you need to publish a custom captured video in the channel, refer to the following steps:
                <ol>
                    <li>Call the <xref keyref="createCustomVideoTrack"/> method to create a video track and get the video track ID.</li>
                    <li>When calling <xref keyref="joinChannel2"/> to join the channel, set <codeph>customVideoTrackId</codeph> in <xref keyref="ChannelMediaOptions"/> to the video track ID you want to publish, and set <codeph>publishCustomVideoTrack</codeph> to <xref keyref="true"/>.</li>
                    <li>Call this method and specify <codeph>videoTrackId</codeph> as the video track ID set in step 2 to publish the corresponding custom video source in the channel.</li>
                </ol>
            </p>
            <note props="electron">After calling this method, even if you stop pushing external video frames to the SDK, the custom captured video stream will still be counted in video duration usage and incur charges. Agora recommends taking appropriate actions based on your actual needs to avoid such video billing:
                <ul>
                    <li>If you no longer need to capture external video data, call <xref keyref="destroyCustomVideoTrack"/> to destroy the custom captured video track.</li>
                    <li>If you only want to use the captured external video data for local preview and not publish it in the channel, call <xref keyref="muteLocalVideoStream"/> to stop sending the video stream, or call <xref keyref="updateChannelMediaOptions"/> and set <codeph>publishCustomVideoTrack</codeph> to <xref keyref="false"/>.</li>
                </ul>
            </note>
            <note props="rn">After calling this method, even if you stop pushing external video frames to the SDK, the custom captured video stream will still be counted in video duration usage and incur charges. Agora recommends taking appropriate measures based on your actual situation to avoid such charges:
                <ul>
                    <li>If you no longer need to capture external video data, call <xref keyref="destroyCustomVideoTrack"/> to destroy the custom captured video track.</li>
                    <li>If you only want to use the captured external video data for local preview and not publish it in the channel, call <xref keyref="muteLocalVideoStream"/> to stop sending the video stream, or call <xref keyref="updateChannelMediaOptions"/> and set <codeph>publishCustomVideoTrack</codeph> to <xref keyref="false"/>.</li>
                </ul>
            </note>
            <note props="flutter">After calling this method, even if you stop pushing external video frames to the SDK, the custom captured video stream will still be counted in the video duration usage and incur charges. Agora recommends taking appropriate measures based on your actual situation to avoid such video billing:
                <ul>
                    <li>If you no longer need to capture external video data, call <xref keyref="destroyCustomVideoTrack"/> to destroy the custom captured video track.</li>
                    <li>If you only want to use the captured external video data for local preview and not publish it in the channel, call <xref keyref="muteLocalVideoStream"/> to stop sending the video stream, or call <xref keyref="updateChannelMediaOptions"/> and set <codeph>publishCustomVideoTrack</codeph> to <xref keyref="false"/>.</li>
                </ul>
            </note>
            <note props="unity">After calling this method, even if you stop pushing external video frames to the SDK, the custom captured video stream will still be counted in video usage duration and incur charges. Agora recommends taking appropriate measures based on your actual situation to avoid such video billing:
                <ul>
                    <li>If you no longer need to capture external video data, call <xref keyref="destroyCustomVideoTrack"/> to destroy the custom captured video track.</li>
                    <li>If you only want to use the captured external video data for local preview and not publish it in the channel, call <xref keyref="muteLocalVideoStream"/> to stop sending the video stream, or call <xref keyref="updateChannelMediaOptions"/> and set <codeph>publishCustomVideoTrack</codeph> to <xref keyref="false"/>.</li>
                </ul>
            </note>
        </section>
        <section id="parameters" deliveryTarget="details" props="electron flutter rn unity">
            <title>Parameters</title>
            <parml>
                <plentry props="electron">
                    <pt>frame</pt>
                    <pd>The video frame to be pushed. See <xref keyref="ExternalVideoFrame"/>.</pd>
                </plentry>
                <plentry props="electron">
                    <pt>videoTrackId</pt>
                    <pd>The video track ID returned by the <xref keyref="createCustomVideoTrack"/> method.
                        <note>If you only need to push a single external video stream, set <codeph>videoTrackId</codeph> to 0.</note>
                    </pd>
                </plentry>
                <plentry props="rn">
                    <pt>frame</pt>
                    <pd>The video frame to be pushed. See <xref keyref="ExternalVideoFrame"/>.</pd>
                </plentry>
                <plentry props="rn">
                    <pt>videoTrackId</pt>
                    <pd>The video track ID returned by the <xref keyref="createCustomVideoTrack"/> method.
                        <note>If you only need to push one external video stream, set <codeph>videoTrackId</codeph> to 0.</note>
                    </pd>
                </plentry>
                <plentry props="flutter">
                    <pt>frame</pt>
                    <pd>The video frame to be pushed. See <xref keyref="ExternalVideoFrame"/>.</pd>
                </plentry>
                <plentry props="flutter">
                    <pt>videoTrackId</pt>
                    <pd>The video track ID returned by the <xref keyref="createCustomVideoTrack"/> method.
                        <note>If you only need to push one external video stream, set <codeph>videoTrackId</codeph> to 0.</note>
                    </pd>
                </plentry>
                <plentry props="unity">
                    <pt>frame</pt>
                    <pd>The video frame to be pushed. See <xref keyref="ExternalVideoFrame"/>.</pd>
                </plentry>
                <plentry props="unity">
                    <pt>videoTrackId</pt>
                    <pd>The video track ID returned by the <xref keyref="createCustomVideoTrack"/> method.
                        <note>If you only need to push one external video stream, you can set <codeph>videoTrackId</codeph> to 0.</note>
                    </pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="electron flutter rn unity">
            <title>Return Values</title>
            <p props="electron">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
            <p props="rn">
                <ul>
                    <li>0: The method call succeeds.</li>
                    <li>&lt; 0: The method call fails. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
            <p props="flutter">When the method call succeeds, there is no return value; when fails, the <xref keyref="AgoraRtcException"/> exception is thrown. You need to catch the exception and handle it accordingly. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</p>
            <p props="unity">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>