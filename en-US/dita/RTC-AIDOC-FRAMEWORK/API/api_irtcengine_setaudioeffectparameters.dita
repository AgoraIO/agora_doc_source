<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_setaudioeffectparameters">
    <title><ph keyref="setAudioEffectParameters"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="electron">Sets parameters for SDK preset voice effects.</ph><ph id="shortdesc" props="rn">Sets parameters for SDK preset voice effects.</ph><ph id="shortdesc" props="flutter">Sets the parameters for SDK preset voice effects.</ph><ph id="shortdesc" props="unity">Sets parameters for SDK preset voice effects.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="setAudioEffectParameters"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="electron" outputclass="language-typescript">abstract setAudioEffectParameters(preset: AudioEffectPreset, param1: number, param2: number): number;</codeblock>
                <codeblock props="rn" outputclass="language-typescript">abstract setAudioEffectParameters(
  preset: AudioEffectPreset,
  param1: number,
  param2: number
): number;</codeblock>
                <codeblock props="flutter" outputclass="language-dart">Future&lt;void&gt; setAudioEffectParameters(
  {required AudioEffectPreset preset,
  required int param1,
  required int param2});</codeblock>
                <codeblock props="unity" outputclass="language-csharp">public abstract int SetAudioEffectParameters(AUDIO_EFFECT_PRESET preset, int param1, int param2);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="electron">Call this method to configure the following for local stream publishing users:
                <ul>
                    <li>3D voice effect: Set the surround cycle of the 3D voice effect.</li>
                    <li>Pitch correction effect: Set the base scale and main pitch of the pitch correction effect. To allow users to adjust the pitch correction effect themselves, it is recommended to bind the base scale and main pitch configuration options to UI elements in your application.</li>
                </ul><ph>After setting, all users in the channel can hear the effect.</ph><ph>To achieve better voice effects, it is recommended to do the following before calling this method:</ph>
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality, i.e., <codeph>AudioScenarioGameStreaming</codeph>(3).</li>
                    <li>Call <xref keyref="setAudioProfile"/> and set <codeph>profile</codeph> to <codeph>AudioProfileMusicHighQuality</codeph>(4) or <codeph>AudioProfileMusicHighQualityStereo</codeph>(5).</li>
                </ul>
            </p>
            <p props="rn">You can call this method to configure the following for local stream users:
                <ul>
                    <li>3D voice effect: Set the surround cycle for the 3D voice effect.</li>
                    <li>Pitch correction effect: Set the base scale and tonic pitch. To allow users to adjust pitch correction effects easily, it is recommended to bind the base scale and tonic pitch settings to your application's UI elements.</li>
                </ul><ph>After the settings are applied, all users in the channel can hear the effect.</ph><ph>To achieve better voice effects, it is recommended to:</ph>
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality, i.e., <codeph>AudioScenarioGameStreaming</codeph>(3).</li>
                    <li>Call <xref keyref="setAudioProfile"/> to set <codeph>profile</codeph> to <codeph>AudioProfileMusicHighQuality</codeph>(4) or <codeph>AudioProfileMusicHighQualityStereo</codeph>(5).</li>
                </ul>
            </p>
            <p props="flutter">You can call this method to configure the following settings for the local user who is sending the stream:
                <ul>
                    <li>3D voice effect: Set the surround cycle of the 3D voice effect.</li>
                    <li>Pitch correction effect: Set the base scale and main pitch of the pitch correction effect. To allow users to adjust the pitch correction effect themselves, it is recommended to bind the base scale and main pitch configuration options to the UI elements of your app.</li>
                </ul><ph>After setting, all users in the channel can hear the effect.</ph><ph>To achieve better voice effects, it is recommended that you perform the following operations before calling this method:</ph>
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality, i.e., <codeph>audioScenarioGameStreaming</codeph>(3).</li>
                    <li>Call <xref keyref="setAudioProfile"/> to set the <codeph>profile</codeph> to <codeph>audioProfileMusicHighQuality</codeph>(4) or <codeph>audioProfileMusicHighQualityStereo</codeph>(5).</li>
                </ul>
            </p>
            <p props="unity">Call this method to configure the following for local sending users:
                <ul>
                    <li>3D voice effect: Set the surround cycle for the 3D voice effect.</li>
                    <li>Pitch correction effect: Set the base scale and main pitch. To allow users to adjust pitch correction easily, it is recommended to bind the base scale and main pitch options to your app's UI elements.</li>
                </ul><ph>After setting, all users in the channel can hear the effect.</ph><ph>To achieve better voice effects, it is recommended to do the following before calling this method:</ph>
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality, i.e., <codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph>(3).</li>
                    <li>Call <xref keyref="setAudioProfile2"/> and set <codeph>profile</codeph> to <codeph>AUDIO_PROFILE_MUSIC_HIGH_QUALITY</codeph>(4) or <codeph>AUDIO_PROFILE_MUSIC_HIGH_QUALITY_STEREO</codeph>(5).</li>
                </ul>
            </p>
            <note props="electron">
                <ul>
                    <li>This method can be called before or after joining a channel.</li>
                    <li>Do not set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile"/> to <codeph>AudioProfileSpeechStandard</codeph>(1) or <codeph>AudioProfileIot</codeph>(6), otherwise this method will not take effect.</li>
                    <li>This method is best suited for voice processing. It is not recommended for audio data containing music.</li>
                    <li>After calling <xref keyref="setAudioEffectParameters"/>, avoid calling the following methods, as they will override the effect set by <xref keyref="setAudioEffectParameters"/>:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setVoiceConversionPreset"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <codeph>libagora_audio_beauty_extension.dll</codeph>. Deleting this library will cause the feature to fail to work properly.</li>
                </ul>
            </note>
            <note props="rn">
                <ul>
                    <li>This method can be called before or after joining the channel.</li>
                    <li>Do not set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile"/> to <codeph>AudioProfileSpeechStandard</codeph>(1) or <codeph>AudioProfileIot</codeph>(6), otherwise this method will not take effect.</li>
                    <li>This method works best for voice processing and is not recommended for audio data containing music.</li>
                    <li>After calling <xref keyref="setAudioEffectParameters"/>, avoid calling the following methods as they will override the effects set by <xref keyref="setAudioEffectParameters"/>:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setVoiceConversionPreset"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <codeph>libagora_audio_beauty_extension.dll</codeph>. Removing the dynamic library will cause the feature to fail.</li>
                </ul>
            </note>
            <note props="flutter">
                <ul>
                    <li>This method can be called before and after joining a channel.</li>
                    <li>Do not set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile"/> to <codeph>audioProfileSpeechStandard</codeph>(1) or <codeph>audioProfileIot</codeph>(6), otherwise this method will not take effect.</li>
                    <li>This method provides the best processing effect for voice. It is not recommended to use this method to process audio data that contains music.</li>
                    <li>After calling <xref keyref="setAudioEffectParameters"/>, it is not recommended to call the following methods, otherwise the effect set by <xref keyref="setAudioEffectParameters"/> will be overridden:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setVoiceConversionPreset"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <codeph>libagora_audio_beauty_extension.dll</codeph>. Deleting this library will cause the feature to not function properly.</li>
                </ul>
            </note>
            <note props="unity">
                <ul>
                    <li>This method can be called before or after joining a channel.</li>
                    <li>Do not set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile2"/> to <codeph>AUDIO_PROFILE_SPEECH_STANDARD</codeph>(1) or <codeph>AUDIO_PROFILE_IOT</codeph>(6), otherwise this method will not take effect.</li>
                    <li>This method is best suited for processing voice and is not recommended for processing audio that contains music.</li>
                    <li>After calling <xref keyref="setAudioEffectParameters"/>, do not call the following methods, or the effect set by <xref keyref="setAudioEffectParameters"/> will be overridden:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setVoiceConversionPreset"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <codeph>libagora_audio_beauty_extension.dll</codeph>. If the library is removed, the feature cannot be enabled properly.</li>
                </ul>
            </note>
        </section>
        <section id="parameters" deliveryTarget="details" props="electron flutter rn unity">
            <title>Parameters</title>
            <parml>
                <plentry props="electron">
                    <pt>preset</pt>
                    <pd>SDK preset effects. Supports the following settings:
                        <ul>
                            <li><codeph>RoomAcoustics3dVoice</codeph>: 3D voice effect.
                                <ul>
                                    <li>Before using this enum, you need to set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile"/> to <codeph>AudioProfileMusicStandardStereo</codeph>(3) or <codeph>AudioProfileMusicHighQualityStereo</codeph>(5), otherwise the setting is invalid.</li>
                                    <li>After enabling 3D voice, users need to use audio playback devices that support stereo to hear the expected effect.</li>
                                </ul>
                            </li>
                            <li><codeph>PitchCorrection</codeph>: Pitch correction effect.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="electron">
                    <pt>param1</pt>
                    <pd>
                        <ul>
                            <li>If <codeph>preset</codeph> is set to <codeph>RoomAcoustics3dVoice</codeph>, then <codeph>param1</codeph> indicates the surround cycle of the 3D voice effect. Range: [1,60], in seconds. Default is 10, meaning the voice surrounds 360 degrees in 10 seconds.</li>
                            <li>If <codeph>preset</codeph> is set to <codeph>PitchCorrection</codeph>, then <codeph>param1</codeph> indicates the base scale of the pitch correction effect:
                                <ul>
                                    <li><codeph>1</codeph>: (Default) Natural major scale.</li>
                                    <li><codeph>2</codeph>: Natural minor scale.</li>
                                    <li><codeph>3</codeph>: Japanese minor scale.</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="electron">
                    <pt>param2</pt>
                    <pd>
                        <ul>
                            <li>If <codeph>preset</codeph> is set to <codeph>RoomAcoustics3dVoice</codeph>, you need to set <codeph>param2</codeph> to <codeph>0</codeph>.</li>
                            <li>If <codeph>preset</codeph> is set to <codeph>PitchCorrection</codeph>, then <codeph>param2</codeph> indicates the main pitch of the pitch correction effect:
                                <ul>
                                    <li><codeph>1</codeph>: A</li>
                                    <li><codeph>2</codeph>: A#</li>
                                    <li><codeph>3</codeph>: B</li>
                                    <li><codeph>4</codeph>: (Default) C</li>
                                    <li><codeph>5</codeph>: C#</li>
                                    <li><codeph>6</codeph>: D</li>
                                    <li><codeph>7</codeph>: D#</li>
                                    <li><codeph>8</codeph>: E</li>
                                    <li><codeph>9</codeph>: F</li>
                                    <li><codeph>10</codeph>: F#</li>
                                    <li><codeph>11</codeph>: G</li>
                                    <li><codeph>12</codeph>: G#</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="rn">
                    <pt>preset</pt>
                    <pd>SDK preset audio effects. The following are supported:
                        <ul>
                            <li><codeph>RoomAcoustics3dVoice</codeph>: 3D voice effect.
                                <ul>
                                    <li>Before using this enum, you need to set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile"/> to <codeph>AudioProfileMusicStandardStereo</codeph>(3) or <codeph>AudioProfileMusicHighQualityStereo</codeph>(5), otherwise the enum setting is invalid.</li>
                                    <li>After enabling 3D voice, users must use audio playback devices that support stereo to hear the expected effect.</li>
                                </ul>
                            </li>
                            <li><codeph>PitchCorrection</codeph>: Pitch correction effect.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="rn">
                    <pt>param1</pt>
                    <pd>
                        <ul>
                            <li>If <codeph>preset</codeph> is set to <codeph>RoomAcoustics3dVoice</codeph>, then <codeph>param1</codeph> represents the surround cycle of the 3D voice effect. Value range: [1,60] seconds. Default is 10, which means the voice surrounds 360 degrees in 10 seconds.</li>
                            <li>If <codeph>preset</codeph> is set to <codeph>PitchCorrection</codeph>, then <codeph>param1</codeph> represents the base scale:
                                <ul>
                                    <li><codeph>1</codeph>: (Default) Major natural scale.</li>
                                    <li><codeph>2</codeph>: Minor natural scale.</li>
                                    <li><codeph>3</codeph>: Minor pentatonic scale.</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="rn">
                    <pt>param2</pt>
                    <pd>
                        <ul>
                            <li>If <codeph>preset</codeph> is set to <codeph>RoomAcoustics3dVoice</codeph>, set <codeph>param2</codeph> to <codeph>0</codeph>.</li>
                            <li>If <codeph>preset</codeph> is set to <codeph>PitchCorrection</codeph>, then <codeph>param2</codeph> represents the tonic pitch:
                                <ul>
                                    <li><codeph>1</codeph>: A</li>
                                    <li><codeph>2</codeph>: A#</li>
                                    <li><codeph>3</codeph>: B</li>
                                    <li><codeph>4</codeph>: (Default) C</li>
                                    <li><codeph>5</codeph>: C#</li>
                                    <li><codeph>6</codeph>: D</li>
                                    <li><codeph>7</codeph>: D#</li>
                                    <li><codeph>8</codeph>: E</li>
                                    <li><codeph>9</codeph>: F</li>
                                    <li><codeph>10</codeph>: F#</li>
                                    <li><codeph>11</codeph>: G</li>
                                    <li><codeph>12</codeph>: G#</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="flutter">
                    <pt>preset</pt>
                    <pd>SDK preset effects. The following settings are supported:
                        <ul>
                            <li><codeph>roomAcoustics3dVoice</codeph>, 3D voice effect.
                                <ul>
                                    <li>Before using this enum, you need to set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile"/> to <codeph>audioProfileMusicStandardStereo</codeph>(3) or <codeph>audioProfileMusicHighQualityStereo</codeph>(5), otherwise this enum setting is invalid.</li>
                                    <li>After enabling 3D voice, users need to use audio playback devices that support stereo to hear the expected effect.</li>
                                </ul>
                            </li>
                            <li><codeph>pitchCorrection</codeph>, pitch correction effect.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="flutter">
                    <pt>param1</pt>
                    <pd>
                        <ul>
                            <li>If <codeph>preset</codeph> is set to <codeph>roomAcoustics3dVoice</codeph>, then <codeph>param1</codeph> indicates the surround cycle of the 3D voice effect. The range is [1,60] in seconds. The default value is 10, meaning the voice surrounds 360 degrees in 10 seconds.</li>
                            <li>If <codeph>preset</codeph> is set to <codeph>pitchCorrection</codeph>, then <codeph>param1</codeph> indicates the base scale of the pitch correction effect:
                                <ul>
                                    <li><codeph>1</codeph>: (Default) Natural major.</li>
                                    <li><codeph>2</codeph>: Natural minor.</li>
                                    <li><codeph>3</codeph>: Japanese scale.</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="flutter">
                    <pt>param2</pt>
                    <pd>
                        <ul>
                            <li>If <codeph>preset</codeph> is set to <codeph>roomAcoustics3dVoice</codeph>, you need to set <codeph>param2</codeph> to <codeph>0</codeph>.</li>
                            <li>If <codeph>preset</codeph> is set to <codeph>pitchCorrection</codeph>, then <codeph>param2</codeph> indicates the main pitch of the pitch correction effect:
                                <ul>
                                    <li><codeph>1</codeph>: A</li>
                                    <li><codeph>2</codeph>: A#</li>
                                    <li><codeph>3</codeph>: B</li>
                                    <li><codeph>4</codeph>: (Default) C</li>
                                    <li><codeph>5</codeph>: C#</li>
                                    <li><codeph>6</codeph>: D</li>
                                    <li><codeph>7</codeph>: D#</li>
                                    <li><codeph>8</codeph>: E</li>
                                    <li><codeph>9</codeph>: F</li>
                                    <li><codeph>10</codeph>: F#</li>
                                    <li><codeph>11</codeph>: G</li>
                                    <li><codeph>12</codeph>: G#</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="unity">
                    <pt>preset</pt>
                    <pd>SDK preset effects. Supported values:
                        <ul>
                            <li><codeph>ROOM_ACOUSTICS_3D_VOICE</codeph>: 3D voice effect.
                                <ul>
                                    <li>Before using this enum, you must set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile2"/> to <codeph>AUDIO_PROFILE_MUSIC_STANDARD_STEREO</codeph>(3) or <codeph>AUDIO_PROFILE_MUSIC_HIGH_QUALITY_STEREO</codeph>(5), otherwise the setting is invalid.</li>
                                    <li>To hear the expected effect, users must use audio playback devices that support stereo.</li>
                                </ul>
                            </li>
                            <li><codeph>PITCH_CORRECTION</codeph>: Pitch correction effect.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="unity">
                    <pt>param1</pt>
                    <pd>
                        <ul>
                            <li>If <codeph>preset</codeph> is set to <codeph>ROOM_ACOUSTICS_3D_VOICE</codeph>, then <codeph>param1</codeph> specifies the surround cycle in seconds. Value range: [1,60]. Default is 10, meaning the voice surrounds 360 degrees in 10 seconds.</li>
                            <li>If <codeph>preset</codeph> is set to <codeph>PITCH_CORRECTION</codeph>, then <codeph>param1</codeph> specifies the base scale:
                                <ul>
                                    <li><codeph>1</codeph>: (Default) Major scale.</li>
                                    <li><codeph>2</codeph>: Minor scale.</li>
                                    <li><codeph>3</codeph>: Japanese scale.</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="unity">
                    <pt>param2</pt>
                    <pd>
                        <ul>
                            <li>If <codeph>preset</codeph> is set to <codeph>ROOM_ACOUSTICS_3D_VOICE</codeph>, set <codeph>param2</codeph> to <codeph>0</codeph>.</li>
                            <li>If <codeph>preset</codeph> is set to <codeph>PITCH_CORRECTION</codeph>, then <codeph>param2</codeph> specifies the main pitch:
                                <ul>
                                    <li><codeph>1</codeph>: A</li>
                                    <li><codeph>2</codeph>: A#</li>
                                    <li><codeph>3</codeph>: B</li>
                                    <li><codeph>4</codeph>: (Default) C</li>
                                    <li><codeph>5</codeph>: C#</li>
                                    <li><codeph>6</codeph>: D</li>
                                    <li><codeph>7</codeph>: D#</li>
                                    <li><codeph>8</codeph>: E</li>
                                    <li><codeph>9</codeph>: F</li>
                                    <li><codeph>10</codeph>: F#</li>
                                    <li><codeph>11</codeph>: G</li>
                                    <li><codeph>12</codeph>: G#</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="electron flutter rn unity">
            <title>Return Values</title>
            <p props="electron">
                <ul>
                    <li>0: The method call succeeds.</li>
                    <li>&lt; 0: The method call fails. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
            <p props="rn">
                <ul>
                    <li>0: The method call succeeds.</li>
                    <li>&lt; 0: The method call fails. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
            <p props="flutter">When the method call succeeds, there is no return value; when fails, the <xref keyref="AgoraRtcException"/> exception is thrown. You need to catch the exception and handle it accordingly. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</p>
            <p props="unity">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>