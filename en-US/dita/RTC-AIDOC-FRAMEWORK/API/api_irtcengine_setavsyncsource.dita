<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_setavsyncsource">
    <title><ph keyref="setAVSyncSource"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="electron">Sets audio-video synchronization on the sending side.</ph><ph id="shortdesc" props="rn">Sets audio-video sync for the sender.</ph><ph id="shortdesc" props="flutter">Sets audio-video sync for the stream sender.</ph><ph id="shortdesc" props="unity">Sets audio-video synchronization at the sending end.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="setAVSyncSource"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="electron" outputclass="language-typescript">abstract setAVSyncSource(channelId: string, uid: number): number;</codeblock>
                <codeblock props="rn" outputclass="language-typescript">abstract setAVSyncSource(channelId: string, uid: number): number;</codeblock>
                <codeblock props="flutter" outputclass="language-dart">Future&lt;void&gt; setAVSyncSource({required String channelId, required int uid});</codeblock>
                <codeblock props="unity" outputclass="language-csharp">public abstract int SetAVSyncSource(string channelId, uint uid);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="electron">A user may use two devices to send audio and video streams separately. To ensure audio and video are synchronized at the receiving end, you can call this method on the video sending device and pass in the channel name and user ID of the audio sending device. The SDK will use the timestamp of the audio stream as the reference to automatically adjust the video stream, ensuring synchronization even if the uplink network conditions of the two sending devices differ (e.g., one uses Wi-Fi and the other uses 4G).</p>
            <p props="rn">A user may use two devices to send audio and video streams separately. To ensure that the audio and video received are synchronized, you can call this method on the video sender side and pass in the channel name and user ID of the audio sender. The SDK will use the timestamp of the audio stream as the reference to automatically adjust the video stream, ensuring synchronization even if the uplink network conditions of the two senders differ (e.g., Wi-Fi vs. 4G).</p>
            <p props="flutter">A user may use two devices to send audio and video streams separately. To ensure the audio and video are synchronized at the receiving end, you can call this method on the video sending device and pass in the channel name and user ID of the audio sending device. The SDK will use the timestamp of the audio stream as the reference to automatically adjust the video stream, ensuring audio-video sync even when the two sending devices are on different uplink networks (e.g., Wi-Fi and 4G).</p>
            <p props="unity">The same user may use two devices to send audio and video streams separately. To ensure audio and video are synchronized at the receiving end, you can call this method on the video sending device and pass in the channel name and user ID of the audio sending device. The SDK will use the timestamp of the sent audio stream as the reference to automatically adjust the video stream, ensuring audio and video are synchronized even when the two sending devices have different uplink network conditions (e.g., using Wi-Fi and 4G respectively).</p>
            <note props="electron">It is recommended to call this method before joining a channel.</note>
            <note props="rn">It is recommended to call this method before joining the channel.</note>
            <note props="flutter">It is recommended to call this method before joining the channel.</note>
            <note props="unity">It is recommended to call this method before joining the channel.</note>
        </section>
        <section id="parameters" deliveryTarget="details" props="electron flutter rn unity">
            <title>Parameters</title>
            <parml>
                <plentry props="electron">
                    <pt>channelId</pt>
                    <pd>The channel name of the audio sending device.</pd>
                </plentry>
                <plentry props="electron">
                    <pt>uid</pt>
                    <pd>The user ID of the audio sending device.</pd>
                </plentry>
                <plentry props="rn">
                    <pt>channelId</pt>
                    <pd>Channel name of the audio sender.</pd>
                </plentry>
                <plentry props="rn">
                    <pt>uid</pt>
                    <pd>User ID of the audio sender.</pd>
                </plentry>
                <plentry props="flutter">
                    <pt>channelId</pt>
                    <pd>The channel name of the audio sender.</pd>
                </plentry>
                <plentry props="flutter">
                    <pt>uid</pt>
                    <pd>The user ID of the audio sender.</pd>
                </plentry>
                <plentry props="unity">
                    <pt>channelId</pt>
                    <pd>The channel name of the audio sending end.</pd>
                </plentry>
                <plentry props="unity">
                    <pt>uid</pt>
                    <pd>The user ID of the audio sending end.</pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="electron flutter rn unity">
            <title>Return Values</title>
            <p props="electron">
                <ul>
                    <li>0: The method call succeeds.</li>
                    <li>&lt; 0: The method call fails. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and troubleshooting.</li>
                </ul>
            </p>
            <p props="rn">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and troubleshooting.</li>
                </ul>
            </p>
            <p props="flutter">When the method call succeeds, there is no return value; when fails, the <xref keyref="AgoraRtcException"/> exception is thrown. You need to catch the exception and handle it accordingly. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</p>
            <p props="unity">
                <ul>
                    <li>0: The method call succeeds.</li>
                    <li>&lt; 0: The method call fails. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>