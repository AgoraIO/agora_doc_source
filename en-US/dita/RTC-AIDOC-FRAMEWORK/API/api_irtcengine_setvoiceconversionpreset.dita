<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_setvoiceconversionpreset">
    <title><ph keyref="setVoiceConversionPreset"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="electron">Sets a preset voice conversion effect.</ph><ph id="shortdesc" props="rn">Sets a predefined voice conversion effect.</ph><ph id="shortdesc" props="flutter">Sets the preset voice conversion effect.</ph><ph id="shortdesc" props="unity">Sets a preset voice conversion effect.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="setVoiceConversionPreset"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="electron" outputclass="language-typescript">abstract setVoiceConversionPreset(preset: VoiceConversionPreset): number;</codeblock>
                <codeblock props="rn" outputclass="language-typescript">abstract setVoiceConversionPreset(preset: VoiceConversionPreset): number;</codeblock>
                <codeblock props="flutter" outputclass="language-dart">Future&lt;void&gt; setVoiceConversionPreset(VoiceConversionPreset preset);</codeblock>
                <codeblock props="unity" outputclass="language-csharp">public abstract int SetVoiceConversionPreset(VOICE_CONVERSION_PRESET preset);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="electron">Call this method to set a preset voice conversion effect provided by the SDK for the local user who sends the stream. After the effect is set, all users in the channel can hear the effect. You can set different voice conversion effects for users depending on the scenario.</p>
            <p props="rn">Call this method to set a predefined voice conversion effect for the local user who sends the stream. After the effect is set, all users in the channel can hear it. You can choose different voice conversion effects for different scenarios.</p>
            <p props="flutter">Call this method to set a preset voice conversion effect provided by the SDK for the local user who is sending the stream. After setting the effect, all users in the channel can hear it. You can set different voice conversion effects for users depending on the scenario.</p>
            <p props="unity">Call this method to set a preset voice conversion effect provided by the SDK for the local user who is sending audio. Once set, all users in the channel can hear the effect. You can apply different voice conversion effects depending on the scenario.</p>
            <note props="electron">
                <ul>
                    <li>Do not set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile"/> to <codeph>AudioProfileSpeechStandard</codeph>(1) or <codeph>AudioProfileIot</codeph>(6), otherwise this method does not take effect.</li>
                    <li>This method provides the best result for voice processing. It is not recommended for processing audio that contains music.</li>
                    <li>After calling <xref keyref="setVoiceConversionPreset"/>, do not call the following methods, or the effect set by <xref keyref="setVoiceConversionPreset"/> will be overridden:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setAudioEffectParameters"/></li>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceFormant"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <codeph>libagora_audio_beauty_extension.dll</codeph>. If the library is deleted, this feature cannot be used properly.</li>
                </ul>
            </note>
            <note props="rn">
                <ul>
                    <li>Do not set the <codeph>profile</codeph> parameter in <xref keyref="setAudioProfile"/> to <codeph>AudioProfileSpeechStandard</codeph>(1) or <codeph>AudioProfileIot</codeph>(6), or this method will not take effect.</li>
                    <li>This method works best for voice processing. It is not recommended to use it for audio data that contains music.</li>
                    <li>After calling <xref keyref="setVoiceConversionPreset"/>, it is not recommended to call the following methods, or the effect set by <xref keyref="setVoiceConversionPreset"/> will be overridden:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setAudioEffectParameters"/></li>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceFormant"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <codeph>libagora_audio_beauty_extension.dll</codeph>. If the library is deleted, this feature will not work properly.</li>
                </ul>
            </note>
            <note props="flutter">
                <ul>
                    <li>Do not set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile"/> to <codeph>audioProfileSpeechStandard</codeph>(1) or <codeph>audioProfileIot</codeph>(6), otherwise this method will not take effect.</li>
                    <li>This method provides optimal processing for vocals and is not recommended for audio data containing music.</li>
                    <li>After calling <xref keyref="setVoiceConversionPreset"/>, do not call the following methods, or the effect set by <xref keyref="setVoiceConversionPreset"/> will be overridden:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setAudioEffectParameters"/></li>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceFormant"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <codeph>libagora_audio_beauty_extension.dll</codeph>. If this library is deleted, the feature will not work properly.</li>
                </ul>
            </note>
            <note props="unity">
                <ul>
                    <li>Do not set the <codeph>profile</codeph> parameter of <xref keyref="setAudioProfile2"/> to <codeph>AUDIO_PROFILE_SPEECH_STANDARD</codeph>(1) or <codeph>AUDIO_PROFILE_IOT</codeph>(6), or this method will not take effect.</li>
                    <li>This method provides the best effect for voice. It is not recommended to use it for audio data containing music.</li>
                    <li>After calling <xref keyref="setVoiceConversionPreset"/>, do not call the following methods, or the effect set by <xref keyref="setVoiceConversionPreset"/> will be overridden:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setAudioEffectParameters"/></li>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceFormant"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <codeph>libagora_audio_beauty_extension.dll</codeph>. Deleting this library will cause this feature to fail to work properly.</li>
                </ul>
            </note>
        </section>
        <section id="timing" deliveryTarget="details" props="electron flutter rn unity">
            <title>Timing</title>
            <p props="electron">Can be called before or after joining a channel.
To achieve better voice effects, it is recommended to perform the following operations before calling this method:
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality mode, that is, <codeph>AudioScenarioGameStreaming</codeph>(3).</li>
                    <li>Call <xref keyref="setAudioProfile"/> to set <codeph>profile</codeph> to <codeph>AudioProfileMusicHighQuality</codeph>(4) or <codeph>AudioProfileMusicHighQualityStereo</codeph>(5).</li>
                </ul>
            </p>
            <p props="rn">Can be called before or after joining a channel.
To achieve better voice effects, it is recommended to do the following before calling this method:
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality mode, i.e., <codeph>AudioScenarioGameStreaming</codeph>(3).</li>
                    <li>Call <xref keyref="setAudioProfile"/> and set <codeph>profile</codeph> to <codeph>AudioProfileMusicHighQuality</codeph>(4) or <codeph>AudioProfileMusicHighQualityStereo</codeph>(5).</li>
                </ul>
            </p>
            <p props="flutter">Can be called before or after joining a channel.
To achieve better vocal quality, it is recommended to do the following before calling this method:
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality, i.e., <codeph>audioScenarioGameStreaming</codeph>(3).</li>
                    <li>Call <xref keyref="setAudioProfile"/> to set the <codeph>profile</codeph> to <codeph>audioProfileMusicHighQuality</codeph>(4) or <codeph>audioProfileMusicHighQualityStereo</codeph>(5).</li>
                </ul>
            </p>
            <p props="unity">Can be called before or after joining a channel.
To achieve better voice effects, it is recommended to perform the following operations before calling this method:
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality, i.e., <codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph>(3).</li>
                    <li>Call <xref keyref="setAudioProfile2"/> to set the <codeph>profile</codeph> to <codeph>AUDIO_PROFILE_MUSIC_HIGH_QUALITY</codeph>(4) or <codeph>AUDIO_PROFILE_MUSIC_HIGH_QUALITY_STEREO</codeph>(5).</li>
                </ul>
            </p>
        </section>
        <section id="parameters" deliveryTarget="details" props="electron flutter rn unity">
            <title>Parameters</title>
            <parml>
                <plentry props="electron">
                    <pt>preset</pt>
                    <pd>The preset voice conversion option: <xref keyref="VOICE_CONVERSION_PRESET"/>.</pd>
                </plentry>
                <plentry props="rn">
                    <pt>preset</pt>
                    <pd>Predefined voice conversion effect option: <xref keyref="VOICE_CONVERSION_PRESET"/>.</pd>
                </plentry>
                <plentry props="flutter">
                    <pt>preset</pt>
                    <pd>The preset voice conversion option: <xref keyref="VOICE_CONVERSION_PRESET"/>.</pd>
                </plentry>
                <plentry props="unity">
                    <pt>preset</pt>
                    <pd>The preset voice conversion effect option: <xref keyref="VOICE_CONVERSION_PRESET"/>.</pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="electron flutter rn unity">
            <title>Return Values</title>
            <p props="electron">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
            <p props="rn">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
            <p props="flutter">When the method call succeeds, there is no return value; when fails, the <xref keyref="AgoraRtcException"/> exception is thrown. You need to catch the exception and handle it accordingly. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.
                <ul>
                    <li>&lt; 0: Failure. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
            <p props="unity">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>