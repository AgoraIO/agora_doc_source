<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_ibasespatialaudioengine_setzones">
    <title><ph keyref="setZones"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="electron">Sets sound insulation zones.</ph><ph id="shortdesc" props="rn">Sets sound insulation zones.</ph><ph id="shortdesc" props="flutter">Sets sound insulation zones.</ph><ph id="shortdesc" props="unity">Sets sound insulation zones.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="setZones"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="electron" outputclass="language-typescript">abstract setZones(zones: SpatialAudioZone, zoneCount: number): number;</codeblock>
                <codeblock props="rn" outputclass="language-typescript">abstract setZones(zones: SpatialAudioZone, zoneCount: number): number;</codeblock>
                <codeblock props="flutter" outputclass="language-dart">Future&lt;void&gt; setZones(
      {required SpatialAudioZone zones, required int zoneCount});</codeblock>
                <codeblock props="unity" outputclass="language-csharp">public abstract int SetZones(SpatialAudioZone[] zones, uint zoneCount);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="electron">In virtual interactive scenarios, you can use this method to set sound insulation zones and audio attenuation coefficients. When the sound source (which can be a user or media player) and the listener are in different zones, the sound experiences attenuation similar to real-world scenarios when encountering physical barriers.
                <ul>
                    <li>When the sound source and listener are in different zones, the attenuation effect is determined by the audio attenuation coefficient in <xref keyref="SpatialAudioZone"/>.</li>
                    <li>If the user or media player is in the same zone, the attenuation effect is determined by the <codeph>attenuation</codeph> parameter in <xref keyref="setPlayerAttenuation"/> or <xref keyref="setRemoteAudioAttenuation"/>. If neither method is called, the SDK defaults to an attenuation coefficient of 0.5, simulating real-world sound attenuation.</li>
                    <li>If the sound source and receiver are in two different zones, the receiver cannot hear the sound source.</li>
                </ul>
            </p>
            <p props="rn">In virtual interactive scenarios, you can use this method to set sound insulation zones and audio attenuation coefficients. When the audio source (can be a user or media player) and the listener are located inside and outside the zone respectively, the sound will be attenuated as in real environments when blocked by structures.
                <ul>
                    <li>When the audio source and listener are inside and outside the zone respectively, the attenuation effect is determined by the attenuation coefficient in <xref keyref="SpatialAudioZone"/>.</li>
                    <li>If the user or media player is in the same zone, <xref keyref="SpatialAudioZone"/> has no effect, and the attenuation is determined by the <codeph>attenuation</codeph> parameter in <xref keyref="setPlayerAttenuation"/> or <xref keyref="setRemoteAudioAttenuation"/>. If neither method is called, the SDK uses a default attenuation coefficient of 0.5 to simulate real-world attenuation.</li>
                    <li>If the audio source and receiver are in different zones, the receiver cannot hear the audio source.</li>
                </ul>
            </p>
            <p props="flutter">In virtual interactive scenarios, you can use this method to set sound insulation zones and sound attenuation coefficients. When the audio source (which can be a user or media player) and the listener are in and out of the sound insulation zone respectively, the user experiences attenuation similar to how sound is blocked by structures in the real world.
                <ul>
                    <li>When the audio source and listener are in and out of the sound insulation zone respectively, the attenuation effect is determined by the sound attenuation coefficient in <xref keyref="SpatialAudioZone"/>.</li>
                    <li>If the user or media player is within the same sound insulation zone, the attenuation effect is not affected by <xref keyref="SpatialAudioZone"/> and is instead determined by the <codeph>attenuation</codeph> parameter in <xref keyref="setPlayerAttenuation"/> or <xref keyref="setRemoteAudioAttenuation"/>. If neither method is called, the SDK defaults to an attenuation coefficient of 0.5, simulating real-world sound attenuation.</li>
                    <li>If the audio source and receiver are in different sound insulation zones, the receiver cannot hear the audio source.</li>
                </ul>
            </p>
            <p props="unity">In a virtual interactive scenario, you can use this method to set sound insulation zones and sound attenuation coefficients. When the sound source (can be a user or media player) and the listener are inside and outside the insulation zone respectively, a sound attenuation effect similar to that in a real environment with building partitions is experienced.
                <ul>
                    <li>When the sound source and the listener are inside and outside the insulation zone respectively, the attenuation effect is determined by the attenuation coefficient in <xref keyref="SpatialAudioZone"/>.</li>
                    <li>If the user or media player are in the same insulation zone, <xref keyref="SpatialAudioZone"/> has no effect. The attenuation effect is determined by the <codeph>attenuation</codeph> parameter in <xref keyref="setPlayerAttenuation"/> or <xref keyref="setRemoteAudioAttenuation"/>. If neither method is called, the SDK uses a default attenuation coefficient of 0.5, simulating real-world sound attenuation.</li>
                    <li>If the sound source and the receiver belong to two different insulation zones, the receiver cannot hear the sound source.</li>
                </ul>
            </p>
            <note props="electron">If this method is called multiple times, the most recent configuration takes effect.</note>
            <note props="rn">If this method is called multiple times, the last configuration takes effect.</note>
            <note props="flutter">If this method is called multiple times, the most recent configuration of sound insulation zones takes effect.</note>
            <note props="unity">If this method is called multiple times, the most recent configuration of sound insulation zones takes effect.</note>
        </section>
        <section id="parameters" deliveryTarget="details" props="electron flutter rn unity">
            <title>Parameters</title>
            <parml>
                <plentry props="electron">
                    <pt>zones</pt>
                    <pd>Configuration of sound insulation zones. See <xref keyref="SpatialAudioZone"/>. Setting this parameter to <xref keyref="NULL"/> clears all zones.
                        <note>On Windows, ensure that the number of elements in the <codeph>zones</codeph> array matches the value of <codeph>zoneCount</codeph>, otherwise a crash may occur.</note>
                    </pd>
                </plentry>
                <plentry props="electron">
                    <pt>zoneCount</pt>
                    <pd>Number of sound insulation zones.</pd>
                </plentry>
                <plentry props="rn">
                    <pt>zones</pt>
                    <pd>Configuration for sound insulation zones. See <xref keyref="SpatialAudioZone"/>. Setting this parameter to <xref keyref="NULL"/> clears all zones.</pd>
                </plentry>
                <plentry props="rn">
                    <pt>zoneCount</pt>
                    <pd>The number of sound insulation zones.</pd>
                </plentry>
                <plentry props="flutter">
                    <pt>zones</pt>
                    <pd>Configuration of sound insulation zones. See <xref keyref="SpatialAudioZone"/>. Setting this parameter to <codeph>NULL</codeph> clears all sound insulation zones.
                        <note>On the Windows platform, ensure that the number of elements in the <codeph>zones</codeph> array matches the value of <codeph>zoneCount</codeph>, otherwise a crash may occur.</note>
                    </pd>
                </plentry>
                <plentry props="flutter">
                    <pt>zoneCount</pt>
                    <pd>The number of sound insulation zones.</pd>
                </plentry>
                <plentry props="unity">
                    <pt>zones</pt>
                    <pd>Configuration of sound insulation zones. See <xref keyref="SpatialAudioZone"/>. Setting this parameter to <codeph>NULL</codeph> clears all sound insulation zones.
                        <note>On the Windows platform, make sure the number of members in the <codeph>zones</codeph> array matches the value of <codeph>zoneCount</codeph>, otherwise a crash may occur.</note>
                    </pd>
                </plentry>
                <plentry props="unity">
                    <pt>zoneCount</pt>
                    <pd>Number of sound insulation zones.</pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="electron flutter rn unity">
            <title>Return Values</title>
            <p props="electron">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
            <p props="rn">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
            <p props="flutter">When the method call succeeds, there is no return value; when it fails, the <xref keyref="AgoraRtcException"/> exception is thrown. You need to catch the exception and handle it accordingly. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</p>
            <p props="unity">
                <ul>
                    <li>0: Method call succeeds.</li>
                    <li>&lt; 0: Method call fails. See [Error Codes](https://docs.agora.io/en/video-calling/troubleshooting/error-codes) for details and resolution suggestions.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>