<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengineex_playeffectex">
    <title><ph keyref="playEffectEx"/></title>
    <shortdesc id="short"><ph id="shortdesc">Play the specified sound effect to the destination channel.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="playEffectEx"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
            <codeblock props="android" outputclass="language-java">public int playEffectEx(RtcConnection connection, int soundId, String filePath, int loopCount, double pitch, double pan, double gain, boolean publish);</codeblock>
            <codeblock props="hmos" outputclass="language-arkts"/>
            <codeblock props="ios mac" outputclass="language-objectivec">- (int)playEffectEx:(AgoraRtcConnection* _Nonnull)connection
            soundId:(int)soundId
           filePath:(NSString* _Nonnull)filePath
          loopCount:(NSInteger)loopCount
              pitch:(double)pitch
                pan:(double)pan
               gain:(NSInteger)gain NS_SWIFT_NAME(playEffectEx(_:soundId:filePath:loopCount:pitch:pan:gain:));</codeblock>
            <codeblock props="cpp unreal" outputclass="language-cpp">virtual int playEffectEx(const RtcConnection&amp;amp; connection, int soundId, const char* filePath, int loopCount, double pitch, double pan, int gain, bool publish = false, int startPos = 0) = 0;</codeblock>
            <codeblock props="bp" outputclass="language-cpp"/>
            <codeblock props="electron" outputclass="language-typescript"/>
            <codeblock props="unity cs" outputclass="language-csharp"/>
            <codeblock props="rn" outputclass="language-typescript"/>
            <codeblock props="flutter" outputclass="language-dart"/> </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="since">
            <dlentry props="native">
                <dt>Since:</dt>
                <dd props="native">Added since v4.6.0.</dd>
                </dlentry>
            </dl>
            <p>This method plays only one specified sound effect per call. To play multiple sound effects simultaneously, call this method multiple times. Agora recommends playing no more than three sound effects at the same time. The sound effect ID and file path must be the same as those used in the <xref keyref="preloadEffect"/> method.</p>
            <note type="attention" props="cpp">This method applies to the multi-channel scenario.</note>
            <note type="attention" props="apple">This method applies to the Channel profile. If you preload the sound effect into memory using the <xref keyref="preloadEffect"/> method, make sure that the value of <codeph>soundId</codeph> is the same as the one set in <xref keyref="preloadEffect"/>.</note>
            <note type="attention" props="android">This method applies to the multi-channel profile. Agora recommends that you do not play more than three sound effects simultaneously. The sound effect ID and file path in this method must be the same as those in <xref keyref="preloadEffect"/>.</note>
            </section>
        <section id="scenario" deliveryTarget="details">
            <title>Scenario</title>
            <p>This method applies to the multi-Channel profile.</p>
        </section>
        <section id="restriction" deliveryTarget="details">
            <title>Restrictions</title>
            <p>None.</p>
        </section>
        <section id="parameters" deliveryTarget="details">
            <title>Parameters</title>
            <parml>
            <plentry props="android cpp ios">
                <pt props="android cpp ios">connection</pt>
                <pd props="android">Connection object. See <xref keyref="RtcConnection"/>.</pd>
                <pd props="ios">Connection object. See <xref keyref="RtcConnection"/>.</pd>
                <pd props="cpp"><xref keyref="RtcConnection"/> object. See <xref keyref="RtcConnection"/> for details.</pd>
            </plentry>
            <plentry props="android cpp ios">
                <pt props="android cpp ios">soundId</pt>
                <pd props="android cpp">The ID of the audio effect.</pd>
                <pd props="ios">The ID of the sound effect. Each sound effect has a unique ID.</pd>
            </plentry>
            <plentry props="android cpp ios">
                <pt props="android cpp ios">filePath</pt>
                <pd props="android">The absolute path of the local spatial audio effects file or the URL of an online spatial audio effects file. Supported audio formats include mp3, mp4, m4a, aac, 3gp, mkv, and wav.</pd>
                <pd props="ios">The absolute path of the local sound effect file (including the file name suffix) or the URL of the online sound effect file, for example, <ph keyref="filePath-example"/>. Supported audio formats include mp3, mp4, m4a, aac, 3gp, mkv, and wav.</pd>
                <pd props="cpp">The absolute path of a local sound effect file or the URL of an online sound effect file. Supported audio formats include: mp3, mp4, m4a, aac, 3gp, mkv, and wav.</pd>
            </plentry>
            <plentry props="android cpp ios">
                <pt props="android cpp ios">loopCount</pt>
                <pd props="android">Loop count for sound effect playback:
                    <ul>
                        <li><codeph>-1</codeph>: Loops indefinitely until <xref keyref="stopEffect"/> or <xref keyref="stopAllEffects"/> is called to stop playback.</li>
                        <li><codeph>0</codeph>: Plays once.</li>
                        <li><codeph>1</codeph>: Plays twice.</li>
                        </ul>
                    </pd>
                <pd props="ios">Set the number of times to loop the sound effect:
                    <ul>
                        <li>0: Plays once.</li>
                        <li>1: Plays twice.</li>
                        <li>-1: Loops the sound effect indefinitely until you call the <xref keyref="stopEffect"/> or <xref keyref="stopAllEffects"/> method.</li>
                        </ul>
                    </pd>
                <pd props="cpp">Number of times to loop the sound effect:
                    <ul>
                        <li><codeph>-1</codeph>: Loops indefinitely until you call <xref keyref="stopEffect"/> or <xref keyref="stopAllEffects"/>.</li>
                        <li><codeph>0</codeph>: Plays once.</li>
                        <li><codeph>1</codeph>: Plays twice.</li>
                        </ul>
                    </pd>
            </plentry>
            <plentry props="android cpp ios">
                <pt props="android cpp ios">pitch</pt>
                <pd props="android">The pitch of the sound effect. The value range is from 0.5 to 2.0, with a default value of 1.0 (original pitch). The smaller the value, the lower the pitch.</pd>
                <pd props="ios">Sets the pitch of the sound effect. The value range is from 0.5 to 2. The default value is 1 (no pitch change). The smaller the value, the lower the pitch.</pd>
                <pd props="cpp">The pitch of the sound effect. The value ranges from 0.5 to 2.0, with a default value of 1.0 (original pitch). The smaller the value, the lower the pitch.</pd>
            </plentry>
            <plentry props="android cpp ios">
                <pt props="android cpp ios">pan</pt>
                <pd props="android">The spatial position of the sound effect. Value range is from -1.0 to 1.0:
                    <ul>
                        <li><codeph>-1.0</codeph>: The sound effect appears on the left.</li>
                        <li><codeph>0.0</codeph>: The sound effect appears in the center front.</li>
                        <li><codeph>1.0</codeph>: The sound effect appears on the right.</li>
                        </ul>
                    </pd>
                <pd props="ios">Sets the spatial position of the sound effect. Value range is from -1.0 to 1.0:
                    <ul>
                        <li>0.0: The sound effect is positioned in front.</li>
                        <li>1.0: The sound effect is positioned to the right.</li>
                        <li>-1.0: The sound effect is positioned to the left.</li>
                        </ul>
                    </pd>
                <pd props="cpp">Spatial position of the sound effect. Value range is from -1.0 to 1.0:
                    <ul>
                        <li><codeph>-1.0</codeph>: The sound effect is positioned to the left.</li>
                        <li><codeph>0.0</codeph>: The sound effect is positioned in the center front.</li>
                        <li><codeph>1.0</codeph>: The sound effect is positioned to the right.</li>
                        </ul>
                    </pd>
            </plentry>
            <plentry props="android cpp ios">
                <pt props="android cpp ios">gain</pt>
                <pd props="android">The volume of the sound effect. The value range is from 0.0 to 100.0, with a default value of 100 (raw audio data). The smaller the value, the lower the volume.</pd>
                <pd props="ios">Sets the volume of the sound effect. The value range is from 0 to 100, and the default value is 100. The smaller the value, the lower the volume of the sound effect.</pd>
                <pd props="cpp">The volume of the sound effect. The value range is from 0 to 100, with a default value of 100 (raw audio data). A smaller value indicates a lower volume.</pd>
            </plentry>
            <plentry props="android cpp ios">
                <pt props="android cpp ios">publish</pt>
                <pd props="android">Whether to publish the sound effect to the channel:
                    <ul>
                        <li><codeph><ph keyref="true"/></codeph>: Publishes the sound effect to the channel so that remote users can hear it.</li>
                        <li><codeph><ph keyref="false"/></codeph>: Does not publish the sound effect to the channel.</li>
                        </ul>
                    </pd>
                <pd props="ios">Whether to publish the specified audio effect to the remote:
                    <ul>
                        <li><codeph><ph keyref="true"/></codeph>: Publishes the audio effect in the channel, and remote users can hear it;</li>
                        <li><codeph><ph keyref="false"/></codeph>: Does not publish the audio effect in the channel.</li>
                        </ul>
                    </pd>
                <pd props="cpp">Whether to publish the sound effect in the channel:
                    <ul>
                        <li><codeph><ph keyref="true"/></codeph>: Publishes the sound effect in the channel, so remote users can hear it.</li>
                        <li><codeph><ph keyref="false"/></codeph>: (Default) Does not publish the sound effect in the channel.</li>
                        </ul>
                    </pd>
            </plentry>
            <plentry props="android cpp ios">
                <pt props="android cpp ios">startPos</pt>
                <pd props="android">The playback start position of the sound effect file, in milliseconds.</pd>
                <pd props="ios">The playback starting position of the audio effect file (in milliseconds).</pd>
                <pd props="cpp">The playback starting position of the sound effect file, in milliseconds.</pd>
            </plentry>
            </parml> </section>
        <section id="return_values" props="bp cs electron flutter native rn unity unreal">
            <title><ph keyref="return-section-title"/></title>
        <p props="flutter">When the method call succeeds, there is no return value; when fails, the <xref keyref="AgoraRtcException"/> exception is thrown. You need to catch the exception and handle it accordingly. <ph props="cn">See <xref keyref="error-code-link"/> for details and resolution suggestions.</ph></p>
        <ul props="bp cs electron rn unity unreal">
                <li>0: Success.</li>
                <li>&lt; 0: Failure. <ph props="cn">See <xref keyref="error-code-link"/> for details and resolution suggestions.</ph></li>
                </ul>
        <p props="cpp"><ul>
                        <li>0: The method call is successful.  </li>
                        <li>&lt; 0: The method call fails.</li>
                        </ul>
                    </p>
        <p props="apple"><ul>
                        <li>0: Method call succeeds.</li>
                        <li>&lt; 0: Method call fails.</li>
                        </ul>
                    </p>
        <p props="android"><ul>
                        <li>0: Method call succeeds.  </li>
                        <li>&lt; 0: Method call fails.</li>
                        </ul>
                    </p>
    </section>
        </refbody>
</reference>
