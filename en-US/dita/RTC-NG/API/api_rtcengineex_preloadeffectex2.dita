<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_rtcengineex_preloadeffectex2">
    <title><ph keyref="preloadEffectEx2"/></title>
    <shortdesc id="short"><ph id="shortdesc">Preloads a specified sound effect to a channel.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="preloadEffectEx2"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
            <codeblock props="android" outputclass="language-java">public abstract int preloadEffectEx(RtcConnection connection, int soundId, String filePath);</codeblock>
            <codeblock props="hmos" outputclass="language-arkts"/>
            <codeblock props="ios mac" outputclass="language-objectivec">- (int)preloadEffectEx:(AgoraRtcConnection* _Nonnull)connection
             soundId:(int)soundId
            filePath:(NSString* _Nonnull)filePath NS_SWIFT_NAME(preloadEffectEx(_:soundId:filePath:));</codeblock>
            <codeblock props="cpp unreal" outputclass="language-cpp"/>
            <codeblock props="bp" outputclass="language-cpp"/>
            <codeblock props="electron" outputclass="language-typescript"/>
            <codeblock props="unity cs" outputclass="language-csharp"/>
            <codeblock props="rn" outputclass="language-typescript"/>
            <codeblock props="flutter" outputclass="language-dart"/> </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="since">
            <dlentry props="native">
                <dt>Since:</dt>
                <dd props="android apple">v.4.6.0.</dd>
                </dlentry>
            </dl>
            <p>Each time you call this method, you can only preload one sound effect file into memory. If you need to preload multiple sound files, please call this method multiple times. After preloading is complete, you can call <xref keyref="playEffect3"/> to play the preloaded sound effects, or call <xref keyref="playAllEffects"/> to play all preloaded sound effects.</p>
            <note type="attention" props="apple"><ul>
                        <li>To ensure smooth experience, the size of sound effect files should not exceed the limit.</li>
                        <li>Agora recommends that you call this method before joining a channel.</li>
                        </ul>
                    </note>
            <note type="attention" props="android"><ul>
                        <li>To ensure smooth experience, the size of sound effect files should not exceed the limit.</li>
                        <li>Agora recommends that you call this method before joining a channel.</li>
                        </ul>
                    </note>
            </section>
        <section id="scenario" deliveryTarget="details">
            <title>Applicable scenarios</title>
            <p>This method can be called in scenarios involving multiple channels.</p>
        </section>
        <section id="restriction" deliveryTarget="details">
            <title>Restrictions</title>
            <p>None.</p>
        </section>
        <section id="parameters" deliveryTarget="details">
            <title>Parameters</title>
            <parml>
            <plentry props="android apple">
                <pt props="android apple">connection</pt>
                <pd props="android">连接信息。 See <xref keyref="RtcConnection"/>.</pd>
                <pd props="apple">连接对象。 See <xref keyref="RtcConnection"/>.</pd>
            </plentry>
            <plentry props="android apple">
                <pt props="android apple">soundId</pt>
                <pd props="android apple">The audio effect ID.</pd>
            </plentry>
            <plentry props="android apple">
                <pt props="android apple">filePath</pt>
                <pd props="android apple">本地音效文件的绝对路径或在线音效文件的 URL。 Supported audio formats: mp3, mp4, m4a, aac, 3gp, mkv and wav.</pd>
            </plentry>
            </parml> </section>
        <section id="return_values" props="bp cs electron flutter native rn unity unreal">
            <title><ph keyref="return-section-title"/></title>
        <p props="flutter">When the method call succeeds, there is no return value; when fails, the <xref keyref="AgoraRtcException"/> exception is thrown. You need to catch the exception and handle it accordingly. <ph props="cn">See <xref keyref="error-code-link"/> for details and resolution suggestions.</ph></p>
        <ul props="bp cpp cs electron rn unity unreal">
                <li>0: Success.</li>
                <li>&lt; 0: Failure. <ph props="cn">See <xref keyref="error-code-link"/> for details and resolution suggestions.</ph></li>
                </ul>
        <p props="android apple"><ul>
                        <li>0: Success.</li>
                        <li>&lt; 0: Failure.</li>
                        </ul>
                    </p>
    </section>
        </refbody>
</reference>
