<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_setvoicebeautifierparameters">
    <title><ph keyref="setVoiceBeautifierParameters"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Sets parameters for preset voice beautifier effects.</ph><ph id="shortdesc" props="android">Sets parameters for preset voice beautifier effects.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="setVoiceBeautifierParameters"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual int setVoiceBeautifierParameters(VOICE_BEAUTIFIER_PRESET preset, int param1, int param2) = 0;</codeblock>
                <codeblock props="android" outputclass="language-java">public abstract int setVoiceBeautifierParameters(int preset, int param1, int param2);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="since">
                <dlentry props="android">
                    <dt>Since</dt>
                    <dd>Available since v3.3.0.</dd>
                </dlentry>
            </dl>
            <p props="cpp">Call this method to set the gender characteristics and reverb effect of the singing beautifier for the local user's audio stream. Once set, all users in the channel can hear the effect.
To achieve better vocal effects, it is recommended to call the following APIs before this method:
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> and set the audio scenario to <codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph> (3).</li>
                    <li>Call <codeph>setAudioProfile</codeph> and set the <codeph>profile</codeph> parameter to <codeph>AUDIO_PROFILE_MUSIC_HIGH_QUALITY</codeph> (4) or <codeph>AUDIO_PROFILE_MUSIC_HIGH_QUALITY_STEREO</codeph> (5).</li>
                </ul>
            </p>
            <p props="android">To achieve better voice effects, it is recommended to call the following APIs before calling this method:
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality audio, i.e., <codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph> (3).</li>
                    <li>Call <codeph>setAudioProfile</codeph> and set the <codeph>profile</codeph> parameter to <codeph>MUSIC_HIGH_QUALITY</codeph> (4) or <codeph>MUSIC_HIGH_QUALITY_STEREO</codeph> (5).</li>
                </ul>
            </p>
            <note props="cpp">
                <ul>
                    <li>Do not set the <codeph>profile</codeph> parameter in <codeph>setAudioProfile</codeph> to <codeph>AUDIO_PROFILE_SPEECH_STANDARD</codeph> (1) or <codeph>AUDIO_PROFILE_IOT</codeph> (6), otherwise this method will not take effect.</li>
                    <li>This method works best for vocal processing and is not recommended for audio data that contains music.</li>
                    <li>After calling <xref keyref="setVoiceBeautifierParameters"/>, avoid calling the following methods as they will override the effect:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setAudioEffectParameters"/></li>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                            <li><xref keyref="setVoiceConversionPreset"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <xref keyref="audiobeauty"/>. If the library is deleted, the feature will not work properly.</li>
                </ul>
            </note>
            <note props="android">
                <ul>
                    <li>You can call this method before or after joining a channel.</li>
                    <li>Do not set the <codeph>profile</codeph> parameter in <codeph>setAudioProfile</codeph> to <codeph>SPEECH_STANDARD</codeph> (1), otherwise this method will not take effect.</li>
                    <li>This method works best for voice processing and is not recommended for audio data containing music.</li>
                    <li>After calling <xref keyref="setVoiceBeautifierParameters"/>, it is not recommended to call the following methods, otherwise the effects set by this method will be overridden:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setAudioEffectParameters"/></li>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                            <li><xref keyref="setVoiceConversionPreset"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <xref keyref="audiobeauty"/>. If the library is deleted, the feature cannot be enabled properly.</li>
                </ul>
            </note>
        </section>
        <section id="timing" deliveryTarget="details" props="cpp">
            <title>Timing</title>
            <p props="cpp">You can call this method either before or after joining a channel.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>preset</pt>
                    <pd>Preset effect options:
                        <ul>
                            <li><codeph>SINGING_BEAUTIFIER</codeph>: Singing beautifier effect.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>param1</pt>
                    <pd>Gender characteristic options for the singing voice:
                        <ul>
                            <li><codeph>1</codeph>: Male voice.</li>
                            <li><codeph>2</codeph>: Female voice.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>param2</pt>
                    <pd>Reverb effect options for the singing voice:
                        <ul>
                            <li><codeph>1</codeph>: Reverb effect similar to singing in a small room.</li>
                            <li><codeph>2</codeph>: Reverb effect similar to singing in a large room.</li>
                            <li><codeph>3</codeph>: Reverb effect similar to singing in a hall.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>preset</pt>
                    <pd>Preset audio effect option:
                        <ul>
                            <li><codeph>SINGING_BEAUTIFIER</codeph>: Singing beautifier effect.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>param1</pt>
                    <pd>Gender characteristic option for singing voice:
                        <ul>
                            <li><codeph>1</codeph>: Male voice.</li>
                            <li><codeph>2</codeph>: Female voice.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>param2</pt>
                    <pd>Reverb effect option for singing voice:
                        <ul>
                            <li><codeph>1</codeph>: Small room reverb.</li>
                            <li><codeph>2</codeph>: Large room reverb.</li>
                            <li><codeph>3</codeph>: Hall reverb.</li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="android cpp">
            <title>Return Values</title>
            <p props="cpp">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
            <p props="android">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>