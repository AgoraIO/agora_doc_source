<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_createmediarecorder">
    <title><ph keyref="createMediaRecorder"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Creates an audio and video recorder instance.</ph><ph id="shortdesc" props="android">Creates a recorder instance for audio and video recording.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="createMediaRecorder"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual agora_refptr&lt;IMediaRecorder&gt; createMediaRecorder(const RecorderStreamInfo&amp; info) = 0;</codeblock>
                <codeblock props="android" outputclass="language-java">public abstract AgoraMediaRecorder createMediaRecorder(RecorderStreamInfo info);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="cpp">Before starting to record audio and video streams, you need to call this method to create a recorder instance. The SDK supports recording multiple audio and video streams from local or remote users. You can call this method multiple times to create multiple recorder instances and specify the channel name and remote user ID to record via the <codeph>info</codeph> parameter. After successful creation, you need to call <xref keyref="setMediaRecorderObserver"/> to register an observer for the recorder instance to listen for related callbacks, and then call <xref keyref="startRecording"/> to start recording.</p>
            <p props="android">Before starting to record audio and video streams, you need to call this method to create a recorder instance. You can call this method multiple times to create multiple recorders and specify the channel name and user ID to be recorded through the <codeph>info</codeph> parameter.

After successfully creating the recorder, you need to call <xref keyref="setMediaRecorderObserver"/> to register an observer for the recorder to listen for recording-related callbacks, and then call <xref keyref="startRecording"/> to start recording.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>info</pt>
                    <pd>Audio and video stream information. See <xref keyref="RecorderStreamInfo"/>.</pd>
                </plentry>
                <plentry props="android">
                    <pt>info</pt>
                    <pd>Information about the audio and video stream to be recorded. See <xref keyref="RecorderStreamInfo"/>.</pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="android cpp">
            <title>Return Values</title>
            <p props="cpp">If the method call succeeds, returns an <xref keyref="IMediaRecorder"/> instance. See <xref keyref="IMediaRecorder"/>.
If the method call fails, returns <xref keyref="NULL"/>.</p>
            <p props="android">
                <ul>
                    <li>The <xref keyref="IMediaRecorder"/> instance, if the method call succeeds.</li>
                    <li>An empty pointer , if the method call fails.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>