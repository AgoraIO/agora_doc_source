<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="class_virtualbackgroundsource">
    <title><ph keyref="VirtualBackgroundSource"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Used to set a custom virtual background.</ph><ph id="shortdesc" props="android">Used to set the custom background type.</ph></shortdesc>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">struct VirtualBackgroundSource {
  BACKGROUND_SOURCE_TYPE background_source_type;
  unsigned int color;
  const char* source;
  BACKGROUND_BLUR_DEGREE blur_degree;
};</codeblock>
                <codeblock props="android" outputclass="language-java">public class VirtualBackgroundSource {
  public static final int BACKGROUND_NONE = 0;
  public static final int BACKGROUND_COLOR = 1;
  public static final int BACKGROUND_IMG = 2;
  public static final int BACKGROUND_BLUR = 3;
  public static final int BACKGROUND_VIDEO = 4;
  public static final int BLUR_DEGREE_LOW = 1;
  public static final int BLUR_DEGREE_MEDIUM = 2;
  public static final int BLUR_DEGREE_HIGH = 3;
  public int backgroundSourceType;
  public int color;
  public String source = null;
  public int blurDegree;
}</codeblock>
            </p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Properties</title>
            <parml>
                <plentry props="cpp">
                    <pt>background_source_type</pt>
                    <pd>Custom background type. See <xref keyref="BACKGROUND_SOURCE_TYPE"/>.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>color</pt>
                    <pd>Color of the custom background image. The color format is a hexadecimal integer defined by RGB, without the # symbol. For example, 0xFFB6C1 represents light pink. Default is 0xFFFFFF (white). Range is [0x000000, 0xFFFFFF]. If the value is invalid, the SDK replaces the original background image with a white image.
                        <note>This parameter applies only to the following custom background types:
                            <ul>
                                <li><codeph>BACKGROUND_COLOR</codeph>: The background image is a solid color image of the specified color.</li>
                                <li><codeph>BACKGROUND_IMG</codeph>: If the image in <codeph>source</codeph> has a transparent background, the transparent part will be filled with the color specified by this parameter.</li>
                            </ul>
                        </note>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>source</pt>
                    <pd>Absolute local path of the custom background image. Supports PNG, JPG, MP4, AVI, MKV, and FLV formats. If the path is invalid, the SDK uses the original background image or a solid color image specified by <codeph>color</codeph>.
                        <note>This parameter takes effect only when the custom background type is <codeph>BACKGROUND_IMG</codeph> or <codeph>BACKGROUND_VIDEO</codeph>.</note>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>blur_degree</pt>
                    <pd>Blur level of the background image. See <xref keyref="BACKGROUND_BLUR_DEGREE"/>.
                        <note>This parameter takes effect only when the custom background type is <codeph>BACKGROUND_BLUR</codeph>.</note>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>backgroundSourceType</pt>
                    <pd>Custom background type.
                        <ul>
                            <li><codeph>BACKGROUND_NONE</codeph> (0): Only performs background and foreground segmentation without replacing the background image. After setting this value, you can call <xref keyref="startLocalVideoTranscoder"/> to achieve picture-in-picture effect.</li>
                            <li><codeph>BACKGROUND_COLOR</codeph> (1): (Default) Background is a solid color image.</li>
                            <li><codeph>BACKGROUND_IMG</codeph> (2): Background is an image in PNG or JPG format.</li>
                            <li><codeph>BACKGROUND_BLUR</codeph> (3): Background is a blurred version of the original background image.</li>
                            <li><codeph>BACKGROUND_VIDEO</codeph> (4): Background is a local video file in MP4, AVI, MKV, FLV, or other supported formats.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>color</pt>
                    <pd>Color of the custom background image. Defined as a hexadecimal integer in RGB format without #, e.g., light pink is 0xFFB6C1. Default is 0xFFFFFF (white). Value range: [0x000000, 0xFFFFFF]. If the value is invalid, the SDK replaces the original background image with a white background.
                        <note>This parameter only applies to the following custom background types:
                            <ul>
                                <li><codeph>BACKGROUND_COLOR</codeph>: Background is a solid color image of the specified color.</li>
                                <li><codeph>BACKGROUND_IMG</codeph>: If the image in <codeph>source</codeph> has a transparent background, the transparent area will be filled with the color specified by this parameter.</li>
                            </ul>
                        </note>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>source</pt>
                    <pd>Absolute local path of the custom background image. Supported formats include PNG, JPG, MP4, AVI, MKV, and FLV. If the path is invalid, the SDK uses the original background image or the solid color image specified by <codeph>color</codeph>.
                        <note>This parameter is only effective when the custom background type is <codeph>BACKGROUND_IMG</codeph> or <codeph>BACKGROUND_VIDEO</codeph>.</note>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>blurDegree</pt>
                    <pd>
                        <note>This parameter is only effective when the background type is <codeph>BACKGROUND_BLUR</codeph>.</note><ph>Blur level of the custom background image.</ph>
                        <ul>
                            <li><codeph>BLUR_DEGREE_LOW</codeph> (1): Low blur, background is mostly visible.</li>
                            <li><codeph>BLUR_DEGREE_MEDIUM</codeph> (2): Medium blur, background details are hard to recognize.</li>
                            <li><codeph>BLUR_DEGREE_HIGH</codeph> (3): High blur, background is unrecognizable.</li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>