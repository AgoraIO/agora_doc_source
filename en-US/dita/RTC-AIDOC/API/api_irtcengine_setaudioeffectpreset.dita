<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_setaudioeffectpreset">
    <title><ph keyref="setAudioEffectPreset"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Sets the SDK's preset audio effects.</ph><ph id="shortdesc" props="android">Sets the SDK's preset audio effects.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="setAudioEffectPreset"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual int setAudioEffectPreset(AUDIO_EFFECT_PRESET preset) = 0;</codeblock>
                <codeblock props="android" outputclass="language-java">public abstract int setAudioEffectPreset(int preset);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="since">
                <dlentry props="android">
                    <dt>Since</dt>
                    <dd>Available since v3.2.0.</dd>
                </dlentry>
            </dl>
            <p props="cpp">Call this method to set the SDK's preset audio effects for the local user who sends the audio stream. This effect does not change the gender characteristics of the original voice. Once set, all users in the channel hear the effect.
To achieve better audio effects, Agora recommends calling the following methods before this one:
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality audio, that is, <codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph> (3).</li>
                    <li>Call <codeph>setAudioProfile</codeph> and set the <codeph>profile</codeph> parameter to <codeph>AUDIO_PROFILE_MUSIC_HIGH_QUALITY</codeph> (4) or <codeph>AUDIO_PROFILE_MUSIC_HIGH_QUALITY_STEREO</codeph> (5).</li>
                </ul>
            </p>
            <p props="android">This method does not change the gender characteristics of the original voice. After setting, all users in the channel can hear the effect.
To achieve better voice effects, it is recommended to call the following methods before this:
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality mode, i.e., <codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph> (3).</li>
                    <li>Call <codeph>setAudioProfile</codeph> and set the <codeph>profile</codeph> parameter to <codeph>MUSIC_HIGH_QUALITY</codeph> (4) or <codeph>MUSIC_HIGH_QUALITY_STEREO</codeph> (5).</li>
                </ul>
            </p>
            <note props="cpp">
                <ul>
                    <li>Do not set the <codeph>profile</codeph> parameter in <codeph>setAudioProfile</codeph> to <codeph>AUDIO_PROFILE_SPEECH_STANDARD</codeph> (1) or <codeph>AUDIO_PROFILE_IOT</codeph> (6), or this method will not take effect.</li>
                    <li>If you call <xref keyref="setAudioEffectPreset"/> with a value other than <codeph>ROOM_ACOUSTICS_3D_VOICE</codeph> or <codeph>PITCH_CORRECTION</codeph>, do not call <xref keyref="setAudioEffectParameters"/>, or the settings in <xref keyref="setAudioEffectPreset"/> will be overridden.</li>
                    <li>After calling <xref keyref="setAudioEffectPreset"/>, Agora does not recommend calling the following methods, or the settings will be overridden:
                        <ul>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setVoiceConversionPreset"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the audio beautifier dynamic library <xref keyref="audiobeauty"/>. If the library is deleted, this feature cannot be enabled properly.</li>
                </ul>
            </note>
            <note props="android">
                <ul>
                    <li>Do not set the <codeph>profile</codeph> parameter in <codeph>setAudioProfile</codeph> to <codeph>SPEECH_STANDARD</codeph> (1), otherwise this method will not take effect.</li>
                    <li>If the enum value set by <xref keyref="setAudioEffectPreset"/> is not <codeph>ROOM_ACOUSTICS_3D_VOICE</codeph> or <codeph>PITCH_CORRECTION</codeph>, do not call <xref keyref="setAudioEffectParameters"/>, otherwise it will override the settings of <xref keyref="setAudioEffectPreset"/>.</li>
                    <li>After calling <xref keyref="setAudioEffectPreset"/>, it is not recommended to call the following methods, otherwise the effect set by <xref keyref="setAudioEffectPreset"/> will be overridden:
                        <ul>
                            <li><xref keyref="setVoiceBeautifierPreset"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setVoiceConversionPreset"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <xref keyref="audiobeauty"/>. If this library is deleted, the feature cannot be enabled properly.</li>
                </ul>
            </note>
        </section>
        <section id="timing" deliveryTarget="details" props="android cpp">
            <title>Timing</title>
            <p props="cpp">You can call this method before or after joining a channel.</p>
            <p props="android">You can call this method before or after joining a channel.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>preset</pt>
                    <pd>SDK preset audio effect options. See <xref keyref="AUDIO_EFFECT_PRESET"/>.</pd>
                </plentry>
                <plentry props="android">
                    <pt>preset</pt>
                    <pd>Preset audio effects:
                        <ul>
                            <li><codeph>AUDIO_EFFECT_OFF</codeph> (0): Disable audio effect and use original voice.</li>
                            <li><codeph>ROOM_ACOUSTICS_KTV</codeph> (1): Typical reverb style of KTV.</li>
                            <li><codeph>ROOM_ACOUSTICS_VOCAL_CONCERT</codeph> (2): Typical reverb style of a concert hall.</li>
                            <li><codeph>ROOM_ACOUSTICS_STUDIO</codeph> (3): Typical reverb style of a recording studio.</li>
                            <li><codeph>ROOM_ACOUSTICS_PHONOGRAPH</codeph> (4): Typical reverb style of a vintage phonograph.</li>
                            <li><codeph>ROOM_ACOUSTICS_VIRTUAL_STEREO</codeph> (5): Virtual stereo effect that renders mono audio into stereo. Requires <codeph>setAudioProfile</codeph> with <codeph>profile</codeph> set to <codeph>MUSIC_HIGH_QUALITY</codeph> (4) or <codeph>MUSIC_HIGH_QUALITY_STEREO</codeph> (5), otherwise invalid.</li>
                            <li><codeph>ROOM_ACOUSTICS_SPACIAL</codeph> (6): More spatial audio effect.</li>
                            <li><codeph>ROOM_ACOUSTICS_ETHEREAL</codeph> (7): More ethereal audio effect.</li>
                            <li><codeph>ROOM_ACOUSTICS_VIRTUAL_SURROUND_SOUND</codeph> (8): Virtual surround sound effect. SDK generates simulated surround sound field based on stereo channel. Requires stereo playback device to hear expected effect.</li>
                            <li><codeph>ROOM_ACOUSTICS_CHORUS</codeph> (9): Chorus effect, suitable for chorus scenes, enhances vocal layering and spatial sense.</li>
                            <li><codeph>ROOM_ACOUSTICS_3D_VOICE</codeph> (10): 3D voice effect, makes the voice move around the user, default cycle is 10 seconds. Requires <codeph>setAudioProfile</codeph> with <codeph>profile</codeph> set to <codeph>MUSIC_STANDARD_STEREO</codeph> (3) or <codeph>MUSIC_HIGH_QUALITY_STEREO</codeph> (5), otherwise invalid. Requires stereo playback device.</li>
                            <li><codeph>VOICE_CHANGER_EFFECT_UNCLE</codeph> (11): Uncle voice effect, recommended for male voice.</li>
                            <li><codeph>VOICE_CHANGER_EFFECT_OLDMAN</codeph> (12): Old man voice effect, recommended for male voice.</li>
                            <li><codeph>VOICE_CHANGER_EFFECT_BOY</codeph> (13): Boy voice effect, recommended for male voice.</li>
                            <li><codeph>VOICE_CHANGER_EFFECT_SISTER</codeph> (14): Young female voice effect, recommended for female voice.</li>
                            <li><codeph>VOICE_CHANGER_EFFECT_GIRL</codeph> (15): Girl voice effect, recommended for female voice.</li>
                            <li><codeph>VOICE_CHANGER_EFFECT_PIGKING</codeph> (16): Pig King voice effect, bear-like roar.</li>
                            <li><codeph>VOICE_CHANGER_EFFECT_HULK</codeph> (17): Hulk voice effect.</li>
                            <li><codeph>STYLE_TRANSFORMATION_RNB</codeph> (18): R&amp;B music style reverb. Requires <codeph>setAudioProfile</codeph> with <codeph>profile</codeph> set to <codeph>MUSIC_HIGH_QUALITY</codeph> (4) or <codeph>MUSIC_HIGH_QUALITY_STEREO</codeph> (5), otherwise invalid.</li>
                            <li><codeph>STYLE_TRANSFORMATION_POPULAR</codeph> (19): Pop music style reverb. Requires <codeph>setAudioProfile</codeph> with <codeph>profile</codeph> set to <codeph>MUSIC_HIGH_QUALITY</codeph> (4) or <codeph>MUSIC_HIGH_QUALITY_STEREO</codeph> (5), otherwise invalid.</li>
                            <li><codeph>PITCH_CORRECTION</codeph> (20): Pitch correction effect, adjusts pitch based on natural C major scale. After setting, you can call <xref keyref="setAudioEffectParameters"/> to adjust tuning mode and tonic.</li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="android cpp">
            <title>Return Values</title>
            <p props="cpp">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
            <p props="android">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>