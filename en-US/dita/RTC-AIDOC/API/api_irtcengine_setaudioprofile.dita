<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_setaudioprofile">
    <title><ph keyref="setAudioProfile"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Sets the audio profile and scenario.</ph><ph id="shortdesc" props="android">Sets the audio profile and scenario.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="setAudioProfile"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual int setAudioProfile(AUDIO_PROFILE_TYPE profile, AUDIO_SCENARIO_TYPE scenario) __deprecated = 0;</codeblock>
                <codeblock props="android" outputclass="language-java">public abstract int setAudioProfile(int profile, int scenario);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="deprecated">
                <dlentry props="cpp">
                    <dt>Deprecated</dt>
                    <dd>This method is deprecated. You can use <xref keyref="setAudioProfile2"/> instead. To set the audio scenario, call the <xref keyref="initialize"/> method and pass the value in the <codeph>audioScenario</codeph> member of the <xref keyref="RtcEngineConfig"/> struct.</dd>
                </dlentry>
                <dlentry props="android">
                    <dt>Deprecated</dt>
                    <dd>This method is deprecated. Use <codeph>setAudioProfile(int profile)</codeph> to set the audio profile and <codeph>setAudioScenario(int scenario)</codeph> to set the audio scenario.</dd>
                </dlentry>
            </dl>
            <note props="cpp">Due to iOS system limitations, some audio routes cannot be recognized in call volume mode. Therefore, if you need to use an external sound card, it is recommended to set the audio scenario to <codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph> (3). In this scenario, the SDK switches to media volume to avoid this issue.</note>
        </section>
        <section id="scenario" deliveryTarget="details">
            <title>Scenario</title>
            <p>This method applies to various audio scenarios. You can choose based on your actual needs. For example, in scenarios with high audio quality requirements (such as music teaching), it is recommended to set <codeph>profile</codeph> to <codeph>AUDIO_PROFILE_MUSIC_HIGH_QUALITY</codeph> (4) and <codeph>scenario</codeph> to <codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph> (3). You can call this method before or after joining a channel.</p>
        </section>
        <section id="timing" deliveryTarget="details" props="android">
            <title>Timing</title>
            <p props="android">You can call this method before or after joining a channel.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>profile</pt>
                    <pd>Audio profile, including sample rate, bitrate, encoding mode, and number of channels. See <xref keyref="AUDIO_PROFILE_TYPE"/>.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>scenario</pt>
                    <pd>Audio scenario. Different scenarios use different volume types. See <xref keyref="AUDIO_SCENARIO_TYPE"/>.</pd>
                </plentry>
                <plentry props="android">
                    <pt>profile</pt>
                    <pd>Audio profile, including sampling rate, bitrate, encoding mode, and number of channels. See <codeph>profile</codeph>:
                        <ul>
                            <li><codeph>DEFAULT</codeph> (0): Default.
                                <ul>
                                    <li>Live Broadcast: 48 kHz, music encoding, mono, max bitrate 64 Kbps.</li>
                                    <li>Communication: 32 kHz, speech encoding, mono, max bitrate 18 Kbps.</li>
                                </ul>
                            </li>
                            <li><codeph>SPEECH_STANDARD</codeph> (1): 32 kHz, speech encoding, mono, max bitrate 18 Kbps.</li>
                            <li><codeph>MUSIC_STANDARD</codeph> (2): 48 kHz, music encoding, mono, max bitrate 64 Kbps.</li>
                            <li><codeph>MUSIC_STANDARD_STEREO</codeph> (3): 48 kHz, music encoding, stereo, max bitrate 80 Kbps.</li>
                            <li><codeph>MUSIC_HIGH_QUALITY</codeph> (4): 48 kHz, music encoding, mono, max bitrate 96 Kbps.</li>
                            <li><codeph>MUSIC_HIGH_QUALITY_STEREO</codeph> (5): 48 kHz, music encoding, stereo, max bitrate 128 Kbps.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>scenario</pt>
                    <pd>Audio scenario. Different scenarios use different volume types. See <codeph>scenario</codeph>:
                        <ul>
                            <li><codeph>AUDIO_SCENARIO_DEFAULT</codeph> (0): Default automatic scenario. The SDK selects suitable audio quality based on user role and audio routing.</li>
                            <li><codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph> (3): High-quality scenario, suitable for music playback.</li>
                            <li><codeph>AUDIO_SCENARIO_CHATROOM</codeph> (5): Chatroom scenario, suitable for frequent role switching or mute/unmute actions.</li>
                            <li><codeph>AUDIO_SCENARIO_CHORUS</codeph> (7): Real-time chorus scenario, suitable for low-latency environments. Call <xref keyref="getAudioDeviceInfo"/> to check if the device supports ultra-low latency. To experience ultra-low latency, ensure <codeph>isLowLatencyAudioSupported = true</codeph>.</li>
                            <li><codeph>AUDIO_SCENARIO_MEETING</codeph> (8): Meeting scenario, voice-focused.</li>
                            <li><codeph>AUDIO_SCENARIO_AI_CLIENT</codeph> (10): AI conversation scenario, only for interaction with agents created by <codeph>Conversational AI Engine</codeph>.</li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="android cpp">
            <title>Return Values</title>
            <p props="cpp">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
            <p props="android">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>