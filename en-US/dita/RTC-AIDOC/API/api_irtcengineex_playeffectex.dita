<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengineex_playeffectex">
    <title><ph keyref="playEffectEx"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Plays a specified sound effect in the channel.</ph><ph id="shortdesc" props="android">Plays the specified audio effect in the channel.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="playEffectEx"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual int playEffectEx(const RtcConnection&amp; connection, int soundId, const char* filePath, int loopCount, double pitch, double pan, int gain, bool publish = false, int startPos = 0) = 0;</codeblock>
                <codeblock props="android" outputclass="language-java">public abstract int playEffectEx(RtcConnection connection, int soundId, String filePath, int loopCount, double pitch, double pan, double gain, boolean publish, int startPos);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="since">
                <dlentry props="cpp">
                    <dt>Since</dt>
                    <dd>Added since v4.6.0.</dd>
                </dlentry>
                <dlentry props="android">
                    <dt>Since</dt>
                    <dd>Available since v4.6.0.</dd>
                </dlentry>
            </dl>
            <p props="cpp">You can call this method to play a specified sound effect to all users in the channel. Each call can play only one sound effect. To play multiple sound effects simultaneously, use different <codeph>soundId</codeph> and <codeph>filePath</codeph> and call this method multiple times. You can also set whether to publish the sound effect in the channel.</p>
            <p props="android">You can call this method to play the specified audio effect to all users in the channel. Each call to this method can only play one audio effect. To play multiple audio effects simultaneously, use different <codeph>soundId</codeph> and <codeph>filePath</codeph> values and call this method multiple times. You can also set whether to publish the audio effect in the channel.</p>
            <note props="cpp">
                <ul>
                    <li>Agora recommends not playing more than three sound effects simultaneously.</li>
                    <li>The sound effect ID and file path in this method must match those in the <xref keyref="preloadEffect"/> method.</li>
                </ul>
            </note>
            <note props="android">
                <ul>
                    <li>Agora recommends not playing more than three audio effects simultaneously.</li>
                    <li>The audio effect ID and file path in this method must match those used in <codeph>preloadEffect</codeph>.</li>
                </ul>
            </note>
        </section>
        <section id="scenario" deliveryTarget="details">
            <title>Scenario</title>
            <p>This method is applicable in multi-channel scenarios.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>connection</pt>
                    <pd><xref keyref="RtcConnection"/> object. See <xref keyref="RtcConnection"/>.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>soundId</pt>
                    <pd>Sound effect ID.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>filePath</pt>
                    <pd>Absolute path of the local file or URL of the online file. Supported audio formats include mp3, mp4, m4a, aac, 3gp, mkv, and wav.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>loopCount</pt>
                    <pd>Number of times the sound effect loops:
                        <ul>
                            <li><codeph>-1</codeph>: Loop indefinitely until <xref keyref="stopEffect"/> or <xref keyref="stopAllEffects"/> is called.</li>
                            <li><codeph>0</codeph>: Play once.</li>
                            <li><codeph>1</codeph>: Play twice.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>pitch</pt>
                    <pd>Pitch of the sound effect. Range: 0.5 to 2.0. Default is 1.0 (original pitch). Lower values indicate lower pitch.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>pan</pt>
                    <pd>Spatial position of the sound effect. Range: -1.0 to 1.0:
                        <ul>
                            <li><codeph>-1.0</codeph>: Sound comes from the left.</li>
                            <li><codeph>0.0</codeph>: Sound comes from the front.</li>
                            <li><codeph>1.0</codeph>: Sound comes from the right.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>gain</pt>
                    <pd>Volume of the sound effect. Range: 0 to 100. Default is 100 (original volume). Lower values indicate lower volume.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>publish</pt>
                    <pd>Whether to publish the sound effect in the channel:
                        <ul>
                            <li><xref keyref="true"/>: Publish.</li>
                            <li><xref keyref="false"/>: (Default) Do not publish.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>startPos</pt>
                    <pd>Start position for playing the sound effect file, in milliseconds.</pd>
                </plentry>
                <plentry props="android">
                    <pt>connection</pt>
                    <pd>Connection information. See <xref keyref="RtcConnection"/>.</pd>
                </plentry>
                <plentry props="android">
                    <pt>soundId</pt>
                    <pd>Audio effect ID.</pd>
                </plentry>
                <plentry props="android">
                    <pt>filePath</pt>
                    <pd>The absolute path of a local file or the URL of an online file. Supported audio formats include mp3, mp4, m4a, aac, 3gp, mkv, and wav.</pd>
                </plentry>
                <plentry props="android">
                    <pt>loopCount</pt>
                    <pd>The number of times the audio effect loops:
                        <ul>
                            <li><codeph>-1</codeph>: Loops indefinitely until <xref keyref="stopEffect"/> or <xref keyref="stopAllEffects"/> is called.</li>
                            <li><codeph>0</codeph>: Plays once.</li>
                            <li><codeph>1</codeph>: Plays twice.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>pitch</pt>
                    <pd>The pitch of the audio effect. The range is from 0.5 to 2.0, with the default value being 1.0 (original pitch). The smaller the value, the lower the pitch.</pd>
                </plentry>
                <plentry props="android">
                    <pt>pan</pt>
                    <pd>The spatial position of the audio effect. The range is from -1.0 to 1.0:
                        <ul>
                            <li><codeph>-1.0</codeph>: The audio effect comes from the left of the user.</li>
                            <li><codeph>0.0</codeph>: The audio effect comes from the front of the user.</li>
                            <li><codeph>1.0</codeph>: The audio effect comes from the right of the user.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>gain</pt>
                    <pd>The volume of the audio effect. The range is from 0.0 to 100.0, with the default value being 100.0 (original volume). The smaller the value, the lower the volume.</pd>
                </plentry>
                <plentry props="android">
                    <pt>publish</pt>
                    <pd>Whether to publish the audio effect in the channel:
                        <ul>
                            <li><xref keyref="true"/>: Publish the audio effect in the channel.</li>
                            <li><xref keyref="false"/>: Do not publish the audio effect in the channel.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>startPos</pt>
                    <pd>The starting position (in milliseconds) for playing the audio effect file.</pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="android cpp">
            <title>Return Values</title>
            <p props="cpp">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
            <p props="android">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>