<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_imediaengine_registervideoframeobserver_imediaengine">
    <title><ph keyref="registerVideoFrameObserver_IMediaEngine"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Registers a raw video frame observer object.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="registerVideoFrameObserver_IMediaEngine"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual int registerVideoFrameObserver(IVideoFrameObserver* observer) = 0;</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="cpp">Use this method to register a custom <xref keyref="IVideoFrameObserver"/> instance to observe raw video frames (such as YUV or RGBA format). After successful registration, the SDK triggers the corresponding callbacks when video frames are received. You can use this raw video data in scenarios such as virtual background and beauty effects.</p>
            <note props="cpp">When processing video data returned in the callback, note that the <codeph>width</codeph> and <codeph>height</codeph> parameters may change under the following conditions:
                <ul>
                    <li>When the network condition deteriorates, the video resolution will gradually decrease.</li>
                    <li>When the user adjusts the video profile, the resolution returned in the callback will also change accordingly.</li>
                </ul>
            </note>
        </section>
        <section id="timing" deliveryTarget="details" props="cpp">
            <title>Timing</title>
            <p props="cpp">Call this method before joining a channel.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>observer</pt>
                    <pd>Observer instance. To release the instance, set this value to <xref keyref="NULL"/>. See <xref keyref="IVideoFrameObserver"/>.</pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="cpp">
            <title>Return Values</title>
            <p props="cpp">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>