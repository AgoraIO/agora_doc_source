<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="callback_irtcengineeventhandler_onremoteaudiostatechanged">
    <title><ph keyref="onRemoteAudioStateChanged"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Callback for changes in the remote audio state.</ph><ph id="shortdesc" props="android">Callback for remote audio state change.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="onRemoteAudioStateChanged"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual void onRemoteAudioStateChanged(uid_t uid, REMOTE_AUDIO_STATE state, REMOTE_AUDIO_STATE_REASON reason, int elapsed)</codeblock>
                <codeblock props="android" outputclass="language-java">public void onRemoteAudioStateChanged(int uid, int state, int reason, int elapsed)</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="android">This callback is triggered when the audio state of a remote user in a voice/video call channel or a host in a live broadcast channel changes, and is used to report the current state of the remote audio stream.</p>
            <note props="cpp">This callback does not work properly when the number of users in a communication scenario or broadcasters in a live broadcast exceeds 32.</note>
            <note props="android">This callback may not work properly when the number of users (communication scenario) or hosts (live broadcast scenario) in the channel exceeds 32.</note>
        </section>
        <section id="timing" deliveryTarget="details" props="android cpp">
            <title>Trigger Timing</title>
            <p props="cpp">Triggered when the audio state of a remote user changes.</p>
            <p props="android">This callback is triggered when the audio state of a remote user changes.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>uid</pt>
                    <pd>The user ID of the remote user whose audio state has changed.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>state</pt>
                    <pd>The remote audio state. See <xref keyref="REMOTE_AUDIO_STATE"/>.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>reason</pt>
                    <pd>The reason for the remote audio state change. See <xref keyref="REMOTE_AUDIO_STATE_REASON"/>.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>elapsed</pt>
                    <pd>The time (ms) elapsed from the local user calling <codeph>joinChannel</codeph> to the SDK triggering this callback.</pd>
                </plentry>
                <plentry props="android">
                    <pt>uid</pt>
                    <pd>The user ID of the remote user whose audio state has changed.</pd>
                </plentry>
                <plentry props="android">
                    <pt>state</pt>
                    <pd>The remote audio state:
                        <ul>
                            <li><codeph>REMOTE_AUDIO_STATE_STOPPED</codeph> (0): The remote audio is in the initial state. The SDK reports this state when <codeph>REMOTE_AUDIO_REASON_LOCAL_MUTED</codeph>, <codeph>REMOTE_AUDIO_REASON_REMOTE_MUTED</codeph>, or <codeph>REMOTE_AUDIO_REASON_REMOTE_OFFLINE</codeph> occurs.</li>
                            <li><codeph>REMOTE_AUDIO_STATE_STARTING</codeph> (1): The first packet of remote audio data is received.</li>
                            <li><codeph>REMOTE_AUDIO_STATE_DECODING</codeph> (2): The remote audio stream is decoded and playing normally. The SDK reports this state when <codeph>REMOTE_AUDIO_REASON_NETWORK_RECOVERY</codeph>, <codeph>REMOTE_AUDIO_REASON_LOCAL_UNMUTED</codeph>, or <codeph>REMOTE_AUDIO_REASON_REMOTE_UNMUTED</codeph> occurs.</li>
                            <li><codeph>REMOTE_AUDIO_STATE_FROZEN</codeph> (3): The remote audio is frozen. The SDK reports this state when <codeph>REMOTE_AUDIO_REASON_NETWORK_CONGESTION</codeph> occurs.</li>
                            <li><codeph>REMOTE_AUDIO_STATE_FAILED</codeph> (4): The remote audio failed to start. The SDK reports this state when <codeph>REMOTE_AUDIO_REASON_INTERNAL</codeph> occurs.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>reason</pt>
                    <pd>The reason for the remote audio state change:
                        <ul>
                            <li><codeph>REMOTE_AUDIO_REASON_INTERNAL</codeph> (0): The SDK reports this reason when the audio state changes.</li>
                            <li><codeph>REMOTE_AUDIO_REASON_NETWORK_CONGESTION</codeph> (1): Network congestion.</li>
                            <li><codeph>REMOTE_AUDIO_REASON_NETWORK_RECOVERY</codeph> (2): Network recovery.</li>
                            <li><codeph>REMOTE_AUDIO_REASON_LOCAL_MUTED</codeph> (3): The local user stops receiving the remote audio stream or disables the audio module.</li>
                            <li><codeph>REMOTE_AUDIO_REASON_LOCAL_UNMUTED</codeph> (4): The local user resumes receiving the remote audio stream or enables the audio module.</li>
                            <li><codeph>REMOTE_AUDIO_REASON_REMOTE_MUTED</codeph> (5): The remote user stops sending the audio stream or disables the audio module.</li>
                            <li><codeph>REMOTE_AUDIO_REASON_REMOTE_UNMUTED</codeph> (6): The remote user resumes sending the audio stream or enables the audio module.</li>
                            <li><codeph>REMOTE_AUDIO_REASON_REMOTE_OFFLINE</codeph> (7): The remote user leaves the channel.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>elapsed</pt>
                    <pd>The time (ms) from the local user calling <codeph>joinChannel</codeph> until the SDK triggers this callback.</pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>