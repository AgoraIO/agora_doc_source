<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_startlocalaudiomixer">
    <title><ph keyref="startLocalAudioMixer"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Starts local audio mixing.</ph><ph id="shortdesc" props="android">Starts local audio mixing.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="startLocalAudioMixer"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual int startLocalAudioMixer(const LocalAudioMixerConfiguration&amp; config) = 0;</codeblock>
                <codeblock props="android" outputclass="language-java">public abstract int startLocalAudioMixer(LocalAudioMixerConfiguration config);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="cpp">This method supports merging multiple audio streams locally into one audio stream, such as combining audio from the local microphone, media player, sound card, and remote users into one stream and publishing it to the channel.
                <ul>
                    <li>If you want to mix locally captured audio streams, set <codeph>publishMixedAudioTrack</codeph> to <xref keyref="true"/> in <xref keyref="ChannelMediaOptions"/>, and then publish the mixed audio stream to the channel.</li>
                    <li>If you want to mix remote audio streams, ensure that the remote audio streams have been published in the channel and that you have subscribed to the streams to be mixed.</li>
                </ul>
            </p>
            <p props="android">This method supports merging multiple audio streams locally into one. For example, you can mix the audio captured by the local microphone, media player, sound card, and remote users into one audio stream and publish it to the channel.
                <ul>
                    <li>To mix locally captured audio streams, set <codeph>publishMixedAudioTrack</codeph> to <xref keyref="true"/> in <xref keyref="ChannelMediaOptions"/>, and then publish the mixed audio stream to the channel.</li>
                    <li>To mix remote audio streams, ensure the remote audio streams are already published in the channel and that you have subscribed to the audio streams to be mixed.</li>
                </ul>
            </p>
            <note props="cpp">To ensure audio quality, it is recommended not to mix more than 10 audio streams.</note>
            <note props="android">To ensure audio quality, it is recommended to mix no more than 10 audio streams.</note>
        </section>
        <section id="scenario" deliveryTarget="details">
            <title>Scenario</title>
            <p>You can enable this feature in the following scenarios:
                <ul>
                    <li>When using local video mixing, you can simultaneously capture and publish the audio stream associated with the mixed video stream.</li>
                    <li>In live streaming scenarios, users can receive audio streams in the channel, mix multiple audio streams locally, and forward the mixed stream to other channels.</li>
                    <li>In online classrooms, teachers can mix the audio from interactions with students locally and forward it to other channels.</li>
                </ul>
            </p>
        </section>
        <section id="timing" deliveryTarget="details" props="android cpp">
            <title>Timing</title>
            <p props="cpp">You can call this method before or after joining a channel.</p>
            <p props="android">You can call this method before or after joining a channel.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>config</pt>
                    <pd>The configuration parameters for local audio mixing. See <xref keyref="LocalAudioMixerConfiguration"/>.</pd>
                </plentry>
                <plentry props="android">
                    <pt>config</pt>
                    <pd>Configuration parameters for local audio mixing. See <xref keyref="LocalAudioMixerConfiguration"/>.</pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="android cpp">
            <title>Return Values</title>
            <p props="cpp">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.
                        <ul>
                            <li>-7: The <xref keyref="IRtcEngine"/> object has not been initialized. Please initialize the <xref keyref="IRtcEngine"/> object before calling this method.</li>
                        </ul>
                    </li>
                </ul>
            </p>
            <p props="android">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.
                        <ul>
                            <li>-7: The <xref keyref="IRtcEngine"/> object has not been initialized. Please initialize the <xref keyref="IRtcEngine"/> object before calling this method.</li>
                        </ul>
                    </li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>