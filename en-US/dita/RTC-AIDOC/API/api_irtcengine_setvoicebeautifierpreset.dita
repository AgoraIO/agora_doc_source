<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_setvoicebeautifierpreset">
    <title><ph keyref="setVoiceBeautifierPreset"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Sets the preset voice beautifier effect.</ph><ph id="shortdesc" props="android">Sets the preset voice beautifier effect.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="setVoiceBeautifierPreset"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual int setVoiceBeautifierPreset(VOICE_BEAUTIFIER_PRESET preset) = 0;</codeblock>
                <codeblock props="android" outputclass="language-java">public abstract int setVoiceBeautifierPreset(int preset);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="since">
                <dlentry props="android">
                    <dt>Since</dt>
                    <dd>Added since v3.2.0.</dd>
                </dlentry>
            </dl>
            <p props="cpp">Call this method to set a preset voice beautifier effect for the local user who sends the audio stream. You can choose different effects for different scenarios. After setting, all users in the channel can hear the effect.</p>
            <p props="android">You can set different voice beautifier effects for different scenarios.
To achieve better voice effects, Agora recommends calling the following APIs before this method:
                <ul>
                    <li>Call <xref keyref="setAudioScenario"/> to set the audio scenario to high-quality audio, i.e., <codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph> (3).</li>
                    <li>Call <codeph>setAudioProfile</codeph>, and set <codeph>profile</codeph> to <codeph>MUSIC_HIGH_QUALITY</codeph> (4) or <codeph>MUSIC_HIGH_QUALITY_STEREO</codeph> (5).</li>
                </ul>
            </p>
            <note props="cpp">
                <ul>
                    <li>Do not set the <codeph>profile</codeph> parameter in <codeph>setAudioProfile</codeph> to <codeph>AUDIO_PROFILE_SPEECH_STANDARD</codeph> (1) or <codeph>AUDIO_PROFILE_IOT</codeph> (6), otherwise this method will not take effect.</li>
                    <li>This method works best for voice processing and is not recommended for audio data that includes music.</li>
                    <li>After calling <xref keyref="setVoiceBeautifierPreset"/>, it is not recommended to call the following methods, as they will override the effect set by <xref keyref="setVoiceBeautifierPreset"/>:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setAudioEffectParameters"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setVoiceConversionPreset"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <xref keyref="audiobeauty"/>. If the library is deleted, this feature cannot be enabled properly.</li>
                </ul>
            </note>
            <note props="android">
                <ul>
                    <li>Do not set <codeph>profile</codeph> to <codeph>SPEECH_STANDARD</codeph> (1) in <codeph>setAudioProfile</codeph>, otherwise this method will not take effect.</li>
                    <li>This method works best for voice processing and is not recommended for audio that contains music.</li>
                    <li>After calling <xref keyref="setVoiceBeautifierPreset"/>, Agora does not recommend calling the following methods, as they will override the effects set by this method:
                        <ul>
                            <li><xref keyref="setAudioEffectPreset"/></li>
                            <li><xref keyref="setAudioEffectParameters"/></li>
                            <li><xref keyref="setLocalVoicePitch"/></li>
                            <li><xref keyref="setLocalVoiceEqualization"/></li>
                            <li><xref keyref="setLocalVoiceReverb"/></li>
                            <li><xref keyref="setVoiceBeautifierParameters"/></li>
                            <li><xref keyref="setVoiceConversionPreset"/></li>
                        </ul>
                    </li>
                    <li>This method depends on the voice beautifier dynamic library <xref keyref="audiobeauty"/>. If the library is deleted, the feature will not work properly.</li>
                </ul>
            </note>
        </section>
        <section id="timing" deliveryTarget="details" props="android cpp">
            <title>Timing</title>
            <p props="cpp">You can call this method before or after joining a channel.</p>
            <p props="android">You can call this method either before or after joining a channel.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>preset</pt>
                    <pd>Preset voice beautifier option. See <xref keyref="VOICE_BEAUTIFIER_PRESET"/>.</pd>
                </plentry>
                <plentry props="android">
                    <pt>preset</pt>
                    <pd>Preset voice beautifier options:
                        <ul>
                            <li><codeph>VOICE_BEAUTIFIER_OFF</codeph>: Disables the voice beautifier and uses the original voice.</li>
                            <li><codeph>CHAT_BEAUTIFIER_MAGNETIC</codeph>: A more magnetic voice (male only).</li>
                            <li><codeph>CHAT_BEAUTIFIER_FRESH</codeph>: A fresher voice (female only).</li>
                            <li><codeph>CHAT_BEAUTIFIER_VITALITY</codeph>: A more energetic voice (female only).</li>
                            <li><codeph>SINGING_BEAUTIFIER</codeph>: Singing beautifier effect.
                                <ul>
                                    <li>Calling <xref keyref="setVoiceBeautifierPreset"/> with this option beautifies male voices and adds a reverb effect similar to singing in a small room. Recommended for male voices only, otherwise distortion may occur.</li>
                                    <li>Calling <xref keyref="setVoiceBeautifierParameters"/> with this option beautifies both male and female voices and adds a reverb effect.</li>
                                </ul>
                            </li>
                            <li><codeph>TIMBRE_TRANSFORMATION_VIGOROUS</codeph>: A more powerful voice.</li>
                            <li><codeph>TIMBRE_TRANSFORMATION_DEEP</codeph>: A deeper voice.</li>
                            <li><codeph>TIMBRE_TRANSFORMATION_MELLOW</codeph>: A softer voice.</li>
                            <li><codeph>TIMBRE_TRANSFORMATION_FALSETTO</codeph>: Falsetto.</li>
                            <li><codeph>TIMBRE_TRANSFORMATION_FULL</codeph>: A fuller voice.</li>
                            <li><codeph>TIMBRE_TRANSFORMATION_CLEAR</codeph>: A clearer voice.</li>
                            <li><codeph>TIMBRE_TRANSFORMATION_RESOUNDING</codeph>: A louder voice.</li>
                            <li><codeph>TIMBRE_TRANSFORMATION_RINGING</codeph>: A more penetrating voice.</li>
                            <li><codeph>ULTRA_HIGH_QUALITY_VOICE</codeph>: Ultra high-quality voice that makes audio clearer and restores more details.
                                <ul>
                                    <li>For better sound quality, Agora recommends calling <codeph>setAudioProfile</codeph> before this method, setting <codeph>profile</codeph> to <codeph>MUSIC_HIGH_QUALITY</codeph> (4) or <codeph>MUSIC_HIGH_QUALITY_STEREO</codeph> (5), and <codeph>scenario</codeph> to <codeph>AUDIO_SCENARIO_GAME_STREAMING</codeph> (3).</li>
                                    <li>If your audio capture device already restores audio details well, Agora does not recommend enabling ultra high-quality voice, as the SDK may over-enhance details, resulting in unexpected audio effects.</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="android cpp">
            <title>Return Values</title>
            <p props="cpp">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
            <p props="android">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>