<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="callback_irtcengineeventhandler_onsnapshottaken">
    <title><ph keyref="onSnapshotTaken"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Snapshot result callback.</ph><ph id="shortdesc" props="android">Callback for video snapshot result.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="onSnapshotTaken"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual void onSnapshotTaken(uid_t uid, const char* filePath, int width, int height, int errCode)</codeblock>
                <codeblock props="android" outputclass="language-java">public void onSnapshotTaken(int uid, String filePath, int width, int height, int errCode)</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="cpp">After successfully calling the <codeph>takeSnapshot</codeph> method, the SDK triggers this callback to report whether the snapshot was successful and provide detailed information.</p>
            <p props="android">This callback is triggered after the <codeph>takeSnapshot</codeph> method is successfully called to report the details and success of the snapshot.</p>
        </section>
        <section id="timing" deliveryTarget="details" props="android cpp">
            <title>Trigger Timing</title>
            <p props="cpp">Triggered after successfully calling the <codeph>takeSnapshot</codeph> method.</p>
            <p props="android">This callback is triggered after the <codeph>takeSnapshot</codeph> method is successfully called.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>uid</pt>
                    <pd>User ID. A <codeph>uid</codeph> of 0 indicates the local user.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>filePath</pt>
                    <pd>Local path of the snapshot.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>width</pt>
                    <pd>Width of the snapshot (pixels).</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>height</pt>
                    <pd>Height of the snapshot (pixels).</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>errCode</pt>
                    <pd>Error code of the snapshot result:
                        <ul>
                            <li>0: Success.</li>
                            <li>&lt; 0: Failure:
                                <ul>
                                    <li>-1: SDK failed to write file or encode JPEG image.</li>
                                    <li>-2: No video stream found for the specified user within 1 second after calling <codeph>takeSnapshot</codeph>. Possible reasons include: local capture stopped, remote stopped publishing, or video data processing was blocked.</li>
                                    <li>-3: <codeph>takeSnapshot</codeph> method was called too frequently.</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>uid</pt>
                    <pd>User ID. <codeph>uid</codeph> 0 indicates the local user.</pd>
                </plentry>
                <plentry props="android">
                    <pt>filePath</pt>
                    <pd>Local path of the snapshot.</pd>
                </plentry>
                <plentry props="android">
                    <pt>width</pt>
                    <pd>Width of the snapshot (in pixels).</pd>
                </plentry>
                <plentry props="android">
                    <pt>height</pt>
                    <pd>Height of the snapshot (in pixels).</pd>
                </plentry>
                <plentry props="android">
                    <pt>errCode</pt>
                    <pd>Error code of the snapshot result:
                        <ul>
                            <li>0: Success.</li>
                            <li>&lt; 0: Failure:
                                <ul>
                                    <li>-1: SDK failed to write file or encode JPEG image.</li>
                                    <li>-2: The specified user's video stream was not found within 1 second after calling <codeph>takeSnapshot</codeph>. Possible reasons include: local capture stopped, remote stopped publishing, or video data processing blocked.</li>
                                    <li>-3: <codeph>takeSnapshot</codeph> method is called too frequently.</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>