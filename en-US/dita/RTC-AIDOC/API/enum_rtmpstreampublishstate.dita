<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="enum_rtmpstreampublishstate">
    <title><ph keyref="RTMP_STREAM_PUBLISH_STATE"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">State of RTMP streaming.</ph></shortdesc>
    <refbody>
        <section id="parameters" deliveryTarget="details" props="cpp">
            <title>Enumerations</title>
            <parml>
                <plentry props="cpp">
                    <pt>RTMP_STREAM_PUBLISH_STATE_IDLE</pt>
                    <pd>(0): RTMP streaming not started or has ended.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>RTMP_STREAM_PUBLISH_STATE_CONNECTING</pt>
                    <pd>(1): Connecting to the streaming server and CDN server.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>RTMP_STREAM_PUBLISH_STATE_RUNNING</pt>
                    <pd>(2): RTMP or RTMPS streaming in progress. SDK successfully starts streaming and returns this state.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>RTMP_STREAM_PUBLISH_STATE_RECOVERING</pt>
                    <pd>(3): RTMP or RTMPS streaming is recovering. When the CDN is abnormal or the stream is interrupted, the SDK tries to recover and returns this state.
                        <ul>
                            <li>If recovery succeeds, returns <codeph>RTMP_STREAM_PUBLISH_STATE_RUNNING</codeph> (2).</li>
                            <li>If not recovered within 60 seconds or a server error occurs, returns <codeph>RTMP_STREAM_PUBLISH_STATE_FAILURE</codeph> (4). If 60 seconds is too long, you can try reconnecting proactively.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>RTMP_STREAM_PUBLISH_STATE_FAILURE</pt>
                    <pd>(4): RTMP or RTMPS streaming failed. You can troubleshoot the failure based on the returned error code.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>RTMP_STREAM_PUBLISH_STATE_DISCONNECTING</pt>
                    <pd>(5): SDK is disconnecting from the Agora streaming and CDN servers. When calling <xref keyref="stopRtmpStream"/> to stop streaming normally, the SDK reports the states <codeph>RTMP_STREAM_PUBLISH_STATE_DISCONNECTING</codeph> and <codeph>RTMP_STREAM_PUBLISH_STATE_IDLE</codeph> in sequence.</pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>