<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_setenablespeakerphone">
    <title><ph keyref="setEnableSpeakerphone"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Sets whether to switch the audio route to the speaker.</ph><ph id="shortdesc" props="android">Sets whether to switch the audio route to the speaker.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="setEnableSpeakerphone"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual int setEnableSpeakerphone(bool speakerOn) = 0;</codeblock>
                <codeblock props="android" outputclass="language-java">public abstract int setEnableSpeakerphone(boolean enabled);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <note props="cpp"><xref keyref="setEnableSpeakerphone"/> only sets the audio route in the current channel and does not affect the default audio route. If the user leaves the current channel and joins another, the default audio route is used.
If the user uses external audio playback devices such as Bluetooth or wired headsets, this method does not take effect. The SDK plays audio through the external device. When multiple external devices are connected, the SDK plays audio through the last connected device.
This method applies to Android and iOS only.</note>
            <note props="android">This method only sets the audio route for the current channel and does not affect the default audio route. If the user leaves the current channel and joins another, the default audio route will be used.
If the user uses external audio playback devices such as Bluetooth or wired headsets, this method has no effect. The SDK plays audio through the external device. When multiple external devices are connected, the SDK plays audio through the last connected device.</note>
        </section>
        <section id="scenario" deliveryTarget="details">
            <title>Scenario</title>
            <p>If the SDK's default audio route or the setting from <xref keyref="setDefaultAudioRouteToSpeakerphone"/> does not meet your needs, you can call this method to switch the current audio route.</p>
        </section>
        <section id="timing" deliveryTarget="details" props="android cpp">
            <title>Timing</title>
            <p props="cpp">Call this method after joining a channel.</p>
            <p props="android">Call this method after joining a channel.</p>
        </section>
        <section id="related" deliveryTarget="details" props="android cpp">
            <title>Related Callbacks</title>
            <p props="cpp">After this method is successfully called, the SDK triggers the <xref keyref="onAudioRoutingChanged"/> callback to report the current audio route.</p>
            <p props="android">After successfully calling this method, the SDK triggers the <xref keyref="onAudioRoutingChanged"/> callback to report the current audio route.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>speakerOn</pt>
                    <pd>Whether to enable the speaker:
                        <ul>
                            <li><xref keyref="true"/>: Enable device state detection, audio route is speaker.</li>
                            <li><xref keyref="false"/>: Disable device state detection, audio route is earpiece.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>enabled</pt>
                    <pd>Whether to enable the speaker:
                        <ul>
                            <li><xref keyref="true"/>: Enable device state monitoring, audio route is speaker.</li>
                            <li><xref keyref="false"/>: Disable device state monitoring, audio route is earpiece.</li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="android cpp">
            <title>Return Values</title>
            <p props="cpp">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
            <p props="android">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.</li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>