<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="enum_connectionstatetype">
    <title><ph keyref="CONNECTION_STATE_TYPE"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Connection states.</ph></shortdesc>
    <refbody>
        <section id="parameters" deliveryTarget="details" props="cpp">
            <title>Enumerations</title>
            <parml>
                <plentry props="cpp">
                    <pt>CONNECTION_STATE_DISCONNECTED</pt>
                    <pd>(1): The SDK is disconnected from the Agora edge server. This state indicates that the SDK is either before calling <codeph>joinChannel(const char* token, const char* channelId, uid_t uid, const ChannelMediaOptions&amp; options)</codeph>, or after calling <codeph>leaveChannel()</codeph>.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>CONNECTION_STATE_CONNECTING</pt>
                    <pd>(2): The SDK is connecting to the Agora edge server. This state indicates that after calling <codeph>joinChannel(const char* token, const char* channelId, uid_t uid, const ChannelMediaOptions&amp; options)</codeph>, the SDK is establishing a connection with the specified channel. Upon successful connection, the SDK triggers the <xref keyref="onConnectionStateChanged"/> callback and switches to <codeph>CONNECTION_STATE_CONNECTED</codeph>. After the connection is established, the SDK initializes media and triggers the <xref keyref="onJoinChannelSuccess"/> callback when ready.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>CONNECTION_STATE_CONNECTED</pt>
                    <pd>(3): The SDK is connected to the Agora edge server. This state indicates that the user has joined the channel and can publish or subscribe to media streams. If the connection is lost due to network interruption or switching, the SDK automatically attempts to reconnect and triggers the <xref keyref="onConnectionStateChanged"/> callback, changing the state to <codeph>CONNECTION_STATE_RECONNECTING</codeph>.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>CONNECTION_STATE_RECONNECTING</pt>
                    <pd>(4): The SDK is reconnecting to the Agora edge server. This state indicates that the SDK is trying to rejoin the channel after being disconnected due to network issues:
                        <ul>
                            <li>If the SDK fails to rejoin within 10 seconds, it triggers the <xref keyref="onConnectionLost"/> callback, remains in <codeph>CONNECTION_STATE_RECONNECTING</codeph>, and continues to retry.</li>
                            <li>If the SDK fails to rejoin after 20 minutes, it triggers the <xref keyref="onConnectionStateChanged"/> callback, switches to <codeph>CONNECTION_STATE_FAILED</codeph>, and stops reconnecting.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>CONNECTION_STATE_FAILED</pt>
                    <pd>(5): The SDK cannot connect to the Agora edge server or join the channel. This state indicates that the SDK has stopped attempting to reconnect. You must call <codeph>leaveChannel()</codeph> to leave the channel. You can call <codeph>joinChannel(const char* token, const char* channelId, uid_t uid, const ChannelMediaOptions&amp; options)</codeph> again to rejoin. If the SDK is banned from joining the channel by the Agora edge server via RESTful API, it triggers the <xref keyref="onConnectionStateChanged"/> callback.</pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>