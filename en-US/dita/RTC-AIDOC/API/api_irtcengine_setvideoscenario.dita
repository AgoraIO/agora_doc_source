<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_setvideoscenario">
    <title><ph keyref="setVideoScenario"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Sets the video application scenario.</ph><ph id="shortdesc" props="android">Sets the video application scenario.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="setVideoScenario"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual int setVideoScenario(VIDEO_APPLICATION_SCENARIO_TYPE scenarioType) = 0;</codeblock>
                <codeblock props="android" outputclass="language-java">public abstract int setVideoScenario(Constants.VideoScenario scenarioType);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="since">
                <dlentry props="cpp">
                    <dt>Since</dt>
                    <dd>Available since v4.2.0.</dd>
                </dlentry>
            </dl>
            <p props="android">After this method is successfully called, the SDK automatically enables best practice strategies and adjusts key performance indicators based on the specified video scenario to optimize the video experience.</p>
            <note props="cpp">Call this method before joining a channel.</note>
            <note props="android">Call this method before joining a channel.</note>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>scenarioType</pt>
                    <pd>Type of video application scenario. See <xref keyref="VIDEO_APPLICATION_SCENARIO_TYPE"/>.
                        <ul>
                            <li><codeph>APPLICATION_SCENARIO_MEETING</codeph> (1): Suitable for meeting scenarios. The SDK automatically enables the following strategies:
                                <ul>
                                    <li>When the low-quality video stream requires higher bitrate, the SDK uses various anti-network congestion techniques to improve its performance and ensure smooth reception.</li>
                                    <li>The SDK monitors the number of high-quality video stream subscribers in real time and adjusts its configuration dynamically:
                                        <ul>
                                            <li>If no one subscribes to the high-quality stream, the SDK reduces its bitrate and frame rate to save upstream bandwidth.</li>
                                            <li>If there are subscribers, the SDK resets to the last <xref keyref="VideoEncoderConfiguration"/> set via <xref keyref="setVideoEncoderConfiguration"/>; if not set, the defaults are:
                                                <ul>
                                                    <li>Resolution: (Windows/macOS) 1280 × 720; (Android/iOS) 960 × 540.</li>
                                                    <li>Frame rate: 15 fps.</li>
                                                    <li>Bitrate: (Windows/macOS) 1600 Kbps; (Android/iOS) 1000 Kbps.</li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>The SDK monitors the number of low-quality stream subscribers and enables/disables the stream accordingly:
                                        <ul>
                                            <li>If <codeph>setDualStreamMode</codeph> is set to never send low-quality streams (<codeph>DISABLE_SIMULCAST_STREAM</codeph>), this strategy is invalid.</li>
                                            <li>If no one subscribes, the SDK disables the stream to save bandwidth.</li>
                                            <li>If there are subscribers, the SDK enables the stream and resets to the last <xref keyref="SimulcastStreamConfig"/> set via <codeph>setDualStreamMode</codeph>; if not set, the defaults are:
                                                <ul>
                                                    <li>Resolution: 480 × 272.</li>
                                                    <li>Frame rate: 15 fps.</li>
                                                    <li>Bitrate: 500 Kbps.</li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><codeph>APPLICATION_SCENARIO_1V1</codeph> (2): Suitable for one-on-one live streaming. The SDK optimizes for low latency and high quality, improving video quality, first frame rendering speed, latency on mid- and low-end devices, and smoothness under weak network conditions. Note: This value is only for host-to-host scenarios.</li>
                            <li><codeph>APPLICATION_SCENARIO_LIVESHOW</codeph> (3): Suitable for live show scenarios. The SDK enables multiple optimizations, including automatic audio/video frame acceleration (no need to call <xref keyref="enableInstantMediaRendering"/>) to reduce first frame delay and enabling B-frame encoding to improve image quality and bandwidth efficiency, even under weak networks or on low-end devices.</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>scenarioType</pt>
                    <pd>Type of video application scenario. See <xref keyref="VIDEO_APPLICATION_SCENARIO_TYPE"/>.
                        <ul>
                            <li><codeph>APPLICATION_SCENARIO_MEETING</codeph> (1): Suitable for meeting scenarios. The SDK automatically enables the following strategies:
                                <ul>
                                    <li>When the low-quality video stream requires a higher bitrate, the SDK automatically enables various network congestion handling techniques to enhance the performance of the low-quality stream and ensure smooth reception on the subscriber side.</li>
                                    <li>The SDK monitors the number of subscribers to the high-quality video stream in real time and dynamically adjusts its configuration:
                                        <ul>
                                            <li>If no one subscribes to the high-quality stream, the SDK automatically reduces its bitrate and frame rate to save upstream bandwidth.</li>
                                            <li>If someone subscribes to the high-quality stream, the SDK resets it to the configuration set by the most recent call to <xref keyref="setVideoEncoderConfiguration"/>; if no configuration was set, the following defaults are used:
                                                <ul>
                                                    <li>Resolution: 960 × 540.</li>
                                                    <li>Frame rate: 15 fps.</li>
                                                    <li>Bitrate: 1000 Kbps.</li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>The SDK monitors the number of subscribers to the low-quality stream in real time and dynamically enables or disables the stream:
                                        <ul>
                                            <li>If you called <codeph>setDualStreamMode</codeph> and set it to never send the low-quality stream (<codeph>DISABLE_SIMULCAST_STREAM</codeph>), then dynamic adjustment of the low-quality stream in meeting scenarios will not take effect.</li>
                                            <li>If no one subscribes to the low-quality stream, the SDK disables it to save upstream bandwidth.</li>
                                            <li>If someone subscribes to the low-quality stream, the SDK enables it and resets it to the configuration set by the most recent call to <codeph>setDualStreamMode</codeph>; if no configuration was set, the following defaults are used:
                                                <ul>
                                                    <li>Resolution: 480 × 272.</li>
                                                    <li>Frame rate: 15 fps.</li>
                                                    <li>Bitrate: 500 Kbps.</li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><codeph>APPLICATION_SCENARIO_1V1</codeph> (2): Suitable for one-on-one live streaming scenarios. To meet the needs of low latency and high quality, the SDK optimizes strategies to improve video quality, first frame rendering speed, latency performance on mid- and low-end devices, and smoothness under poor network conditions.
                                <ul>
                                    <li>Note: This enum value is only applicable to broadcaster-to-broadcaster scenarios.</li>
                                </ul>
                            </li>
                            <li><codeph>APPLICATION_SCENARIO_LIVESHOW</codeph> (3): Suitable for live show scenarios. In this scenario, fast video rendering and high quality are critical. The SDK performs various performance optimizations, including:
                                <ul>
                                    <li>Automatically enabling audio and video frame accelerated rendering to minimize first-frame delay (no need to call <xref keyref="enableInstantMediaRendering"/>).</li>
                                    <li>Enabling B-frame encoding to improve image quality and bandwidth efficiency.</li>
                                    <li>Providing enhanced video quality and smooth playback even under poor network conditions or on low-end devices.</li>
                                </ul>
                            </li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="android cpp">
            <title>Return Values</title>
            <p props="cpp">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.
                        <ul>
                            <li>-1: General error (no specific reason).</li>
                            <li>-4: Video application scenario not supported, possibly due to using the voice SDK instead of the video SDK.</li>
                            <li>-7: <xref keyref="IRtcEngine"/> object not initialized. Please initialize the <xref keyref="IRtcEngine"/> object before calling this method.</li>
                        </ul>
                    </li>
                </ul>
            </p>
            <p props="android">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.
                        <ul>
                            <li>-1: A general error occurred (no specific reason).</li>
                            <li>-4: Video scenario not supported. Possible reason: using the voice SDK instead of the video SDK.</li>
                            <li>-7: The <xref keyref="IRtcEngine"/> object has not been initialized. Please initialize the <xref keyref="IRtcEngine"/> object before calling this method.</li>
                        </ul>
                    </li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>