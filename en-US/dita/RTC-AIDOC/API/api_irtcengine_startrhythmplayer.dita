<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_irtcengine_startrhythmplayer">
    <title><ph keyref="startRhythmPlayer"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">Enables the virtual metronome.</ph><ph id="shortdesc" props="android">Enables the virtual metronome.</ph></shortdesc>
    <prolog>
        <metadata>
            <keywords>
                <indexterm keyref="startRhythmPlayer"/>
            </keywords>
        </metadata>
    </prolog>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">virtual int startRhythmPlayer(const char* sound1, const char* sound2, const AgoraRhythmPlayerConfig&amp; config) = 0;</codeblock>
                <codeblock props="android" outputclass="language-java">public abstract int startRhythmPlayer(String sound1, String sound2, AgoraRhythmPlayerConfig config);</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="deprecated">
                <dlentry props="cpp">
                    <dt>Deprecated</dt>
                    <dd>Deprecated since v4.6.0.</dd>
                </dlentry>
            </dl>
            <p props="cpp">After enabling the virtual metronome, the SDK starts playing the specified sound effect files from the beginning and controls the duration of each file based on the <codeph>beatsPerMinute</codeph> you set in <xref keyref="AgoraRhythmPlayerConfig"/>. For example, if you set <codeph>beatsPerMinute</codeph> to 60, the SDK plays one beat per second. If the file duration exceeds the beat duration, the SDK only plays the audio content within the beat duration.
By default, the metronome sound is published in the channel. If you want remote users to hear the sound, set <codeph>publishRhythmPlayerTrack</codeph> to <xref keyref="true"/> in <xref keyref="ChannelMediaOptions"/>.</p>
            <p props="android">After enabling the virtual metronome, the SDK plays the specified sound effect files from the beginning and controls the playback duration of each file according to the <codeph>beatsPerMinute</codeph> set in <xref keyref="AgoraRhythmPlayerConfig"/>. For example, if <codeph>beatsPerMinute</codeph> is set to 60, the SDK plays one beat per second. If the file duration exceeds the beat duration, the SDK only plays the audio content within the beat duration.
By default, the sound of the virtual metronome is published in the channel. If you want remote users to hear the sound, set <codeph>publishRhythmPlayerTrack</codeph> to <xref keyref="true"/> in <xref keyref="ChannelMediaOptions"/>.</p>
        </section>
        <section id="scenario" deliveryTarget="details">
            <title>Scenario</title>
            <p>In scenarios such as music education and sports training, instructors often use a metronome to help students practice at the correct tempo. A measure consists of strong and weak beats, with the first beat of each measure being the strong beat and the rest being weak beats.</p>
        </section>
        <section id="timing" deliveryTarget="details" props="android cpp">
            <title>Timing</title>
            <p props="cpp">This method can be called before or after joining a channel.</p>
            <p props="android">This method can be called before or after joining a channel.</p>
        </section>
        <section id="related" deliveryTarget="details" props="cpp">
            <title>Related Callbacks</title>
            <p props="cpp">After successfully calling this method, the SDK triggers the <xref keyref="onRhythmPlayerStateChanged"/> callback to report the state of the virtual metronome.</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp">
            <title>Parameters</title>
            <parml>
                <plentry props="cpp">
                    <pt>sound1</pt>
                    <pd>The absolute path or URL of the strong beat sound effect file (including file extension). For example, <xref keyref="filePath-example"/>. See SDK supported formats for supported audio file formats.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>sound2</pt>
                    <pd>The absolute path or URL of the weak beat sound effect file (including file extension). For example, <xref keyref="filePath-example"/>. See SDK supported formats for supported audio file formats.</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>config</pt>
                    <pd>Metronome configuration. See <xref keyref="AgoraRhythmPlayerConfig"/>.</pd>
                </plentry>
                <plentry props="android">
                    <pt>sound1</pt>
                    <pd>Absolute path or URL of the strong beat sound effect file (including file extension). For example: <xref keyref="filePath-example"/>. For supported audio formats, see [What audio formats does Agora RTC SDK support](https://doc.shengwang.cn/faq/general-product-inquiry/audio-format).</pd>
                </plentry>
                <plentry props="android">
                    <pt>sound2</pt>
                    <pd>Absolute path or URL of the weak beat sound effect file (including file extension). For example: <xref keyref="filePath-example"/>. For supported audio formats, see [What audio formats does Agora RTC SDK support](https://doc.shengwang.cn/faq/general-product-inquiry/audio-format).</pd>
                </plentry>
                <plentry props="android">
                    <pt>config</pt>
                    <pd>Metronome configuration. See <xref keyref="AgoraRhythmPlayerConfig"/>.</pd>
                </plentry>
            </parml>
        </section>
        <section id="return_values" props="android cpp">
            <title>Return Values</title>
            <p props="cpp">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.
                        <ul>
                            <li>-22: Sound effect file not found. Please set the correct paths for <codeph>sound1</codeph> and <codeph>sound2</codeph>.</li>
                        </ul>
                    </li>
                </ul>
            </p>
            <p props="android">
                <ul>
                    <li>0: Success.</li>
                    <li>&lt; 0: Failure.
                        <ul>
                            <li>-22: Sound effect file not found. Please set the correct path for <codeph>sound1</codeph> and <codeph>sound2</codeph>.</li>
                        </ul>
                    </li>
                </ul>
            </p>
        </section>
    </refbody>
</reference>