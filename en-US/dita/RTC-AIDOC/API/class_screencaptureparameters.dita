<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="class_screencaptureparameters">
    <title><ph keyref="ScreenCaptureParameters"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">用于配置屏幕共享的参数。</ph></shortdesc>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">struct ScreenCaptureParameters {
  bool captureAudio;
  ScreenAudioParameters audioParams;
  VideoDimensions dimensions;
  int frameRate;
  int bitrate;
  bool captureMouseCursor;
  bool windowFocus;
  view_t* excludeWindowList;
  int excludeWindowCount;
  int highLightWidth;
  unsigned int highLightColor;
  bool enableHighLight;
};</codeblock>
            </p>
        </section>
        <section id="parameters" deliveryTarget="details" props="cpp">
            <title>Properties</title>
            <parml>
                <plentry props="cpp">
                    <pt>dimensions</pt>
                    <pd>
                        <note>在文档共享场景中设置编码分辨率时，请参考建议设置方式。</note><ph>屏幕共享视频流的编码分辨率。默认值为 1920 × 1080，即 2,073,600 像素。声网会根据该参数的值计算费用。如果屏幕尺寸与该参数值不同，SDK 会采用以下编码策略。假设 <codeph>dimensions</codeph> 设置为 1920 × 1080：</ph>
                        <ul>
                            <li>如果屏幕尺寸小于 <codeph>dimensions</codeph>，例如 1000 × 1000 像素，SDK 使用屏幕尺寸（即 1000 × 1000 像素）进行编码。</li>
                            <li>如果屏幕尺寸大于 <codeph>dimensions</codeph>，例如 2000 × 1500 像素，SDK 会在保持屏幕宽高比（4:3）的前提下，使用不超过 <codeph>dimensions</codeph> 的最大值进行编码，即 1440 × 1080。</li>
                        </ul><ph>详见 <xref keyref="VideoDimensions"/>。</ph></pd>
                </plentry>
                <plentry props="cpp">
                    <pt>frameRate</pt>
                    <pd>在 Windows 和 macOS 上，表示屏幕共享视频流的编码帧率（fps）。默认值为 5。声网不建议设置超过 15 的值。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>bitrate</pt>
                    <pd>在 Windows 和 macOS 上，表示屏幕共享视频流的编码码率（Kbps）。默认值为 0，表示 SDK 会根据当前屏幕的分辨率自动计算码率。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>captureMouseCursor</pt>
                    <pd>
                        <note>由于 macOS 系统限制，在屏幕共享时设置为 <xref keyref="false"/> 无效（共享窗口时不受影响）。</note><ph>是否在屏幕共享中捕获鼠标：</ph>
                        <ul>
                            <li><xref keyref="true"/>：（默认）捕获鼠标。</li>
                            <li><xref keyref="false"/>：不捕获鼠标。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>windowFocus</pt>
                    <pd>
                        <note>由于 macOS 系统限制，当设置该参数将窗口置于前台时，如果当前应用有多个窗口，只有主窗口会被置于前台。</note><ph>调用 <xref keyref="startScreenCaptureByWindowId"/> 方法共享窗口时，是否将该窗口置于前台：</ph>
                        <ul>
                            <li><xref keyref="true"/>：将窗口置于前台。</li>
                            <li><xref keyref="false"/>：（默认）不将窗口置于前台。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>excludeWindowList</pt>
                    <pd>要屏蔽的窗口 ID 列表。调用 <xref keyref="startScreenCaptureByDisplayId"/> 开始屏幕共享时，可使用该参数屏蔽指定窗口。调用 <xref keyref="updateScreenCaptureParameters"/> 更新屏幕共享配置时，也可使用该参数动态屏蔽指定窗口。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>excludeWindowCount</pt>
                    <pd>要排除的窗口数量。
                        <note>在 Windows 平台上，该参数的最大值为 24；若超过此值，窗口排除将失败。</note>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>highLightWidth</pt>
                    <pd>（仅适用于 macOS 和 Windows）边框的宽度（像素）。默认值为 5，取值范围为 (0, 50]。
                        <note>仅当 <codeph>highLighted</codeph> 设置为 <xref keyref="true"/> 时该参数才生效。</note>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>highLightColor</pt>
                    <pd>（仅适用于 macOS 和 Windows）
                        <ul>
                            <li>在 Windows 平台上，边框颜色为 ARGB 格式。默认值为 0xFF8CBF26。</li>
                            <li>在 macOS 上，<codeph>COLOR_CLASS</codeph> 表示 <codeph>NSColor</codeph>。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>enableHighLight</pt>
                    <pd>
                        <note>当共享窗口或屏幕的部分区域时，若设置该参数为 <xref keyref="true"/>，SDK 会在整个窗口或屏幕周围显示边框。</note><ph>（仅适用于 macOS 和 Windows）是否在共享的窗口或屏幕周围显示边框：</ph>
                        <ul>
                            <li><xref keyref="true"/>：显示边框。</li>
                            <li><xref keyref="false"/>：（默认）不显示边框。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>captureAudio</pt>
                    <pd>
                        <note>由于系统限制，仅 Android API 级别 29 及以上（即 Android 10 及以上）支持采集系统音频。</note><ph>是否在屏幕共享时采集系统音频：</ph>
                        <ul>
                            <li><xref keyref="true"/>：采集系统音频。</li>
                            <li><xref keyref="false"/>：（默认）不采集系统音频。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>audioParams</pt>
                    <pd>音频配置参数。详见 <xref keyref="ScreenAudioParameters"/>。
                        <note>仅当 <codeph>captureAudio</codeph> 为 <xref keyref="true"/> 时该参数才生效。</note>
                    </pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>