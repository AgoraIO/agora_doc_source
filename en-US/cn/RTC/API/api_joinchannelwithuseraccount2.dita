<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_joinchannelwithuseraccount2">
    <title><ph keyref="joinChannelWithUserAccount2"/>[1/2]</title>
    <shortdesc id="short"><ph id="shortdesc">Joins the channel with a user account, and configures whether to automatically subscribe to audio or video streams after joining the channel.</ph></shortdesc>
    <prolog>
        <metadata>
   <keywords>
       <indexterm keyref="joinChannelWithUserAccount2" />
   </keywords>
        </metadata>
    </prolog>
    <refbody><section id="prototype">

        <p conref="../conref/conref_rtc_api.dita#apidef/joinChannelWithUserAccount2"/>
        </section>
        <section id="detailed_desc">

   <dl outputclass="since">
       <dlentry>
  <dt>Since</dt>
  <dd>v3.3.0</dd>
       </dlentry>
   </dl>
   <p>This method enables the recording server to join the channel with the user account. This callback occurs when the local user successfully joins the channel.<ul>
  <li>Local:<xref keyref="onLocalUserRegistered"/>,<xref keyref="onJoinChannelSuccess"/> and callback.<xref keyref="onConnectionStateChanged"></xref></li>
  <li>A successful call of this method triggers the following callbacks: The local client: .The remote client: , if the user joining the channel is in the COMMUNICATION profile, or is a host in the<xref keyref="onUserJoined"/><xref keyref="onUserInfoUpdated"/> LIVE_BROADCASTING profile.</li>
       </ul></p>
   <p>Once the user joins the channel, the user subscribes to the audio and video streams of all the other users in the channel by default, giving rise to usage and billing calculation. If you do not want to subscribe to a specified stream or all remote streams, call the <apiname>mute</apiname> methods accordingly.</p>
   <note outputclass="note">
       <ul>
  <li>Compared to<xref keyref="joinChannelWithUserAccount1"/> [1/2], this method adds the <parmname>options</parmname> parameter to configure whether to automatically subscribe to all remote audio and video streams in the channel when the user joins the channel. By default, the user subscribes to the audio and video streams of all the other users in the channel, thus incurring all associated usage costs. To unsubscribe, set the `<parmname>options</parmname>` parameter or call the `<apiname>mute</apiname>` methods accordingly.</li>
  <li>To ensure smooth communication, use the same parameter type to identify the user. That is, UID or User Account must be used uniformly in the same channel. If a user joins the channel with the Agora Web SDK, ensure that the uid of the user is set to the same parameter type.</li>
       </ul>
   </note>
        </section>
        <section id="parameters"><title>Parameter</title>
   <parml>
       <plentry conkeyref="joinChannel2/token">
  <pt/>
  <pd/>
       </plentry>
       <plentry conkeyref="joinChannel2/channelID">
  <pt/>
  <pd/>
       </plentry>
       <plentry id="userAccount">
  <pt>userAccount</pt>
      <pd><p>The user account. This parameter is used to identify real-time audio and video interaction channels. You need to set up and manage the User Account of the user by yourself, and ensure that the User Account of each user in the same channel is unique. The maximum length of this parameter is 255 bytes. Ensure that you set this parameter and do not set it as null<ph keyref="NULL"/>. Supported character scopes are:<ul>
     <li>The 26 lowercase English letters: a to z.</li>
     <li>The 26 uppercase English letters: A to Z.</li>
     <li>All numeric characters: 0 to 9.</li>
     <li>Space</li>
     <li>&quot;!&quot;、&quot;#&quot;、&quot;$&quot;、&quot;%&quot;、&quot;&amp;&quot;、&quot;(&quot;、&quot;)&quot;、&quot;+&quot;、&quot;-&quot;、&quot;:&quot;、&quot;;&quot;、&quot;&lt;&quot;、&quot;=&quot;、&quot;.&quot;、&quot;>&quot;、&quot;?&quot;、&quot;@&quot;、&quot;[&quot;、&quot;]&quot;、&quot;^&quot;、&quot;_&quot;、&quot;{&quot;、&quot;}&quot;、&quot;|&quot;、&quot;~&quot;、&quot;,&quot;</li>
 </ul></p></pd>
       </plentry>
       <plentry conkeyref="joinChannel2/options">
  <pt/>
  <pd/>
       </plentry>
   </parml>
        </section>
        <section conkeyref="joinChannel2/return_values"/>
   </refbody>
</reference>
