<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_addvideowatermark2">
    <title><ph keyref="addVideoWatermark2"/>[1/2]</title>
    <shortdesc id="short"><ph id="shortdesc">Adds a watermark image to the local video.</ph></shortdesc>
    <prolog>
        <metadata>
   <keywords>
       <indexterm keyref="addVideoWatermark2" />
   </keywords>
        </metadata>
    </prolog>
    <refbody><section id="prototype">
        
        <p conref="../conref/conref_rtc_api.dita#apidef/addVideoWatermark2"/>
        </section>
        <section id="detailed_desc">
   
   <p>This method adds a PNG watermark image to the local video in the live streaming. Once the watermark image is added, all the audience in the channel (CDN audience included), and the capturing device can see and capture it. Agora supports adding only one watermark image onto the local video, and the newly watermark image replaces the previous one.</p>
   <p>水印坐标和 <xref keyref="setVideoEncoderConfiguration"/> 方法中的设置有依赖关系：<ul>
  <li>如果视频编码方向（<xref keyref="ORIENTATION_MODE"/>） 固定为横屏或自适应模式下的横屏，那么水印使用横屏坐标。</li>
  <li>如果视频编码方向（<apiname keyref="ORIENTATION_MODE"/>） 固定为竖屏或自适应模式下的竖屏，那么水印使用竖屏坐标。</li>
  <li>设置水印坐标时，水印的图像区域不能超出 <apiname keyref="setVideoEncoderConfiguration"/> 方法中设置的视频尺寸，否则超出部分将被裁剪。</li>
       </ul>
   </p>
   <note outputclass="note">
       <ul>
  <li>你需要在调用 <xref keyref="enableVideo"/> 方法之后再调用本方法。</li>
  <li>如果你只是在旁路直播（推流到 CDN）中添加水印，你可以使用本方法或 <xref keyref="setLiveTranscoding"/> 方法设置水印。</li>
  <li>This method supports adding a watermark image in the PNG file format only. Supported pixel formats of the PNG image are RGBA, RGB, Palette, Gray, and Alpha_gray.</li>
  <li>If the dimensions of the PNG image differ from your settings in this method, the image will be cropped or zoomed to conform to your settings.</li>
  <li>如果你已经使用 <xref keyref="startPreview"/> 方法开启本地视频预览，那么本方法的 <codeph>visibleInPreview</codeph> 可设置水印在预览时是否可见。</li>
  <li>If you have enabled the mirror mode for the local video, the watermark on the local video is also mirrored. To avoid mirroring the watermark, Agora recommends that you do not use the mirror and watermark functions for the local video at the same time. You can implement the watermark function in your application layer.</li>
       </ul>
   </note>
        </section>
        <section id="parameters"><title>Parameter</title>
   <parml>
       <plentry>
  <pt>watermarkUrl</pt>
  <pd>The options of the watermark image to be added. This method supports adding a watermark image from the local absolute or relative file path.</pd>
       </plentry>
       <plentry>
  <pt>options</pt>
  <pd>The options of the watermark image to be added<xref keyref="WatermarkOptions"/>.</pd>
       </plentry>
   </parml>
        </section>
        <section id="return_values">
   <title>Returns</title>
   <ul>
       <li>0: Success.</li>
       <li>&lt; 0: Failure.</li>
   </ul>
        </section></refbody>
</reference>
