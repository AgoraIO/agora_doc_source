<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_startchannelmediarelay">
    <title><ph keyref="startChannelMediaRelay"/></title>
    <shortdesc id="short"><ph id="shortdesc">Starts relaying media streams across channels. This method can be used to implement scenarios such as cross-channel connection of microphones.</ph></shortdesc>
    <prolog>
        <metadata>
   <keywords>
       <indexterm keyref="startChannelMediaRelay" />
   </keywords>
        </metadata>
    </prolog>
    <refbody><section id="prototype">
        
        <p conref="../conref/conref_rtc_api.dita#apidef/startChannelMediaRelay"/>
        </section>
        <section id="detailed_desc">
   
   <p>After successfully calling this method, the SDK will trigger<xref keyref="onChannelMediaRelayStateChanged"/> and<xref keyref="onChannelMediaRelayEvent"/> callbacks, and report the current cross-channel media stream forwarding status and events in the callback.<ul>
  <li>If<apiname keyref="onChannelMediaRelayStateChanged"/> the callback reports<apiname keyref="RELAY_STATE_RUNNING"/> (2) and<apiname keyref="RELAY_OK"/> (0), and the<apiname keyref="onChannelMediaRelayEvent"/> callback report<apiname keyref="RELAY_EVENT_PACKET_SENT_TO_DEST_CHANNEL"/> (4), it means that the SDK starts to forward the media stream between the source channel and the target channel.</li>
  <li>If the <apiname keyref="onChannelMediaRelayStateChanged"/>report (3) is called back<apiname keyref="RELAY_STATE_FAILURE"/>, it means that the cross-channel media stream forwarding is abnormal.</li>
       </ul>
   </p>
   <note outputclass="note">
       <ul>
  <li>Call this method after the \ref joinChannel() &quot;joinChannel&quot; method.</li>
  <li>This method applies to `LIVE_BROADCASTING` only.</li>
  <li>To call this method again after it succeeds, you must call {@link stopChannelMediaRelay}<xref keyref="stopChannelMediaRelay"/> to quit the current relay.</li>
  <li>The cross-channel media stream forwarding function needs to <xref href="https://agora-ticket.agora.io/" scope="external" format="html">submit a work </xref>order to contact technical support for activation.</li>
  <li>We do not support string user IDs in this API.</li>
       </ul>
   </note>
        </section>
        <section id="parameters"><title>Parameter</title>
   <parml>
       <plentry>
  <pt>configuration</pt>
  <pd>Configurations of the media stream relay. See <xref keyref="ChannelMediaRelayConfiguration"/>.</pd>
       </plentry>
   </parml>
        </section>
        <section id="return_values">
   <title>Returns</title>
   <ul>
       <li>Success.</li>
       <li>&lt;Failure.</li>
   </ul>
        </section></refbody>
</reference>
