<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="api_joinchannel2">
    <title><ph keyref="joinChannel2"/>[2/2] <ph keyref="joinChannel2"/>[2/2]</title>
    <shortdesc id="short"><ph id="shortdesc">Joins a channel with the user ID, and configures whether to automatically subscribe to the audio or video streams. </ph><ph id="shortdesc">Joins a channel with the user ID, and configures whether to automatically subscribe to the audio or video streams.</ph></shortdesc>
    <prolog>
        <metadata>
   <keywords>
       <indexterm keyref="joinChannel2" />
   </keywords>
        </metadata>
    </prolog>
    <refbody><section id="prototype">
        
        <p conref="../conref/conref_rtc_api.dita#apidef/joinChannel2"/>
        </section>
        <section id="detailed_desc">
   <dl outputclass="since">
       <dlentry>
  <dt>Since Since</dt>
  <dd>v3.3.0 v3.3.0</dd>
       </dlentry>
   </dl>
            <p id="desc1">This method joins an Agora RTC channel. This method joins an Agora RTC channel. Users with the same App ID in the same channel can talk to each other, and multiple users in the same channel can start a group chat. Users with the same App ID in the same channel can talk to each other, and multiple users in the same channel can start a group chat.</p>
            <p id="desc2">A successful call of this method triggers the following callbacks: A successful call of this method triggers the following callbacks:<ul>
                <li>The local client: The and callbacks<xref keyref="onJoinChannelSuccess"/><xref keyref="onConnectionStateChanged"/>. The local client: The and callbacks<xref keyref="onJoinChannelSuccess"/><xref keyref="onConnectionStateChanged"/>.</li>
                <li>The remote client: , if the user joining the channel is in the communication profile, or is a host in the live streaming profile<xref keyref="onUserJoined"/>. The remote client: , if the user joining the channel is in the communication profile, or is a host in the live streaming profile<xref keyref="onUserJoined"/>.</li>
            </ul></p>
            <p id="desc3">When the connection between the client and Agora&apos;s server is interrupted due to poor network conditions, the SDK tries reconnecting to the server. When the local client successfully rejoins the channel, the SDK triggers the callback on the local client<xref keyref="onRejoinChannelSuccess"/>. When the connection between the client and Agora&apos;s server is interrupted due to poor network conditions, the SDK tries reconnecting to the server. When the local client successfully rejoins the channel, the SDK triggers the callback on the local client<xref keyref="onRejoinChannelSuccess"/>.</p>
   <note type="attention">Compared to<xref keyref="joinChannel1"/> [1/2], this method adds the <parmname>options</parmname> parameter to configure whether to automatically subscribe to all remote audio and video streams in the channel when the user joins the channel. Compared to<xref keyref="joinChannel1"/> [1/2], this method adds the <parmname>options</parmname> parameter to configure whether to automatically subscribe to all remote audio and video streams in the channel when the user joins the channel. By default, the user subscribes to the audio and video streams of all the other users in the channel, thus incurring all associated usage costs. By default, the user subscribes to the audio and video streams of all the other users in the channel, thus incurring all associated usage costs. To unsubscribe, set the `<parmname>options</parmname>` parameter or call the `<apiname>mute</apiname>` methods accordingly. To unsubscribe, set the `<parmname>options</parmname>` parameter or call the `<apiname>mute</apiname>` methods accordingly.</note>
        </section>
        <section id="parameters"><title>Parameter Parameter</title>
   <parml>
       <plentry id="token">
  <pt>token token</pt>
  <pd>
    <p>在服务端生成的用于鉴权的动态密钥。 在服务端生成的用于鉴权的动态密钥。 For details, see <xref keyref="guide-token"/>. For details, see <xref keyref="guide-token"/>.</p>
    <note type="caution">Ensure that the App ID used for creating the token is the sameApp ID used by the <xref keyref="create2"/> method for initializing the RTC engine. Ensure that the App ID used for creating the token is the sameApp ID used by the <xref keyref="create2"/> method for initializing the RTC engine.</note>
      </pd>
       </plentry>
       <plentry id="channelID">
  <pt><ph keyref="channelID"/></pt>
  <pd>
      <p id="channelID_desc">The channel name. The channel name. This parameter signifies the channel in which users engage in real-time audio and video interaction. This parameter signifies the channel in which users engage in real-time audio and video interaction. Under the premise of the same App ID, users who fill in the same channelId enter the same channel for audio and video interaction. Under the premise of the same App ID, users who fill in the same channelId enter the same channel for audio and video interaction. The string length must be less than 64 bytes. The string length must be less than 64 bytes. Supported characters: Supported characters:<ul id="char_support">
     <li>All lowercase English letters: a to z. All lowercase English letters: a to z.</li>
     <li>All uppercase English letters: A to Z. All uppercase English letters: A to Z.</li>
     <li>All numeric characters: 0 to 9. All numeric characters: 0 to 9.</li>
     <li>Space Space</li>
     <li>&quot;!&quot;、&quot;#&quot;、&quot;$&quot;、&quot;%&quot;、&quot;&amp;&quot;、&quot;(&quot;、&quot;)&quot;、&quot;+&quot;、&quot;-&quot;、&quot;:&quot;、&quot;;&quot;、&quot;&lt;&quot;、&quot;=&quot;、&quot;.&quot;、&quot;>&quot;、&quot;?&quot;、&quot;@&quot;、&quot;[&quot;、&quot;]&quot;、&quot;^&quot;、&quot;_&quot;、&quot;{&quot;、&quot;}&quot;、&quot;|&quot;、&quot;~&quot;、&quot;,&quot; &quot;!&quot;、&quot;#&quot;、&quot;$&quot;、&quot;%&quot;、&quot;&amp;&quot;、&quot;(&quot;、&quot;)&quot;、&quot;+&quot;、&quot;-&quot;、&quot;:&quot;、&quot;;&quot;、&quot;&lt;&quot;、&quot;=&quot;、&quot;.&quot;、&quot;>&quot;、&quot;?&quot;、&quot;@&quot;、&quot;[&quot;、&quot;]&quot;、&quot;^&quot;、&quot;_&quot;、&quot;{&quot;、&quot;}&quot;、&quot;|&quot;、&quot;~&quot;、&quot;,&quot;</li>
 </ul></p>
  </pd>
       </plentry>
       <plentry id="info">
  <pt><ph keyref="info"/></pt>
  <pd>
      <p>Reserved for future use. Reserved for future use.</p>
  </pd>
       </plentry>
       <plentry id="uid">
  <pt><ph keyref="uid"/></pt>
  <pd>User ID User ID This parameter is used to identify the user in the channel for real-time audio and video interaction. This parameter is used to identify the user in the channel for real-time audio and video interaction. You need to set and manage user IDs yourself, and ensure that each user ID in the same channel is unique. You need to set and manage user IDs yourself, and ensure that each user ID in the same channel is unique. This parameter is a 32-bit unsigned integer. This parameter is a 32-bit unsigned integer. A <sup>32</sup>-bit unsigned integer with a value ranging from 1 to 2&lt;sup><sup>32</sup>&lt;/sup>-1. A <sup>32</sup>-bit unsigned integer with a value ranging from 1 to 2&lt;sup><sup>32</sup>&lt;/sup>-1. If a uid is not assigned (or set to 0), the SDK assigns and<apiname keyref="onJoinChannelSuccess"/> returns a uid in the callback. Your application must record and maintain the returned uid, because the SDK does not do so. If a uid is not assigned (or set to 0), the SDK assigns and<apiname keyref="onJoinChannelSuccess"/> returns a uid in the callback. Your application must record and maintain the returned uid, because the SDK does not do so.</pd>
       </plentry>
       <plentry id="options">
  <pt>options options</pt>
  <pd>The channel media options. The channel media options. See <xref keyref="ChannelMediaOptions"/>. See <xref keyref="ChannelMediaOptions"/>.</pd>
       </plentry>
   </parml>
        </section>
        <section id="return_values">
   <title>Returns Returns</title>
   <ul>
       <li>0(ERR_OK): Success. 0(ERR_OK): Success.</li>
       <li>&lt; 0: Failure. &lt; 0: Failure.<ul>
  <li>-2 (ERR_INVALID_ARGUMENT): The parameter is invalid. -2 (ERR_INVALID_ARGUMENT): The parameter is invalid.</li>
  <li>-3(ERR_NOT_READY): The SDK fails to be initialized. You can try re-initializing the SDK. -3(ERR_NOT_READY): The SDK fails to be initialized. You can try re-initializing the SDK.</li>
  <li>-5(ERR_REFUSED): The request is rejected. -5(ERR_REFUSED): The request is rejected. This may be caused by the following: This may be caused by the following:<ul>
      <li>You have created an <xref keyref="IChannel"/> object with the same channel name. You have created an <xref keyref="IChannel"/> object with the same channel name.</li>
      <li>You have joined and published a stream in an <apiname keyref="IChannel"/> channel created by the <apiname keyref="IChannel"/> object. You have joined and published a stream in an <apiname keyref="IChannel"/> channel created by the <apiname keyref="IChannel"/> object.</li></ul></li>
  <li>-7(ERR_NOT_INITIALIZED): The SDK is not initialized before calling this method. -7(ERR_NOT_INITIALIZED): The SDK is not initialized before calling this method. Initialize the <xref keyref="IRtcEngine"/> instance before calling this method. Initialize the <xref keyref="IRtcEngine"/> instance before calling this method.</li>
       </ul></li>
   </ul>
        </section></refbody>
</reference>
