---
title: 错误码和警告码
platform: 微信小程序
updatedAt: 2020-02-21 09:16:44
---
Agora Miniapp SDK for WeChat 在调用 API 或运行时，可能会返回一个错误码对象，也可能会返回一个错误码：

- 错误码对象：包含错误码和对报错原因的描述，你可以根据 `reason` 中的描述自行判断发生引起错误的原因，然后进行排查
- 错误码：该类错误码中没有相应的`reason`，你可以对照错误码参考本文进行排查


| 错误码 | 报错原因                                                     | 排查方法                                                     |
| ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 401    | 请求异常                                                     | 根据 reason  描述检查使用是否符合要求；如果报的是 `invalid vendor key`，请联系 sales@agora.io 检查是否有使用小程序服务的权限 |
| 429    | 请求太频繁                                                   | 根据 `reason` 描述检查使用是否符合要求                       |
| 430    | <li>在订阅前尝试 mute 远端流<li>在订阅前尝试 unmute 远端流<li>请求异常 | 根据 `reason`  描述检查使用是否符合要求                      |
| 431    | <li>`setRole` 传入的参数错误<li>登录失败<li>登录时的 role 传入出错<li>登录时的 uid 传入出错<li>重复登录，且 uid 不匹配 | 根据 `reason` 描述检查使用是否符合要求                       |
| 432    | 订阅了一个非主播的 uid                                       | 根据 `reason` 描述检查使用是否符合要求                       |
| 433    | <li>观众端无法发布流<li>观众端无法取消发布流                 | 根据 `reason` 描述检查使用是否符合要求                       |
| 434    | <li>在登录前尝试退出<li>在登录前尝试`setRole`<li>发布流时的 uid 和登录时的 uid 不一致<li>取消发布流时的 uid 和登录时的 uid 不一致<li>更新 URL 时的 uid 和登录时的 uid 不一致 | 根据 `reason` 描述检查使用是否符合要求                       |
| 500    | 内部错误                                                     | 销毁并退出频道后，重建 `client` 对象，调用 `rejoin` 方法尝试重连 |
| 501    | 服务进程异常失去连接                                         | 销毁并退出频道后，重建 `client` 对象，调用 `rejoin` 方法尝试重连 |
| 502    | 当前服务器过载                                               | 销毁并退出频道后，重建 `client` 对象，调用 `rejoin` 方法尝试重连 |
| 503    | 服务进程正常退出                                             | N/A                                                          |
| 901    | 未找到服务器                                                 | 检查网络；检查传入的 App ID、Dynamic Key 是否有效            |
| 903    | 发送消息超时                                                 | 网络连接状况不理想，请检查网络                               |
| 904    | websocket 断开                                               | 销毁并退出频道后，重建 `client` 对象，调用 `rejoin` 方法尝试重连 |
| 905    | websocket 连接失败                                           | 销毁并退出频道后，重建 `client` 对象，调用 `rejoin` 方法尝试重连 |



