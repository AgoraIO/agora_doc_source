---
title: 实时预警 (Beta)
platform: All Platforms
updatedAt: 2020-05-22 13:06:20
---
水晶球的**实时预警**功能，帮助你实时查看通话体验异常的用户数，及时识别异常类型与异常影响因素。

- 总览面板展示指定时间范围内通话体验异常的用户数。
- 分布面板展示指定时间范围内异常影响因素的分布。
- 明细面板展示异常详情，并定位异常源。
- 可查询最近 24 小时的实时数据，数据每分钟更新。

## 使用步骤

1. 联系 [sales@agora.io](mailto:sales@agora.io) 为你的项目开通实时预警功能。
2. 登录[控制台](https://dashboard.agora.io/)，点击左侧菜单栏中的水晶球。
3. 在页面左上方的下拉菜单中选择你要查看的项目。
4. 点击自动诊断下的实时预警，查看并分析通话体验异常数据。

## 时间轴

![](https://web-cdn.agora.io/docs-files/1585019063360)

- 拖动页面上方时间轴上的两个圆点图标，或通过时间轴下方的快捷按钮，指定需要查看的时间范围 。
- 拖动时间轴上的时钟图标，指定需要查看的时刻。拖动该图标会自动取消勾选实时更新。
- 点击时间轴下方的实时更新，指定是否实时更新图表数据。

> 你可以通过水晶球首页的时间设置，选择使用 UTC 时间或本地时间。

## 总览

总览面板以卡片形式显示不同异常类型的用户数据。卡片左侧显示指标的当前值（或指定时刻的值）及占比、最大值、最小值和均值，右侧以曲线图展示指定时间段内的每分钟数据。

![](https://web-cdn.agora.io/docs-files/1585019074143)

| 指标名称           | 指标说明                                                     |
| :----------------- | :----------------------------------------------------------- |
| 加频道慢用户数     | 能成功加入频道， 但加频道耗时长的用户数。面板中占比为加频道慢用户数与加频道用户数之比。 |
| 通话音频卡顿用户数 | 通话时遇到音频卡顿的用户数。面板中占比为音频卡顿用户数与频道内总用户数之比。 |
| 通话视频卡顿用户数 | 通话时遇到视频卡顿的用户数。面板中占比为视频卡顿用户数与频道内总用户数之比。 |

## 分布

分布面板展示指定时段内不同异常影响因素的分布。点击**全部异常**，你可以在下拉菜单中选择异常类型，并查看该异常影响的用户数。



## 明细

明细面板展示所有通话体验异常的用户详情，包含频道名、用户 ID、异常环节、异常分类、异常体验描述、异常源及影响因素。

  - 搜索：通过频道名或 UID 搜索指定用户的数据。
  - 查询时间：默认展示指定查询时段内的数据。若勾选**仅查看选中时刻数据**，则展示选中时刻的数据。
  - 下载：点击下载列表数据。最多能下载 1000 条用户数据。
  - 查看详情：点击跳转至通话列表。详见[通话调查](aa_call_search)。

  <div class="alert note">列表中最多支持显示或下载 1000 条用户数据。</div>

  | 名称         | 描述                                                         |
  | :----------- | :----------------------------------------------------------- |
  | 异常环节     | 通话体验异常发生的环节，含加频道和通话。                     |
  | 异常分类     | 通话体验异常的类型，含慢和卡顿。                             |
  | 异常体验描述 | 通话体验异常的详细描述，例如加频道超时、视频卡顿。           |
  | 异常源       | 通话体验异常源的类型，含本地用户和远端用户。                 |
  | 影响因素     | 造成通话体验异常的影响因素。详见[根因 ID 映射表](./aa_api?platform=All%20Platforms#a-namefactor_ida根因-id-映射表)。 |

## 重要概念

本节介绍实时数据涉及的重要概念，点击了解更多 Agora 的[关键概念](./terms?platform=All%20Platforms)。

### 频道

使用 Agora SDK 进行的所有通话都是在频道内发生的。我们把一个 App 比作一栋大楼的话，频道就好比大楼里面的一个房间。

### 用户

一个频道中的每个用户都有唯一的[用户名](./terms?platform=All%20Platforms#a-nameusernamea%E7%94%A8%E6%88%B7%E5%90%8D)用于标识身份。

实时预警在统计用户人数时，会将相同频道名且相同用户名的用户计为一个人。如果一个真实用户以不同的用户名加入一个频道或者以相同的用户名加入不同频道，均会被计算为多个用户。

### 体验异常

通话中，由于网络、设备等限制，用户可能会遇到卡顿、延时、黑屏等问题，本文将此类问题统称为体验异常。详细异常类型见[体验 ID 映射表](./aa_api?platform=All%20Platforms#a-nameexp_ida体验-id-映射表)。