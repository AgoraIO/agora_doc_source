---
title: 管理录制文件
platform: All Platforms
updatedAt: 2019-12-23 14:28:59
---
## 录制文件

`config.json` 文件中的 `recordFileRootDir` 指定了顶级录制目录路径。录制子目录结构如下:

- yyyy\mm\dd (日期)：每天都会创建一个新的日期目录（如果当天执行了录制操作）。该目录下包含所有当天的文件和目录。
- ChannelName_HHMMSS：录制文件存储在执行录制操作当天的该目录下。录制文件带有频道名称和含有小时，分钟，以及秒的时间戳。时间戳为服务器开始录制的时间。
- ChannelName_HHMMSS目录下包含以下录制相关的单个文件:

| **文件**              | **描述**                                                     |
| --------------------- | ------------------------------------------------------------ |
| `UID_HHMMSSMS.aac`    | 无论在移动端、PC 端还是网页端录制，每个 UID 均会对应生成一个 aac 文件。该文件仅包含该用户相关的音频内容 |
| `UID_HHMMSSMS.mp4`    | 如果在移动或 PC 端录制，每个 UID 均会对应生成一个 mp4 文件。如一个用户多次进入退出频道，该用户会有多个视频 mp4 文件，该文件仅包含该用户相关的视频内容 |
| `UID_HHMMSSMS.webm`   | 如果在网页端录制，每个 UID 均会对应生成一个 webm 文件。如一个用户多次进入退出频道，该用户会有多个视频 webm 文件，该文件仅包含该用户相关的视频内容 |
| `recording2-done.txt` | 标识本频道录制结束                                           |
| `UID_HHMMSSMS.txt`    | 记录每个音视频文件开始和结束的时间，视频文件的信息，例如宽高，旋转信息等 |

配置文件 `config.json` 的内容为录制文件存放的绝对路径，该文件由用户自己生成。录制时，需要通过 cfgFilePath 参数指定该配置文件中的存放路径。

## 管理录制文件

录制文件仅保存在你的服务器上，Agora 无法访问，所以你可以自行采取保护措施或者咨询安全专家。 处理这些录制文件的方法同在你的服务器上处理一般文件的方法一样。

在 ChannelName_HHMMSS 目录下，每个录制文件都有一个 `recording.log` 和 `recording_sys.log` 文件。如果在录制过程中出现故障，可以在这两个文件下查看导致问题出现的原因，