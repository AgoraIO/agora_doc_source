---
title: 体验等级协议 XLA
platform: All Platforms
updatedAt: 2020-09-08 11:52:12
---

## 概览

体验等级协议（eXperience Level Agreement，简称为 XLA）是声网面向实时互动行业 (Real-time Engagement，简称为 RTE）制定的体验质量标准，包含体验质量评估方法、体验质量保障等级以及损失补偿方案。

与云服务行业普遍使用的服务等级协议 (Service Level Agreement，简称为 SLA）相比，XLA 具有以下优势：

- 保障维度更丰富：SLA 关注可用性和服务质量；XLA 不仅保障服务可用性和服务质量，更关注用户的体验质量。
- 网络保障范围更广：SLA 仅保障云服务网络的服务质量；XLA 不仅保障 SD-RTN™ 服务质量，还覆盖 last mile 以保障终端用户的体验。

## 术语和定义

- **单位时间**：声网用于统计体验质量指标达标情况的基础时间段，为**一分钟**，并且在时间轴上连续、无重叠。
- **服务**：本文的服务指 Agora 官网展示和提供的、适用于 Windows、macOS、iOS 和 Android 平台的视频通话服务，不包含 Web SDK 以及声网提供的其他产品。
- **服务月度**：协议有效期内基于 UTC+0 时间的自然月。假设协议签署日期为 2020 年 10 月 7 日，协议有效期为 3 个月，那么协议生效日期为 2020 年 11 月 1 日，服务月度为 2020 年 11 月、2020 年 12 月和 2021 年 1 月。
- **服务月度总时长**：服务月度总时长（分钟）= 服务月度内总天数 × 24（小时）× 60（分钟）。
- **项目 ID**：一个项目的唯一标识，声网根据项目 ID 独立计算体验质量指标与服务月度达标率。

## 体验质量评估方法

XLA 针对体验质量制定以下指标。

### 登录成功率

5s 登录成功是指从用户尝试加入频道到成功加入频道用时不超过 5 秒。

5s 登录成功率 = （单位时间内 5s 成功加入频道的次数 / 单位时间内尝试加频道的次数）× 100%。

### 音频卡顿率

200ms 音频卡顿是指，音频无渲染持续时间超过 200 毫秒记为一次音频卡顿。一次音频卡顿的音频无渲染持续时长，称为音频卡顿时长。

200ms 音频卡顿率 =（单位时间内音频卡顿总时长 / 单位时间内音频总用量）× 100%。

### 视频卡顿率

600ms 视频卡顿是指，发送端设置的发送帧率不低于 5 fps 时，连续渲染的两帧视频之间间隔时间超过 600 毫秒记为一次视频卡顿。一次视频卡顿的两帧视频渲染间隔时间，称为视频卡顿时长。

600ms 视频卡顿率 =（单位时间内视频卡顿总时长 / 单位时间内视频总用量）× 100%。

### 端到端网络延时

端到端网络延时指发送端到接收端的传输延时。400ms 端到端网络延时指同一频道内用户 A 发出音视频报文到用户 B 接收到此音视频报文的时间间隔不超过 400 毫秒。

400ms 端到端网络延时占比 = （单位时间内端到端网络延时不超过 400 毫秒的时长 / 单位时间内音频和视频总用量）× 100%。

## <a name="level"></a>体验质量保障等级

### 登录成功达标率

单位时间内 5s 登录成功率小于 95% 时，记为登录成功率不达标。登录成功率不达标的单位时间，记为登录成功率不达标时长。

**登录成功达标率** = 1 −（服务月度登录成功率不达标累计时长 / 服务月度总时长）× 100%。

声网承诺**登录成功达标率**不低于 99.5%。

示例：假设 2020 年 10 月，有 100 个单位时间登录成功率不达标，则月度登录成功率不达标累计时长 = 100 × 1（分钟）= 100 分钟。该服务月度的登录成功达标率 = 1 − (100 / 31 × 24 × 60) × 100% = 99.78%。

### 音频卡顿达标率

单位时间内 200ms 音频卡顿率大于 3% 时，记为音频卡顿率不达标。音频卡顿率不达标的单位时间，记为音频卡顿率不达标时长。

**音频卡顿达标率** = 1 −（服务月度音频卡顿率不达标累计时长 / 服务月度总时长）× 100%。

声网承诺**音频卡顿达标率**不低于 99.5%。

示例：假设 2020 年 10 月，有 100 个单位时间的音频卡顿率不达标，则月度音频卡顿率不达标累计时长 = 100 × 1（分钟）= 100 分钟。该服务月度的音频卡顿达标率 = 1 − (100 / 31 × 24 × 60) × 100% = 99.78%。

### 视频卡顿达标率

单位时间内 600ms 视频卡顿率大于 5% 时，记为视频卡顿率不达标。视频卡顿率不达标的单位时间，记为视频卡顿率不达标时长。

**视频卡顿达标率** = 1 −（服务月度视频卡顿率不达标累计时长 / 服务月度总时长）× 100%。

声网承诺**视频卡顿达标率**不低于 99.5%。

示例：假设 2020 年 10 月，有 100 个单位时间的视频卡顿率不达标，则月度视频卡顿率不达标累计时长 = 100 × 1（分钟）= 100 分钟。该服务月度的视频卡顿达标率 = 1 − (100 / 31 × 24 × 60) × 100% = 99.78%。

### 网络延时达标率

单位时间内 400ms 端到端网络延时占比低于 90% 时，记为网络延时不达标。网络延时不达标的单位时间，记为网络延时不达标时长。

**网络延时达标率** = 1 −（服务月度网络延时不达标累计时长 / 服务月度总时长）× 100%。

声网承诺**网络延时达标率**不低于 99.5%。

示例：假设 2020 年 10 月，有 100 个单位时间的低网络延时占比不达标，则月度网络延时不达标累计时长 = 100 × 1（分钟）= 100 分钟。该服务月度的网络延时达标率 = 1 − (100 / 31 × 24 × 60) × 100% = 99.78%。

## <a name="compensation"></a>损失补偿方案

如果上述体验质量指标的服务月度达标率没有达到声网承诺的等级，声网依据下表所列的补偿率免除一定的费用作为补偿。

补偿金额 = 项目服务月度费用 × 补偿率。

<table>
<thead>
  <tr>
    <th>达标率区间</th>
    <th>1 个指标不达标补偿率</th>
    <th>2 个指标不达标补偿率</th>
    <th>3 个指标不达标补偿率</th>
    <th>4 个指标不达标补偿率</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>99.5% &gt; X ≥ 99%</td>
    <td>5%</td>
    <td>6%</td>
    <td>7%</td>
    <td>8%</td>
  </tr>
  <tr>
    <td>99% &gt; X ≥ 95%</td>
    <td>10%</td>
    <td>12%</td>
    <td>14%</td>
    <td>16%</td>
  </tr>
  <tr>
    <td>95% &gt; X ≥ 90%</td>
    <td>30%</td>
    <td>35%</td>
    <td>40%</td>
    <td>45%</td>
  </tr>
  <tr>
    <td>X &lt; 90%</td>
    <td colspan="4">100%</td>
  </tr>
</tbody>
</table>

> X 为各体验质量指标的服务月度达标率。

在确认补偿率时，先根据体验指标中最差的达标率选择对应的行，再根据不达标指标个数选择对应的列，交叉点即为该服务月度的补偿率。

示例：假设某服务月度内，登录成功达标率为 94%，音频卡顿达标率 98%，视频卡顿达标率和网络延时达标率均大于 99.5%。在确认补偿率时，先根据登录成功达标率 94% 选择第 3 行，再根据 2 个指标不达标选择第 2 列，该服务月度的补偿率为 35%。假设该项目 ID 的服务月度费用为 100 万元，则补偿金额为 35 万元。

## 数据置信度约束条件

单位时间内的数据量不足会导致指标计算缺乏准确性与可信度，因此在计算体验质量指标时，声网对单位时间内的最小数据量有以下要求：

- 对于登录成功率，要求单位时间内一个项目 ID 产生的初次登录尝试次数不少于 100 次。
- 对于音频卡顿率，要求单位时间内一个项目 ID 产生的音频用量不少于 100 分钟。

- 对于视频卡顿率，要求单位时间内一个项目 ID 产生的视频用量不少于 100 分钟。
- 对于端到端网络延时，要求单位时间内一个项目 ID 产生的音频和视频总用量不少于 100 分钟。
