在秀场直播中，观众希望观看高清的直播视频。实现高清视频需要考虑用户设备和网络环境等因素。本文介绍声网自适应高清策略在秀场直播解决方案中的最佳实践。


秀场直播解决方案支持[多种场景](./showroom_overview?platform=All%20Platforms)，不同场景下你需要为不同角色进行高清设置：

- 单人直播：为主播、观众设置。
- 观众与房主连麦：为主播、上麦观众、普通观众设置。
- 房主跨直播间 PK 连麦：为多个房间的主播、观众设置。
- 伪直播：为视频源、观众设置。


## 单人直播

### 主播设置

- 调用 `enableDualStreamMode` 在开启双流模式。

- 调用 `setCameraCapturerConfiguration` 并将 `config` 参数中的 `followEncodeDimensionRatio` 字段设为 `true`，设置本地采集的视频宽高比跟随编码的视频宽高比。

- 调用 `queryDeviceScore` 查询主播的用户设备等级，根据不同等级为主播设置不同的编码视频属性。编码视频属性包含编码视频分辨率、视频帧率、码率，可以通过 `setVideoEncoderConfiguration` 方法中 `config` 参数中的 `dimensions`、`frameRate`、`bitrate` 字段设置。

    | 设备等级 | 视频分辨率  | 视频帧率 (fps)   | 视频码率  |
    | ---- | ----- | ------ | ------------------- |
    | 高端   | 1080P | 24 | `STANDARD_BITRATE(0)` |
    | 中端   | 720P  | 24 | `STANDARD_BITRATE(0)` |
    | 低端   | 720P  | 15 | `STANDARD_BITRATE(0)` |



### 观众设置

主播开启双流模式后，观众端可以设置接受视频大流或视频小流。视频大流更加高清，视频小流更加流畅，你可以根据观众的设备性能和网络环境进行选择和切换。


## 观众连麦

### 主播设置

主播设置详见[单人直播主播设置](#主播设置)。

### 上麦观众设置



### 普通观众设置

## PK 连麦

## 伪直播

## 注意事项

- 为达到自适应高清效果，除了按照如上步骤设置代码逻辑外，你还需要联系[声网技术支持](https://docs.agora.io/cn/Agora%20Platform/ticket?platform=All%20Platforms)。声网技术支持会根据你的直播场景、用户角色、设备等级、网络带宽情况，为你配置下发开启一系列功能：

    - **PVC**：PVC（Perceptual Video Coding，视频感知编码）是一种在保障同等画质的前提下降低带宽消耗的视频编码方式。
    - **超分**：超分辨率可以提升本地看到远端视频的画面分辨率。
    - **SVC**：SVC（Scalable Video Coding，可伸缩视频编码）技术能够将视频流分为多个不同的层次，每个层次具有不同的编码质量和码率。这些层次可以独立地解码和传输，因而能够根据用户的网络环境和设备性能自适应调节视频流的编码质量，保证所有用户的观看体验。
    - **H.265**：视频流的一种编解码类型。为了达到高清效果，在某些情况下需要使用 H.265 类型。
    - **硬编硬解**：硬件编码和硬件解码。为了达到高清效果，在某些情况下需要使用硬编硬解。

- `queryDeviceScore` 方法仅在部分特殊版 RTC SDK 中提供。请联系声网技术支持获取。