 本文解释即时通讯 IM 功能相关的指标含义。

## 场景规模指标

### 注册用户总数

截止到今天此刻，该项目累计注册的用户数。

### 今日新增用户数

从今天 UTC 时间 0 点截止到此刻，该项目的新增用户数。

### 今日活跃用户数

从今天 UTC 时间 0 点截止到此刻，通过设备登录或收发消息的用户数。同一用户通过多台设备连接时，只计为 1 次活跃。

### 本月峰值 DAU

从本月 1 号 UTC 时间 0 点截止到今天，该项目日活跃用户（DAU）的峰值。日活跃用户是指每日 0 点至 24 点通过设备登录或收发消息的用户数；同一用户通过多台设备连接时，只计为 1 次活跃。

### 群组总数

截止到今天此刻，该项目累计创建的群组数减去已解散的群组数。

### 今日新增群组数

今天 0 点截止到此刻，该项目新建的群组数。

### 今日解散群组数

今天 0 点截止到此刻，该项目解散的群组数。

### 今日活跃群组数

今天 0 点截止到此刻，存在上行消息或下行消息的群组数。

### 聊天室总数

截止今天此刻，该项目累计创建的聊天室数减去已解散的聊天室数

### 今日新增聊天室数

今天 0 点截止此刻，该项目下新建的聊天室数。

### 今日解散聊天室数

今天 0 点截止此刻，该项目下解散的聊天室数。

### 今日活跃聊天室数

今天 0 点截止此刻，存在上行消息或下行消息的聊天室数。

### 今日聊天室最高同时在线人数

今天 0 点截止此刻，应用聊天室中连接服务器的最大同时在线人数。存在 10 分钟左右延迟。

## 消息量指标

以下消息量指标适用于单聊、群聊、聊天室三个场景，也适用于所有消息类型。

### 消息分发总数

由消息服务器分发的消息总数，消息量统计到昨天。

### 上行消息总数

由客户端成功发送给消息服务器的消息总数，消息量统计到昨天。

### 下行消息总数

由消息服务器向在线用户投递的消息总数，消息量统计到昨天。

### 离线消息总数

由消息服务器向离线用户发送的消息总数，消息量统计到昨天。

## 终端数据指标

### 指标类型

| 指标类型   | 说明                                             |
| :--------- | :----------------------------------------------- |
| 手动登录   | 客户端用户通过用户名密码或者 token 登录。        |
| 自动登录   | 客户端对于已经登录的账户，直接采用默认账户登录。 |
| 发送消息   | 客户端发送消息统计。                             |
| 好友管理   | 客户端加好友、删好友等好友相关操作。             |
| 用户管理   | 客户端创建用户、更新用户信息等用户管理操作。     |
| 群组管理   | 客户端创建群组、删除群组等群组管理操作。         |
| 聊天室管理 | 客户端创建聊天室、删除聊天室等群组管理操作。     |

### 指标

| 指标                | 说明                                                         |
| :------------------ | :----------------------------------------------------------- |
| 请求次数            | 客户端 SDK API 的总请求次数。                                |
| 1s/3s/5s 请求成功率 | 客户端 SDK API 在 1s/3s/5s 成功的请求次数 ÷ 总有效请求次数<sup>①</sup> × 100%。 |
| 平均时延            | 客户端 SDK API 请求的总延时 ÷ 总请求次数。                   |

① 总有效请求次数不包含客户端操作失误的次数。操作失误具体指以下情况：
- 用户名或密码为空或错误。
- 用户名不合法。
- 密码无效。
- 没有操作权限，需要应用程序管理员许可。
- 用户不存在。
- 群组不存在。
- 用户不在群组中。

## Server API 数据指标

### 指标类型

| 指标类型     | 说明                                                         |
| :----------- | :----------------------------------------------------------- |
| 获取 token   | 通过 REST API 接口实现获取管理员权限 token 的功能。          |
| 用户体系集成 | 通过 REST API 接口实现对用户的注册、获取、修改、删除等管理功能。 |
| 文件上传下载 | 通过 REST API 接口实现语音和图片等文件的上传下载功能。       |
| 发送消息     | 通过 REST API 接口实现发送消息功能。                         |
| 群组管理     | 通过 REST API 接口实现创建群组、删除群组等群组管理功能。     |
| 聊天室管理   | 通过 REST API 接口实现建聊天室、删除聊天室等聊天室管理功能。 |
| 用户属性     | 通过 REST API 接口实现设置用户属性、删除用户属性等用户属性功能。 |

### 指标

| 指标                | 说明                                                         |
| :------------------ | :----------------------------------------------------------- |
| 请求次数            | 服务器端 REST API 的总请求次数。                             |
| 1s/3s/5s 请求成功率 | 服务器端 REST API 在 1s/3s/5s 成功的请求次数 ÷ 总请求次数 × 100%。 |
| 平均时延            | 服务器端 REST API 请求的总延时 ÷ 总请求次数。                |
