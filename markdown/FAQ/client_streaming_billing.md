---
title: RTMP 推流如何收费？
platform:
  [
    "Android",
    "iOS",
    "macOS",
    "Web",
    "Windows",
    "Electron",
    "React Native",
    "Flutter",
    "Cocos2d-x",
    "Cocos Creator",
    "Unity",
  ]
updatedAt: 2021-02-02 08:49:06
Products: ["Interactive Broadcast"]
---

本文展示 RTMP 推流服务的计费方式。

<div class="alert note">如果你已与我们的销售签约，则实际计费信息以合同为准。</div>

## 概述

Agora 会按月统计你的开发者账户下所有项目产生的费用。

使用 RTMP 推流服务后，Agora 会收取 RTMP 推流服务的费用。目前，RTMP 推流服务仅收取推流到 CDN 的费用，该费用由订阅费用和转码费用组成。

<div class="alert note">扣费问题请参考<a href="https://docs.agora.io/cn/faq/billing_account">账单、扣费与账户冻结</a>。</div>

## 费用组成

![](https://web-cdn.agora.io/docs-files/1595844948209)

推流到 CDN 包含以下步骤：

1. 主播端发布流，并通过 Agora SD-RTN™ 传输。
2. Agora 推流服务器从 Agora SD-RTN™ 中订阅流。
3. Agora 推流服务器对订阅到的流进行转码。
4. Agora 推流服务器将转码后的流推向 CDN。

**Agora 收取步骤 2 产生的订阅费用和步骤 3 产生的转码费用。**

## 订阅费用

订阅费用包含音频订阅费用和视频订阅费用：

- 音频订阅费用 = 音频单价 × 音频时长
- 视频订阅费用 = 视频单价 × 视频时长

当你开始推流，Agora 推流服务器会作为一个虚拟观众加入频道，订阅主播端的音视频流。该过程和音视频互动直播产品中观众订阅主播端的音视频流相同。因此，订阅费用请参考[实时音视频计费说明](https://docs.agora.io/cn/Interactive%20Broadcast/billing_rtc?platform=Android)。

<div class="alert note"><li>订阅音、视频时长分别计入<a href="https://docs.agora.io/cn/Interactive%20Broadcast/billing_rtc?platform=Android">实时音视频的音、视频时长</a>，参与每月一万分钟免费的优惠活动。详见<a href="https://docs.agora.io/cn/faq/billing_free">每月一万分钟免费说明</a>。</li><li>如果主播开启双流模式，Agora 推流服务器只会订阅主播的视频大流，因此视频订阅费用按照视频大流的集合分辨率计算。</li></div>

## 转码费用

Agora 推流服务器将主播端发布的流进行转码时会产生转码费用。**转码费用根据转码后输出的流的路数而累加。**

<div class="alert note">转码费用不参与每月一万分钟免费的优惠活动。</div>

转码费用包含以下两种：

- 音频转码费用：如果 Agora 推流服务器只对音频流进行转码，则产生音频转码费用。音频转码费用 = 音频转码单价 × 音频转码时长。
- 视频转码费用：如果 Agora 推流服务器对视频流进行转码，则产生视频转码费用。视频转码费用 = 视频转码单价 × 视频转码时长。

<div class="alert note">同一时间，如果既对音频流转码又对视频流转码，则只收取视频转码费用，不收取音频转码费用。</div>

<div class="alert warning"><ul><li>多人连麦直播场景下，你必须在推流接口中设置转码，并对多主播的媒体流合流。</li><li>单人直播场景下，你可以在推流接口中设置转码或者不转码。</li><ul><li>设置转码时会产生转码费用。</li><li>设置不转码时，为保证 CDN 对媒体流编解码格式的兼容性，Agora 推流服务器会对推送的流进行处理，因此会收取 8 元/千分钟的费用。</li></ul></ul></div>

### 转码单价

<a name="mul"></a>

#### 多人连麦直播场景的转码单价

| 类型       | 单价（元/千分钟）                                       |
| ---------- | ------------------------------------------------------- |
| 音频       | 8                                                       |
| H.264 视频 | <li>高清（HD）：48</li><li>全高清（Full HD）：108</li>  |
| H.265 视频 | <li>高清（HD）：120</li><li>全高清（Full HD）：270</li> |

| 档位              | 转码输出视频的分辨率                                                |
| ----------------- | ------------------------------------------------------------------- |
| 高清（HD）        | 转码输出视频的分辨率 ≤ 921600（1280 × 720）                         |
| 全高清（Full HD） | 921600（1280 × 720）< 转码输出视频的分辨率 ≤ 2073600（1920 × 1080） |

转码输出视频的分辨率由你在 `LiveTranscoding` 类的 `width` 和 `height` 属性中设置。Agora 不支持转码输出视频的分辨率大于 1920 × 1080。

<div class="alert note">多人直播场景下进行转码时，Agora 按照<b>多人连麦直播场景的转码</b>进行计费计量。举例来说，如果频道内两个主播分别仅对自己的媒体流转码，但不将两人的流合流，Agora 会按照<b>多人连麦直播场景的转码单价</b>对两路流计费。</div>

<div class="alert info">Agora RTC SDK 对视频流转码使用 H.264 编码方式。如果你需要在转码时使用 H.265 编码方式，请联系 Agora 技术支持获取特殊版本的 SDK。</div>

#### 单人直播场景的转码单价

单人直播场景下进行转码，且转码前、后主播的视频属性（分辨率、帧率、码率等）没有变化时，Agora 收费单价如下：

| 类型       | 单价（元/千分钟） |
| ---------- | ----------------- |
| 音频       | 8                 |
| H.264 视频 | 8                 |
| H.265 视频 | 20                |

单人直播场景下进行转码，且转码前、后主播的视频属性（分辨率、帧率、码率等）发生变化时，Agora 按照[多人连麦直播场景的转码](#mul)进行计费计量。

<div class="alert info">Agora RTC SDK 对视频流转码使用 H.264 编码方式。如果你需要在转码时使用 H.265 编码方式，请联系 Agora 技术支持获取特殊版本的 SDK。</div>

### 转码时长

对每个推流过程，Agora 监测你开始推流到 CDN 和停止推流到 CDN 的时刻，统计你从成功开始推流到最终结束推流的时长，并根据该时长收取转码费用。

<div class="alert note"><li>Agora 统计时长的精度为秒。</li><li>在 Agora 控制台中展示时长的单位为秒，在计费账单中展示时长的单位为分钟。时长不足一秒或一分钟时，按照一秒或一分钟展示。</li></div>

根据是否对视频流转码，可将转码时长分为如下两类：

- 视频转码时长：Agora 推流服务器对视频流进行转码的时长。
- 音频转码时长：Agora 推流服务器只对音频流进行转码的时长。

### 转码费用计费示例

#### 语音连麦直播

**场景描述**：两个主播语音连麦直播，转码后两路音频流合为一路，推向 CDN。语音连麦直播持续 20 分钟。随后。一个主播退出直播，剩下一个主播继续进行语音直播，持续 20 分钟。

**计费方案**：前 20 分钟，语音连麦直播，产生音频转码费用。后 20 分钟，单人直播且推送音频流，产生音频转码费用。

转码费用 = 8（元/千分钟）× 20/1000（千分钟）+ 8（元/千分钟）× 20/1000（千分钟）

#### 音视频连麦直播

**场景描述**：主播 A 和主播 B 音视频连麦直播，如果你将两个主播的流进行如下处理：

- 按照画面布局为 A 左 B 右进行转码，输出一路音视频流且视频分辨率为 1280 × 720 的流，然后推向一个 CDN 地址。
- 同时，按照画面布局为 A 右 B 左进行转码，输出另一路音视频流且视频分辨率为 1920 × 1080，然后推向另一个 CDN 地址。

转码时均使用 H.264 编码方式。音视频连麦直播持续 20 分钟。

**计费方案**：音视频连麦直播时，对音频流和视频流同时转码，只产生视频转码费用。输出的一路流属于高清档，另一路流属于超清档，两路流均产生转码费用。

转码费用 = 48（元/千分钟）× 20/1000（千分钟）+ 108（元/分钟）× 20/1000（千分钟）

## 常见问题

<details>
  <summary><font color="#3ab7f8">如何在控制台查看你使用 RTMP 推流服务的时长（分钟数）？</font></summary>

RTMP 推流服务的时长（分钟数）包含订阅时长和转码时长。

- 订阅时长：控制台不单独展示推流订阅时长，该时长会计入**音视频分钟数**。
- 转码时长：控制台在 **RTMP 推流分钟数**页面展示推流转码时长。

控制台展示的时长（分钟数）仅供参考，不作为实际的计费依据，请以实际账单为准。

</details>

## 相关文档

- [推流到 CDN](https://docs.agora.io/cn/Interactive%20Broadcast/cdn_streaming_android?platform=Android)
- [实时音视频计费](https://docs.agora.io/cn/Interactive%20Broadcast/billing_rtc?platform=Android)
- [账单、扣费与账户冻结](https://docs.agora.io/cn/faq/billing_account)
- [每月一万分钟免费说明](https://docs.agora.io/cn/faq/billing_free)
