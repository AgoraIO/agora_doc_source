# 常见FAQ

## 静音问题

### 禁止人声，不禁止背景音乐

问题: user1播放背景音乐使用startAudioMixing播放，user1不想让自己说话的声音被频道内其它人听到只想让别人听到他播放的背景音乐。

答案：user1可以通过调用 adjustRecordingSignalVolume方法设置音量为0。

### 用户不听房间内说话者的声音，但是要看到说话提示

问题：user1在语聊房间内,他想看到谁在说话，但是不想听到别人说话。

答案：user1可以通过调用 adjustUserPlaybackSignalVolume方法设置某一人的播放音量为0，也可以设置所有人的播放音量为0；

### 禁止人声和背景音乐

问题：user1播放背景音乐使用startAudioMixing播放，user1不想让自己说话的声音和背景音乐被频道内其它人听到。

答案：user1可以通过调用muteLocalAudioStream方法禁止自己的流发送到频道内。

## 与第三方APP音频共存

问题：如何实现进入声网频道后，和其它地方应用共存音频播放，或打断第三方音频播放？

答案：可以通过如下设置：

```
setParameters(“{\"che.audio.mix_with_others\": true}”)-->可以实现不同App之间音频同时播放;
setParameters("{\"che.audio.mix_with_others\":false}") -->可以实现把第三方APP 打断；
```

## 音频打断问题

在语聊房场景中，如果还存在其它播放器和声网SDK共存的情况，可能会发生其它播放器在播放音视频时，进入声网频道后对其它播放器有干扰的情况，比如导致其它播放器卡顿，不断被打断等问题。

可以在加入频道前设置如下私有参数来解决：

```
setParameters("{\"che.audio.keep.audiosession\":true}");
```

## 断网问题

断网问题就是手机设备突然断网了，然后客户的业务服务器判断到用户断网后把该用户从正常的用户列表总踢出了，但是过段时间之后网络又恢复了，由于声网有断线重连机制，所以该用户还可以再次在原来的房间内说话，客户的业务服务器无法管理该用户，造成鬼麦现象。处理该问题有如下两种方式：

1）可以使用IM判断，当用户断网时，IM可以判断用户失联多久为真正失联，比如30s，那么当30s到的时候业务服务器可以对这个用户标记为已离线。当用户网络再次恢复时，可以去业务服务器同步下他当前的状态，如果业务服务器标记为已离线，那么就可以直接调用leaveChannel离开原来的频道；

2）可以使用消息通知服务 ，该服务在用户断线时，会提前20s告知用户离线，此时业务服务器可以做标记，接下来的处理方式和方式1相同。