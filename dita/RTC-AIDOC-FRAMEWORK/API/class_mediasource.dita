<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="class_mediasource">
    <title><ph keyref="MediaSource"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="electron">需播放的媒体文件的相关信息及播放设置。</ph><ph id="shortdesc" props="rn">需播放的媒体文件的相关信息及播放设置。</ph><ph id="shortdesc" props="flutter">需播放的媒体文件的相关信息及播放设置。</ph><ph id="shortdesc" props="unity">需播放的媒体文件的相关信息及播放设置。</ph></shortdesc>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="electron" outputclass="language-typescript">export class MediaSource {

  url?: string;

  uri?: string;

  startPos?: number;

  autoPlay?: boolean;

  enableCache?: boolean;

  isAgoraSource?: boolean;

  isLiveSource?: boolean;
}</codeblock>
                <codeblock props="rn" outputclass="language-typescript">export class MediaSource {

  url?: string;

  uri?: string;

  startPos?: number;

  autoPlay?: boolean;

  enableCache?: boolean;

  isAgoraSource?: boolean;

  isLiveSource?: boolean;
}</codeblock>
                <codeblock props="flutter" outputclass="language-dart">class MediaSource {
  const MediaSource(
      {this.url,
      this.uri,
      this.startPos,
      this.autoPlay,
      this.enableCache,
      this.isAgoraSource,
      this.isLiveSource});

  @JsonKey(name: 'url')
  final String? url;

  @JsonKey(name: 'uri')
  final String? uri;

  @JsonKey(name: 'startPos')
  final int? startPos;

  @JsonKey(name: 'autoPlay')
  final bool? autoPlay;

  @JsonKey(name: 'enableCache')
  final bool? enableCache;

  @JsonKey(name: 'isAgoraSource')
  final bool? isAgoraSource;

  @JsonKey(name: 'isLiveSource')
  final bool? isLiveSource;

  factory MediaSource.fromJson(Map&lt;String, dynamic&gt; json) =&gt;
      _$MediaSourceFromJson(json);

  Map&lt;String, dynamic&gt; toJson() =&gt; _$MediaSourceToJson(this);
}</codeblock>
                <codeblock props="unity" outputclass="language-csharp">public class MediaSource : OptionalJsonParse
    {
        public string url { set; get; }
        public string uri { set; get; }
        public int64_t startPos { set; get; }
        public bool autoPlay { set; get; }
        public bool enableCache { set; get; }
        public Optional&lt;bool&gt; isAgoraSource = new Optional&lt;bool&gt;();
        public Optional&lt;bool&gt; isLiveSource = new Optional&lt;bool&gt;();
        public IMediaPlayerCustomDataProvider provider { set; get; }

        public MediaSource()
        {
            url = "";
            uri = "";
            startPos = 0;
            autoPlay = true;
            enableCache = false;
            provider = null;
        }
    }</codeblock>
            </p>
        </section>
        <section id="parameters" deliveryTarget="details" props="electron flutter rn unity">
            <title>属性</title>
            <parml>
                <plentry props="electron">
                    <pt>url</pt>
                    <pd>需要播放的媒体资源的 URL。</pd>
                </plentry>
                <plentry props="electron">
                    <pt>uri</pt>
                    <pd>媒体文件的 URI（Uniform Resource Identifier），可用于标识媒体文件。</pd>
                </plentry>
                <plentry props="electron">
                    <pt>startPos</pt>
                    <pd>设置起始播放位置 (毫秒)，默认值为 0。</pd>
                </plentry>
                <plentry props="electron">
                    <pt>autoPlay</pt>
                    <pd>
                        <note>如果你设置关闭自动播放，打开媒体文件后，请调用 <xref keyref="play"/> 方法来播放媒体文件。</note><ph>打开媒体文件后，是否开启自动播放：</ph>
                        <ul>
                            <li><xref keyref="true"/>：（默认）开启自动播放。</li>
                            <li><xref keyref="false"/>：关闭自动播放。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="electron">
                    <pt>enableCache</pt>
                    <pd>
                        <note>
                            <ul>
                                <li>SDK 目前仅支持缓存点播流，但不支持缓存通过 HLS 协议传输的点播流。</li>
                                <li>缓存前，请向 <codeph>uri</codeph> 传值，否则播放器会以媒体文件的 <codeph>url</codeph> 作为缓存索引。</li>
                                <li>开启实时缓存后，播放器会预先缓存当前正在播放的媒体文件的部分数据到本地，当你下次播放该文件时播放器会直接从缓存中加载数据，可节省网络流量。当前缓存的媒体文件的相关统计数据会在媒体文件开始播放后每秒更新一次，详见 <xref keyref="CacheStatistics"/>。</li>
                            </ul>
                        </note><ph>此次播放是否开启实时缓存功能：</ph>
                        <ul>
                            <li><xref keyref="true"/>：开启实时缓存。</li>
                            <li><xref keyref="false"/>：（默认）关闭实时缓存。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="electron">
                    <pt>enableMultiAudioTrack</pt>
                    <pd>此次播放是否允许选择不同音轨：
                        <ul>
                            <li><xref keyref="true"/>：允许选择不同音轨。</li>
                            <li><xref keyref="false"/>：（默认）不允许选择不同音轨。</li>
                        </ul><ph>如果你在本地播放和发布音频至远端时，需要设置不同的音轨，你需要将该参数设为 <xref keyref="true"/>，然后再调用 <xref keyref="selectMultiAudioTrack"/> 方法来设置音轨。</ph></pd>
                </plentry>
                <plentry props="electron">
                    <pt>isAgoraSource</pt>
                    <pd>
                        <note>如果你需要打开的媒体资源为声网融合 CDN 分发的直播流或点播流，请向 <codeph>url</codeph> 传入直播或点播流的 URL 并将 <codeph>isAgoraSource</codeph> 设置为 <xref keyref="true"/>，否则无需设置 <codeph>isAgoraSource</codeph>。</note><ph>打开的媒体资源是否为通过声网融合 CDN 分发的直播或点播流：</ph>
                        <ul>
                            <li><xref keyref="true"/>：打开的媒体资源是声网融合 CDN 分发的直播或点播流。</li>
                            <li><xref keyref="false"/>：（默认）打开的媒体资源不是声网融合 CDN 分发的直播或点播流。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="electron">
                    <pt>isLiveSource</pt>
                    <pd>
                        <note>仅当打开的媒体资源为直播流时，将 <codeph>isLiveSource</codeph> 设置为 <xref keyref="true"/> 后才可加快媒体资源的打开速度。</note><ph>打开的媒体资源是否为直播流：</ph>
                        <ul>
                            <li><xref keyref="true"/>：直播流。</li>
                            <li><xref keyref="false"/>：（默认）非直播流。</li>
                        </ul><ph>如果你打开的媒体资源为直播流，建议你将该参数设置为 <xref keyref="true"/>，可加快打开直播流的速度。</ph></pd>
                </plentry>
                <plentry props="rn">
                    <pt>url</pt>
                    <pd>需要播放的媒体资源的 URL。</pd>
                </plentry>
                <plentry props="rn">
                    <pt>uri</pt>
                    <pd>媒体文件的 URI（Uniform Resource Identifier），可用于标识媒体文件。</pd>
                </plentry>
                <plentry props="rn">
                    <pt>startPos</pt>
                    <pd>设置起始播放位置 (毫秒)，默认值为 0。</pd>
                </plentry>
                <plentry props="rn">
                    <pt>autoPlay</pt>
                    <pd>
                        <note>如果你设置关闭自动播放，打开媒体文件后，请调用 <xref keyref="play"/> 方法来播放媒体文件。</note><ph>打开媒体文件后，是否开启自动播放：</ph>
                        <ul>
                            <li><xref keyref="true"/>：（默认）开启自动播放。</li>
                            <li><xref keyref="false"/>：关闭自动播放。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="rn">
                    <pt>enableCache</pt>
                    <pd>
                        <note>
                            <ul>
                                <li>SDK 目前仅支持缓存点播流，但不支持缓存通过 HLS 协议传输的点播流。</li>
                                <li>缓存前，请向 <codeph>uri</codeph> 传值，否则播放器会以媒体文件的 <codeph>url</codeph> 作为缓存索引。</li>
                                <li>开启实时缓存后，播放器会预先缓存当前正在播放的媒体文件的部分数据到本地，当你下次播放该文件时播放器会直接从缓存中加载数据，可节省网络流量。当前缓存的媒体文件的相关统计数据会在媒体文件开始播放后每秒更新一次，详见 <xref keyref="CacheStatistics"/>。</li>
                            </ul>
                        </note><ph>此次播放是否开启实时缓存功能：</ph>
                        <ul>
                            <li><xref keyref="true"/>：开启实时缓存。</li>
                            <li><xref keyref="false"/>：（默认）关闭实时缓存。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="rn">
                    <pt>enableMultiAudioTrack</pt>
                    <pd>此次播放是否允许选择不同音轨：
                        <ul>
                            <li><xref keyref="true"/>：允许选择不同音轨。</li>
                            <li><xref keyref="false"/>：（默认）不允许选择不同音轨。</li>
                        </ul><ph>如果你在本地播放和发布音频至远端时，需要设置不同的音轨，你需要将该参数设为 <xref keyref="true"/>，然后再调用 <xref keyref="selectMultiAudioTrack"/> 方法来设置音轨。</ph></pd>
                </plentry>
                <plentry props="rn">
                    <pt>isAgoraSource</pt>
                    <pd>
                        <note>如果你需要打开的媒体资源为声网融合 CDN 分发的直播流或点播流，请向 <codeph>url</codeph> 传入直播或点播流的 URL 并将 <codeph>isAgoraSource</codeph> 设置为 <xref keyref="true"/>，否则无需设置 <codeph>isAgoraSource</codeph>。</note><ph>打开的媒体资源是否为通过声网融合 CDN 分发的直播或点播流：</ph>
                        <ul>
                            <li><xref keyref="true"/>：打开的媒体资源是声网融合 CDN 分发的直播或点播流。</li>
                            <li><xref keyref="false"/>：（默认）打开的媒体资源不是声网融合 CDN 分发的直播或点播流。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="rn">
                    <pt>isLiveSource</pt>
                    <pd>
                        <note>仅当打开的媒体资源为直播流时，将 <codeph>isLiveSource</codeph> 设置为 <xref keyref="true"/> 后才可加快媒体资源的打开速度。</note><ph>打开的媒体资源是否为直播流：</ph>
                        <ul>
                            <li><xref keyref="true"/>：直播流。</li>
                            <li><xref keyref="false"/>：（默认）非直播流。</li>
                        </ul><ph>如果你打开的媒体资源为直播流，建议你将该参数设置为 <xref keyref="true"/>，可加快打开直播流的速度。</ph></pd>
                </plentry>
                <plentry props="flutter">
                    <pt>url</pt>
                    <pd>需要播放的媒体资源的 URL。</pd>
                </plentry>
                <plentry props="flutter">
                    <pt>uri</pt>
                    <pd>媒体文件的 URI（Uniform Resource Identifier），可用于标识媒体文件。</pd>
                </plentry>
                <plentry props="flutter">
                    <pt>startPos</pt>
                    <pd>设置起始播放位置 (毫秒)，默认值为 0。</pd>
                </plentry>
                <plentry props="flutter">
                    <pt>autoPlay</pt>
                    <pd>
                        <note>如果你设置关闭自动播放，打开媒体文件后，请调用 <xref keyref="play"/> 方法来播放媒体文件。</note><ph>打开媒体文件后，是否开启自动播放：</ph>
                        <ul>
                            <li><xref keyref="true"/>：（默认）开启自动播放。</li>
                            <li><xref keyref="false"/>：关闭自动播放。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="flutter">
                    <pt>enableCache</pt>
                    <pd>
                        <note>
                            <ul>
                                <li>SDK 目前仅支持缓存点播流，但不支持缓存通过 HLS 协议传输的点播流。</li>
                                <li>缓存前，请向 <codeph>uri</codeph> 传值，否则播放器会以媒体文件的 <codeph>url</codeph> 作为缓存索引。</li>
                                <li>开启实时缓存后，播放器会预先缓存当前正在播放的媒体文件的部分数据到本地，当你下次播放该文件时播放器会直接从缓存中加载数据，可节省网络流量。当前缓存的媒体文件的相关统计数据会在媒体文件开始播放后每秒更新一次，详见 <xref keyref="CacheStatistics"/>。</li>
                            </ul>
                        </note><ph>此次播放是否开启实时缓存功能：</ph>
                        <ul>
                            <li><xref keyref="true"/>：开启实时缓存。</li>
                            <li><xref keyref="false"/>：（默认）关闭实时缓存。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="flutter">
                    <pt>enableMultiAudioTrack</pt>
                    <pd>此次播放是否允许选择不同音轨：
                        <ul>
                            <li><xref keyref="true"/>：允许选择不同音轨。</li>
                            <li><xref keyref="false"/>：（默认）不允许选择不同音轨。</li>
                        </ul><ph>如果你在本地播放和发布音频至远端时，需要设置不同的音轨，你需要将该参数设为 <xref keyref="true"/>，然后再调用 <xref keyref="selectMultiAudioTrack"/> 方法来设置音轨。</ph></pd>
                </plentry>
                <plentry props="flutter">
                    <pt>isAgoraSource</pt>
                    <pd>
                        <note>如果你需要打开的媒体资源为声网融合 CDN 分发的直播流或点播流，请向 <codeph>url</codeph> 传入直播或点播流的 URL 并将 <codeph>isAgoraSource</codeph> 设置为 <xref keyref="true"/>，否则无需设置 <codeph>isAgoraSource</codeph>。</note><ph>打开的媒体资源是否为通过声网融合 CDN 分发的直播或点播流：</ph>
                        <ul>
                            <li><xref keyref="true"/>：打开的媒体资源是声网融合 CDN 分发的直播或点播流。</li>
                            <li><xref keyref="false"/>：（默认）打开的媒体资源不是声网融合 CDN 分发的直播或点播流。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="flutter">
                    <pt>isLiveSource</pt>
                    <pd>
                        <note>仅当打开的媒体资源为直播流时，将 <codeph>isLiveSource</codeph> 设置为 <xref keyref="true"/> 后才可加快媒体资源的打开速度。</note><ph>打开的媒体资源是否为直播流：</ph>
                        <ul>
                            <li><xref keyref="true"/>：直播流。</li>
                            <li><xref keyref="false"/>：（默认）非直播流。</li>
                        </ul><ph>如果你打开的媒体资源为直播流，建议你将该参数设置为 <xref keyref="true"/>，可加快打开直播流的速度。</ph></pd>
                </plentry>
                <plentry props="unity">
                    <pt>url</pt>
                    <pd>需要播放的媒体资源的 URL。
                        <note>如果你打开的为普通媒体资源，请向 <codeph>url</codeph> 传值；如果你打开媒体资源为自定义媒体资源，请向 <codeph>provider</codeph> 传值，同时传值会导致方法调用失败。</note>
                    </pd>
                </plentry>
                <plentry props="unity">
                    <pt>uri</pt>
                    <pd>媒体文件的 URI（Uniform Resource Identifier），可用于标识媒体文件。</pd>
                </plentry>
                <plentry props="unity">
                    <pt>startPos</pt>
                    <pd>设置起始播放位置 (毫秒)，默认值为 0。</pd>
                </plentry>
                <plentry props="unity">
                    <pt>autoPlay</pt>
                    <pd>
                        <note>如果你设置关闭自动播放，打开媒体文件后，请调用 <xref keyref="play"/> 方法来播放媒体文件。</note><ph>打开媒体文件后，是否开启自动播放：</ph>
                        <ul>
                            <li><xref keyref="true"/>：（默认）开启自动播放。</li>
                            <li><xref keyref="false"/>：关闭自动播放。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="unity">
                    <pt>enableCache</pt>
                    <pd>
                        <note>
                            <ul>
                                <li>SDK 目前仅支持缓存点播流，但不支持缓存通过 HLS 协议传输的点播流。</li>
                                <li>缓存前，请向 <codeph>uri</codeph> 传值，否则播放器会以媒体文件的 <codeph>url</codeph> 作为缓存索引。</li>
                                <li>开启实时缓存后，播放器会预先缓存当前正在播放的媒体文件的部分数据到本地，当你下次播放该文件时播放器会直接从缓存中加载数据，可节省网络流量。当前缓存的媒体文件的相关统计数据会在媒体文件开始播放后每秒更新一次，详见 <xref keyref="CacheStatistics"/>。</li>
                            </ul>
                        </note><ph>此次播放是否开启实时缓存功能：</ph>
                        <ul>
                            <li><xref keyref="true"/>：开启实时缓存。</li>
                            <li><xref keyref="false"/>：（默认）关闭实时缓存。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="unity">
                    <pt>enableMultiAudioTrack</pt>
                    <pd>此次播放是否允许选择不同音轨：
                        <ul>
                            <li><xref keyref="true"/>：允许选择不同音轨。</li>
                            <li><xref keyref="false"/>：（默认）不允许选择不同音轨。</li>
                        </ul><ph>如果你在本地播放和发布音频至远端时，需要设置不同的音轨，你需要将该参数设为 <xref keyref="true"/>，然后再调用 <xref keyref="selectMultiAudioTrack"/> 方法来设置音轨。</ph></pd>
                </plentry>
                <plentry props="unity">
                    <pt>isAgoraSource</pt>
                    <pd>
                        <note>如果你需要打开的媒体资源为声网融合 CDN 分发的直播流或点播流，请向 <codeph>url</codeph> 传入直播或点播流的 URL 并将 <codeph>isAgoraSource</codeph> 设置为 <xref keyref="true"/>，否则无需设置 <codeph>isAgoraSource</codeph>。</note><ph>打开的媒体资源是否为通过声网融合 CDN 分发的直播或点播流：</ph>
                        <ul>
                            <li><xref keyref="true"/>：打开的媒体资源是声网融合 CDN 分发的直播或点播流。</li>
                            <li><xref keyref="false"/>：（默认）打开的媒体资源不是声网融合 CDN 分发的直播或点播流。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="unity">
                    <pt>isLiveSource</pt>
                    <pd>
                        <note>仅当打开的媒体资源为直播流时，将 <codeph>isLiveSource</codeph> 设置为 <xref keyref="true"/> 后才可加快媒体资源的打开速度。</note><ph>打开的媒体资源是否为直播流：</ph>
                        <ul>
                            <li><xref keyref="true"/>：直播流。</li>
                            <li><xref keyref="false"/>：（默认）非直播流。</li>
                        </ul><ph>如果你打开的媒体资源为直播流，建议你将该参数设置为 <xref keyref="true"/>，可加快打开直播流的速度。</ph></pd>
                </plentry>
                <plentry props="unity">
                    <pt>provider</pt>
                    <pd>自定义媒体资源文件的回调。详见 <xref keyref="IMediaPlayerCustomDataProvider"/>。
                        <note>如果你打开媒体资源为自定义媒体资源，请仅向 <codeph>provider</codeph> 传值，如果你打开的为普通媒体资源，请向 <codeph>url</codeph> 传值。同时向 <codeph>url</codeph> 和 <codeph>provider</codeph> 传值会导致方法调用会失败。</note>
                    </pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>