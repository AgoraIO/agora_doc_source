<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="class_screencaptureparameters">
    <title><ph keyref="ScreenCaptureParameters"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">用于配置屏幕共享的参数。</ph><ph id="shortdesc" props="mac">屏幕共享配置。</ph></shortdesc>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">struct ScreenCaptureParameters {
  VideoDimensions dimensions;
  int frameRate;
  int bitrate;
  bool captureMouseCursor;
  bool windowFocus;
  view_t* excludeWindowList;
  int excludeWindowCount;
  int highLightWidth;
  unsigned int highLightColor;
  bool enableHighLight;
};</codeblock>
                <codeblock props="mac" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface AgoraScreenCaptureParameters: NSObject
@property (assign, nonatomic) CGSize dimensions;
@property (assign, nonatomic) NSInteger frameRate;
@property (assign, nonatomic) NSInteger bitrate;
@property(assign, nonatomic) BOOL captureMouseCursor;
@property(assign, nonatomic) BOOL windowFocus;
@property(copy, nonatomic) NSArray* _Nullable excludeWindowList;
@property(assign, nonatomic) BOOL highLighted;
@property(strong, nonatomic) COLOR_CLASS* _Nullable highLightColor;
@property(assign, nonatomic) NSUInteger highLightWidth;
@end</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title" props="mac">
            <p props="mac">用于设置屏幕共享的视频编码参数。</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="cpp mac">
            <title>属性</title>
            <parml>
                <plentry props="cpp">
                    <pt>dimensions</pt>
                    <pd>屏幕共享视频流的编码分辨率。默认值为 1920 × 1080，即 2,073,600 像素。声网会根据该参数的值计算费用。如果屏幕尺寸与该参数值不同，SDK 会采用以下编码策略。假设 <codeph>dimensions</codeph> 设置为 1920 × 1080：
                        <ul>
                            <li>如果屏幕尺寸小于 <codeph>dimensions</codeph>，例如 1000 × 1000 像素，SDK 使用屏幕尺寸（即 1000 × 1000 像素）进行编码。</li>
                            <li>如果屏幕尺寸大于 <codeph>dimensions</codeph>，例如 2000 × 1500 像素，SDK 会在保持屏幕宽高比（4:3）的前提下，使用不超过 <codeph>dimensions</codeph> 的最大值进行编码，即 1440 × 1080。</li>
                        </ul><ph>详见 <xref keyref="VideoDimensions"/>。</ph></pd>
                </plentry>
                <plentry props="cpp">
                    <pt>frameRate</pt>
                    <pd>在 Windows 和 macOS 上，表示屏幕共享视频流的编码帧率（fps）。默认值为 5。声网不建议设置超过 15 的值。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>bitrate</pt>
                    <pd>在 Windows 和 macOS 上，表示屏幕共享视频流的编码码率（Kbps）。默认值为 0，表示 SDK 会根据当前屏幕的分辨率自动计算码率。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>captureMouseCursor</pt>
                    <pd>是否在屏幕共享中捕获鼠标：
                        <ul>
                            <li><xref keyref="true"/>：（默认）捕获鼠标。</li>
                            <li><xref keyref="false"/>：不捕获鼠标。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>windowFocus</pt>
                    <pd>调用 <xref keyref="startScreenCaptureByWindowId"/> 方法共享窗口时，是否将该窗口置于前台：
                        <ul>
                            <li><xref keyref="true"/>：将窗口置于前台。</li>
                            <li><xref keyref="false"/>：（默认）不将窗口置于前台。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>excludeWindowList</pt>
                    <pd>要屏蔽的窗口 ID 列表。调用 <xref keyref="startScreenCaptureByDisplayId"/> 开始屏幕共享时，可使用该参数屏蔽指定窗口。调用 <xref keyref="updateScreenCaptureParameters"/> 更新屏幕共享配置时，也可使用该参数动态屏蔽指定窗口。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>excludeWindowCount</pt>
                    <pd>要排除的窗口数量。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>highLightWidth</pt>
                    <pd>（仅适用于 macOS 和 Windows）边框的宽度（像素）。默认值为 5，取值范围为 (0, 50]。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>highLightColor</pt>
                    <pd>（仅适用于 macOS 和 Windows）
                        <ul>
                            <li>在 Windows 平台上，边框颜色为 ARGB 格式。默认值为 0xFF8CBF26。</li>
                            <li>在 macOS 上，<codeph>COLOR_CLASS</codeph> 表示 <codeph>NSColor</codeph>。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>enableHighLight</pt>
                    <pd>（仅适用于 macOS 和 Windows）是否在共享的窗口或屏幕周围显示边框：
                        <ul>
                            <li><xref keyref="true"/>：显示边框。</li>
                            <li><xref keyref="false"/>：（默认）不显示边框。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>dimensions</pt>
                    <pd>屏幕共享视频流的编码分辨率。若屏幕尺寸与该参数不同，SDK 会采用以下编码策略。例如将 <codeph>dimensions</codeph> 设置为 1920 × 1080：
                        <ul>
                            <li>如果屏幕尺寸小于 <codeph>dimensions</codeph>，如 1000 × 1000 像素，SDK 会使用屏幕尺寸（即 1000 × 1000 像素）进行编码。</li>
                            <li>如果屏幕尺寸大于 <codeph>dimensions</codeph>，如 2000 × 1500 像素，SDK 会在保持屏幕宽高比（4:3）的前提下，使用不超过 <codeph>dimensions</codeph> 的最大值进行编码，即 1440 × 1080。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>frameRate</pt>
                    <pd>共享区域的帧率（fps）。默认值为 5。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>bitrate</pt>
                    <pd>共享区域的码率（Kbps）。默认值为 0，表示 SDK 会根据当前屏幕的分辨率计算码率。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>captureMouseCursor</pt>
                    <pd>是否在屏幕共享中采集鼠标：
                        <ul>
                            <li><xref keyref="true"/>：（默认）采集鼠标。</li>
                            <li><xref keyref="false"/>：不采集鼠标。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>windowFocus</pt>
                    <pd>调用 <codeph>startScreenCaptureByWindowId</codeph> 方法共享窗口时，是否将该窗口置顶：
                        <ul>
                            <li><xref keyref="true"/>：将窗口置顶。</li>
                            <li><xref keyref="false"/>：（默认）不置顶。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>excludeWindowList</pt>
                    <pd>要屏蔽的窗口 ID 列表。调用 <codeph>startScreenCaptureByDisplayId</codeph> 开始屏幕共享时，可使用该参数屏蔽指定窗口。调用 <codeph>updateScreenCaptureParameters</codeph> 更新屏幕共享配置时，也可动态屏蔽指定窗口。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>highLighted</pt>
                    <pd>是否在共享的窗口或屏幕周围添加边框：
                        <ul>
                            <li><xref keyref="true"/>：添加边框。</li>
                            <li><xref keyref="false"/>：（默认）不添加边框。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>highLightColor</pt>
                    <pd>边框颜色。在 macOS 上，<codeph>COLOR_CLASS</codeph> 表示 <codeph>NSColor</codeph>。详见 <codeph>COLOR_CLASS</codeph>。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>highLightWidth</pt>
                    <pd>边框宽度（像素）。默认值为 5，取值范围为 (0, 50]。</pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>