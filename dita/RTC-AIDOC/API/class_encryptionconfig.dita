<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="class_encryptionconfig">
    <title><ph keyref="EncryptionConfig"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">用于配置内置加密参数。</ph><ph id="shortdesc" props="android">用于配置内置加密。</ph><ph id="shortdesc" props="ios">内置加密配置。</ph><ph id="shortdesc" props="mac">内置加密配置。</ph></shortdesc>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">struct EncryptionConfig {
  ENCRYPTION_MODE encryptionMode;
  const char* encryptionKey;
  uint8_t encryptionKdfSalt[32];
  bool datastreamEncryptionEnabled;
  const char* getEncryptionString() const;
};</codeblock>
                <codeblock props="android" outputclass="language-java">public class EncryptionConfig {
  public EncryptionMode encryptionMode;
  public String encryptionKey;
  public final byte[] encryptionKdfSalt = new byte[32];
  public boolean datastreamEncryptionEnabled;
}</codeblock>
                <codeblock props="ios" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface AgoraEncryptionConfig: NSObject
@property (assign, nonatomic) AgoraEncryptionMode encryptionMode;
@property (copy, nonatomic) NSString * _Nullable encryptionKey;
@property (strong, nonatomic) NSData * _Nullable encryptionKdfSalt;
@property (assign, nonatomic) BOOL  datastreamEncryptionEnabled;
@end</codeblock>
                <codeblock props="mac" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface AgoraEncryptionConfig: NSObject
@property (assign, nonatomic) AgoraEncryptionMode encryptionMode;
@property (copy, nonatomic) NSString * _Nullable encryptionKey;
@property (strong, nonatomic) NSData * _Nullable encryptionKdfSalt;
@property (assign, nonatomic) BOOL  datastreamEncryptionEnabled;
@end</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title" props="ios mac">
            <p props="ios">用于配置内置加密的参数。</p>
            <p props="mac">用于配置内置加密的参数。</p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp ios mac">
            <title>属性</title>
            <parml>
                <plentry props="cpp">
                    <pt>encryptionMode</pt>
                    <pd>内置加密模式，详见 <xref keyref="ENCRYPTION_MODE"/>。声网建议使用 <codeph>AES_128_GCM2</codeph> 或 <codeph>AES_256_GCM2</codeph> 模式，这两种模式支持使用加密盐以提升安全性。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>encryptionKey</pt>
                    <pd>字符串类型的加密密钥，长度不受限制。声网建议使用 32 字节的密钥。
                        <note>如果未设置加密密钥或将其设置为 <xref keyref="NULL"/>，则无法使用内置加密，SDK 会返回 <codeph>-2</codeph>。</note>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>encryptionKdfSalt</pt>
                    <pd>用于加密的盐值，长度为 32 字节。
                        <note>该参数仅在 <codeph>AES_128_GCM2</codeph> 或 <codeph>AES_256_GCM2</codeph> 加密模式下生效。在此情况下，请确保该参数不为 <codeph>0</codeph>。</note>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>datastreamEncryptionEnabled</pt>
                    <pd>是否启用数据流加密：
                        <ul>
                            <li><xref keyref="true"/>：启用数据流加密。</li>
                            <li><xref keyref="false"/>：（默认）禁用数据流加密。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>encryptionMode</pt>
                    <pd>内置加密模式。声网建议使用 <codeph>AES_128_GCM2</codeph> 或 <codeph>AES_256_GCM2</codeph> 加密模式，这两种模式支持使用加密盐值以提升安全性。详见 <xref keyref="ENCRYPTION_MODE"/>。</pd>
                </plentry>
                <plentry props="android">
                    <pt>encryptionKey</pt>
                    <pd>加密密钥，类型为字符串，长度无限制。声网建议使用 32 字节长度的密钥。
                        <note>如果未设置加密密钥或将其设置为 <codeph>null</codeph>，则无法使用内置加密，且 SDK 返回值为 <codeph>-2</codeph>。</note>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>encryptionKdfSalt</pt>
                    <pd>用于加密的盐值，长度为 32 字节。声网建议在服务器端使用 OpenSSL 生成该盐值。详见 Media Stream Encryption。
                        <note>该参数仅在 <codeph>AES_128_GCM2</codeph> 或 <codeph>AES_256_GCM2</codeph> 加密模式下生效。在此情况下，请确保该参数值不为 0。</note>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>datastreamEncryptionEnabled</pt>
                    <pd>是否启用数据流加密：
                        <ul>
                            <li><xref keyref="true"/>：启用数据流加密。</li>
                            <li><xref keyref="false"/>：（默认）不启用数据流加密。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="ios">
                    <pt>encryptionMode</pt>
                    <pd>内置加密模式，详见 <xref keyref="ENCRYPTION_MODE"/>。声网推荐使用 <codeph>AgoraEncryptionModeAES128GCM2</codeph> 或 <codeph>AgoraEncryptionModeAES256GCM2</codeph> 加密模式。</pd>
                </plentry>
                <plentry props="ios">
                    <pt>encryptionKey</pt>
                    <pd>字符串类型的加密密钥，长度不受限制。声网推荐使用 32 字节的密钥。
                        <note>如果未设置加密密钥或将其设置为 <xref keyref="NULL"/>，则无法使用内置加密，SDK 会返回 <codeph>-2</codeph>。</note>
                    </pd>
                </plentry>
                <plentry props="ios">
                    <pt>encryptionKdfSalt</pt>
                    <pd>用于加密的盐值，长度为 32 字节。声网推荐在服务器端使用 OpenSSL 生成该盐值。
                        <note>该参数仅在 <codeph>AgoraEncryptionModeAES128GCM2</codeph> 或 <codeph>AgoraEncryptionModeAES256GCM2</codeph> 加密模式下生效。在此情况下，请确保该参数不为 <codeph>0</codeph>。</note>
                    </pd>
                </plentry>
                <plentry props="ios">
                    <pt>datastreamEncryptionEnabled</pt>
                    <pd>是否启用数据流加密：
                        <ul>
                            <li><xref keyref="true"/>：启用数据流加密。</li>
                            <li><xref keyref="false"/>：（默认）不启用数据流加密。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>encryptionMode</pt>
                    <pd>内置加密模式，详见 <xref keyref="ENCRYPTION_MODE"/>。声网推荐使用 <codeph>AgoraEncryptionModeAES128GCM2</codeph> 或 <codeph>AgoraEncryptionModeAES256GCM2</codeph> 加密模式。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>encryptionKey</pt>
                    <pd>字符串类型的加密密钥，长度不受限制。声网推荐使用 32 字节的密钥。
                        <note>如果未设置加密密钥或将其设置为 <xref keyref="NULL"/>，则无法使用内置加密，SDK 会返回 <codeph>-2</codeph>。</note>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>encryptionKdfSalt</pt>
                    <pd>用于加密的盐值，长度为 32 字节。声网推荐在服务器端使用 OpenSSL 生成该盐值。
                        <note>该参数仅在 <codeph>AgoraEncryptionModeAES128GCM2</codeph> 或 <codeph>AgoraEncryptionModeAES256GCM2</codeph> 加密模式下生效。在此情况下，请确保该参数不为 <codeph>0</codeph>。</note>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>datastreamEncryptionEnabled</pt>
                    <pd>是否启用数据流加密：
                        <ul>
                            <li><xref keyref="true"/>：启用数据流加密。</li>
                            <li><xref keyref="false"/>：（默认）不启用数据流加密。</li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>