<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="class_encryptionconfig">
    <title>
        <ph keyref="EncryptionConfig"/>
  </title>
    <shortdesc id="short">
        <ph id="shortdesc">用于配置内置加密参数。</ph>
  </shortdesc>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">struct EncryptionConfig {
  ENCRYPTION_MODE encryptionMode;
  const char* encryptionKey;
  uint8_t encryptionKdfSalt[32];
  bool datastreamEncryptionEnabled;
  const char* getEncryptionString() const;
};</codeblock>
                <codeblock props="android" outputclass="language-java">public class EncryptionConfig {
  public EncryptionMode encryptionMode;
  public String encryptionKey;
  public final byte[] encryptionKdfSalt = new byte[32];
  public boolean datastreamEncryptionEnabled;
}</codeblock>
                <codeblock props="ios" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface AgoraEncryptionConfig: NSObject
@property (assign, nonatomic) AgoraEncryptionMode encryptionMode;
@property (copy, nonatomic) NSString * _Nullable encryptionKey;
@property (strong, nonatomic) NSData * _Nullable encryptionKdfSalt;
@property (assign, nonatomic) BOOL  datastreamEncryptionEnabled;
@end</codeblock>
                <codeblock props="mac" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface AgoraEncryptionConfig: NSObject
@property (assign, nonatomic) AgoraEncryptionMode encryptionMode;
@property (copy, nonatomic) NSString * _Nullable encryptionKey;
@property (strong, nonatomic) NSData * _Nullable encryptionKdfSalt;
@property (assign, nonatomic) BOOL  datastreamEncryptionEnabled;
@end</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <p props="ios mac">用于配置内置加密的参数。</p>
        </section>
        <section id="parameters" deliveryTarget="details">
            <title>属性</title>
            <parml>
                <plentry props="cpp">
                    <pt>encryptionMode</pt>
                    <pd>内置加密模式，详见 <codeph>ENCRYPTION_MODE</codeph>。声网建议使用 <codeph>AES_128_GCM2</codeph> 或 <codeph>AES_256_GCM2</codeph> 模式，这两种模式支持使用加密盐以提升安全性。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>encryptionKey</pt>
                    <pd>字符串类型的加密密钥，长度不受限制。声网建议使用 32 字节的密钥。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>encryptionKdfSalt</pt>
                    <pd>用于加密的盐值，长度为 32 字节。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>datastreamEncryptionEnabled</pt>
                    <pd>是否启用数据流加密：
                        <ul>
                            <li>
                                <codeph>true</codeph>：启用数据流加密。</li>
                            <li>
                                <codeph>false</codeph>：（默认）禁用数据流加密。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>encryptionMode</pt>
                    <pd>内置加密模式。声网建议使用 <codeph>AES_128_GCM2</codeph> 或 <codeph>AES_256_GCM2</codeph> 加密模式，这两种模式支持使用加密盐值以提升安全性。详见 <xref keyref="ENCRYPTION_MODE"/>。</pd>
                </plentry>
                <plentry props="android">
                    <pt>encryptionKey</pt>
                    <pd>加密密钥，类型为字符串，长度无限制。声网建议使用 32 字节长度的密钥。</pd>
                </plentry>
                <plentry props="android">
                    <pt>encryptionKdfSalt</pt>
                    <pd>用于加密的盐值，长度为 32 字节。声网建议在服务器端使用 OpenSSL 生成该盐值。详见 Media Stream Encryption。</pd>
                </plentry>
                <plentry props="android ios">
                    <pt>datastreamEncryptionEnabled</pt>
                    <pd>是否启用数据流加密：
                        <ul>
                            <li>
                                <xref keyref="true"/>：启用数据流加密。</li>
                            <li>
                                <xref keyref="false"/>：（默认）不启用数据流加密。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="ios">
                    <pt>encryptionMode</pt>
                    <pd>内置加密模式，详见 <xref keyref="ENCRYPTION_MODE"/>。声网推荐使用 <codeph>AgoraEncryptionModeAES128GCM2</codeph> 或 <codeph>AgoraEncryptionModeAES256GCM2</codeph> 加密模式。</pd>
                </plentry>
                <plentry props="ios mac">
                    <pt>encryptionKey</pt>
                    <pd>字符串类型的加密密钥，长度不受限制。声网推荐使用 32 字节的密钥。</pd>
                </plentry>
                <plentry props="ios mac">
                    <pt>encryptionKdfSalt</pt>
                    <pd>用于加密的盐值，长度为 32 字节。声网推荐在服务器端使用 OpenSSL 生成该盐值。详见 <codeph>Media Stream Encryption</codeph>。详见 <codeph>NSData</codeph>。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>encryptionMode</pt>
                    <pd>内置加密模式，详见 <codeph>AgoraEncryptionMode</codeph>。声网推荐使用 <codeph>AgoraEncryptionModeAES128GCM2</codeph> 或 <codeph>AgoraEncryptionModeAES256GCM2</codeph> 加密模式。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>datastreamEncryptionEnabled</pt>
                    <pd>是否启用数据流加密：
                        <ul>
                            <li>
                                <codeph>YES</codeph>：启用数据流加密。</li>
                            <li>
                                <codeph>NO</codeph>：（默认）不启用数据流加密。</li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>