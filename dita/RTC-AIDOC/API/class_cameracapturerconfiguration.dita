<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="class_cameracapturerconfiguration">
    <title><ph keyref="CameraCapturerConfiguration"/></title>
    <shortdesc id="short"><ph id="shortdesc" props="cpp">配置摄像头采集偏好。</ph><ph id="shortdesc" props="ios">设置摄像头采集偏好。</ph><ph id="shortdesc" props="android">用于设置摄像头采集偏好。</ph><ph id="shortdesc" props="mac">设置摄像头采集偏好。</ph></shortdesc>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">struct CameraCapturerConfiguration {
#if defined(__ANDROID__) || (defined(__APPLE__) &amp;&amp; TARGET_OS_IOS) || defined(__OHOS__)
  Optional&lt;CAMERA_DIRECTION&gt; cameraDirection;
  Optional&lt;CAMERA_FOCAL_LENGTH_TYPE&gt; cameraFocalLengthType;
#else
  Optional&lt;const char *&gt; deviceId;
#endif
#if defined(__ANDROID__)
  Optional&lt;const char *&gt; cameraId;
#endif
  Optional&lt;bool&gt; followEncodeDimensionRatio;
  VideoFormat format;
};</codeblock>
                <codeblock props="ios" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface AgoraCameraCapturerConfiguration: NSObject
#if TARGET_OS_IOS
@property (assign, nonatomic) AgoraCameraDirection cameraDirection;
@property(assign, nonatomic) AgoraFocalLength cameraFocalLengthType;
#elif TARGET_OS_MAC
@property (copy, nonatomic) NSString * _Nullable deviceId;
#endif
@property(assign, nonatomic) CGSize dimensions;
@property(assign, nonatomic) int frameRate;
@property(assign, nonatomic) BOOL followEncodeDimensionRatio;
@end</codeblock>
                <codeblock props="android" outputclass="language-java">public class CameraCapturerConfiguration {
  public CAMERA_DIRECTION cameraDirection = null;
  public String cameraId = null;
  public CAMERA_FOCAL_LENGTH_TYPE cameraFocalLengthType = null;
  public CaptureFormat captureFormat;
  public Boolean followEncodeDimensionRatio = null;
}</codeblock>
                <codeblock props="mac" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface AgoraCameraCapturerConfiguration: NSObject
#if TARGET_OS_IOS
@property (assign, nonatomic) AgoraCameraDirection cameraDirection;
@property(assign, nonatomic) AgoraFocalLength cameraFocalLengthType;
#elif TARGET_OS_MAC
@property (copy, nonatomic) NSString * _Nullable deviceId;
#endif
@property(assign, nonatomic) CGSize dimensions;
@property(assign, nonatomic) int frameRate;
@property(assign, nonatomic) BOOL followEncodeDimensionRatio;
@end</codeblock>
            </p>
        </section>
        <section id="parameters" deliveryTarget="details" props="android cpp ios mac">
            <title>属性</title>
            <parml>
                <plentry props="cpp">
                    <pt>cameraDirection</pt>
                    <pd>（可选）摄像头方向，详见 <xref keyref="CAMERA_DIRECTION"/>。
                        <note>该参数仅适用于 Android 和 iOS 平台。</note>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>cameraFocalLengthType</pt>
                    <pd>（可选）摄像头焦距类型，详见 <xref keyref="CAMERA_FOCAL_LENGTH_TYPE"/>。
                        <note>该参数仅适用于 Android 和 iOS 平台。
                            <ul>
                                <li>设置摄像头焦距类型时，仅支持通过 <codeph>cameraDirection</codeph> 指定摄像头，不支持通过 <codeph>cameraId</codeph> 指定。</li>
                                <li>对于配备多镜头后置摄像头的 iOS 设备（如双摄：广角和超广角，或三摄：广角、超广角和长焦），可通过以下方式实现超广角视角的视频采集：
                                    <ul>
                                        <li>方法一：将该参数设置为 <codeph>CAMERA_FOCAL_LENGTH_ULTRA_WIDE</codeph>（2）（超广角镜头）。</li>
                                        <li>方法二：将该参数设置为 <codeph>CAMERA_FOCAL_LENGTH_DEFAULT</codeph>（0）（标准镜头），然后调用 <xref keyref="setCameraZoomFactor"/> 将摄像头变焦因子设置为小于 1.0 的值，最小为 0.5。</li>
                                    </ul>
                                </li>
                            </ul><ph>  两种方法的区别在于，方法一的超广角尺寸不可调节，而方法二支持自由调节变焦因子。</ph></note>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>deviceId</pt>
                    <pd>摄像头 ID，最大长度为 <xref keyref="MAX_DEVICE_ID_LENGTH_TYPE"/>。
                        <note>该参数仅适用于 Windows 和 macOS 平台。</note>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>cameraId</pt>
                    <pd>（可选）摄像头 ID。
                        <note>该参数仅适用于 Android 平台。
                            <ul>
                                <li>该参数与 <codeph>cameraDirection</codeph> 互斥，二者只能选其一。</li>
                                <li>使用 <codeph>cameraDirection</codeph> 指定摄像头更为简便，仅需指定摄像头方向（前置或后置），SDK 会通过 Android 原生 API 获取并确认实际摄像头 ID。</li>
                                <li>使用 <codeph>cameraId</codeph> 可更精确地指定某个摄像头，适用于多摄像头设备中 <codeph>cameraDirection</codeph> 无法识别或访问所有摄像头的场景，建议直接使用 <codeph>cameraId</codeph> 指定目标摄像头。</li>
                            </ul>
                        </note>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>followEncodeDimensionRatio</pt>
                    <pd>（可选）是否遵循 <xref keyref="setVideoEncoderConfiguration"/> 中设置的视频宽高比：
                        <ul>
                            <li><xref keyref="true"/>：（默认）遵循设置的视频宽高比。SDK 会根据设置的视频宽高比裁剪采集的视频，并同步更新本地预览画面以及 <xref keyref="onCaptureVideoFrame"/> 和 <xref keyref="onPreEncodeVideoFrame"/> 中的视频帧。</li>
                            <li><xref keyref="false"/>：不遵循设置的视频宽高比。SDK 不会更改采集视频帧的宽高比。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="cpp">
                    <pt>format</pt>
                    <pd>（可选）视频帧的格式，详见 <xref keyref="VideoFormat"/>。</pd>
                </plentry>
                <plentry props="ios">
                    <pt>cameraDirection</pt>
                    <pd>摄像头方向，仅适用于 iOS。详见 <xref keyref="CAMERA_DIRECTION"/>。</pd>
                </plentry>
                <plentry props="ios">
                    <pt>cameraFocalLengthType</pt>
                    <pd>摄像头焦距类型，仅适用于 iOS。详见 <xref keyref="CAMERA_FOCAL_LENGTH_TYPE"/>。
                        <note>对于配备多镜头后置摄像头的 iOS 设备（如双摄像头：广角和超广角，或三摄像头：广角、超广角和长焦），你可以使用以下任一方式以超广角视角采集视频：
                            <ul>
                                <li>方法一：将该参数设置为 <codeph>AgoraFocalLengthUltraWide</codeph>（2）（超广角镜头）。</li>
                                <li>方法二：将该参数设置为 <codeph>AgoraFocalLengthDefault</codeph>（0）（标准镜头），然后调用 <xref keyref="setCameraZoomFactor"/> 将摄像头的缩放因子设置为小于 1.0 的值，最小值为 0.5。</li>
                            </ul><ph>两种方法的区别在于，方法一的超广角尺寸不可调节，而方法二支持自由调节摄像头的缩放因子。</ph></note>
                    </pd>
                </plentry>
                <plentry props="ios">
                    <pt>deviceId</pt>
                    <pd>摄像头设备 ID，仅适用于 macOS。</pd>
                </plentry>
                <plentry props="ios">
                    <pt>dimensions</pt>
                    <pd>视频帧的尺寸（单位：像素）。默认值为 960 × 540。</pd>
                </plentry>
                <plentry props="ios">
                    <pt>frameRate</pt>
                    <pd>视频帧的帧率（单位：fps）。默认值为 15。</pd>
                </plentry>
                <plentry props="ios">
                    <pt>followEncodeDimensionRatio</pt>
                    <pd>是否遵循通过 <codeph>setVideoEncoderConfiguration</codeph> 设置的视频宽高比。
                        <ul>
                            <li><xref keyref="true"/>：（默认）遵循设置的视频宽高比。SDK 会根据设置的视频宽高比裁剪采集的视频，并同步更新本地预览画面以及 <codeph>onCaptureVideoFrame</codeph> 和 <codeph>onPreEncodeVideoFrame</codeph> 中的视频帧。</li>
                            <li><xref keyref="false"/>：不遵循设置的视频宽高比。SDK 不会更改采集视频帧的宽高比。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>cameraDirection</pt>
                    <pd>（可选）摄像头朝向。详见 <xref keyref="CAMERA_DIRECTION"/>。</pd>
                </plentry>
                <plentry props="android">
                    <pt>cameraId</pt>
                    <pd>（可选）摄像头 ID，默认值为前置摄像头的 ID。你可以通过 Android 原生系统 API 获取 camera ID。
                        <note>此参数与 <codeph>cameraDirection</codeph> 在摄像头选择上互斥，你可以根据需要选择其中一个。
                            <ul>
                                <li>通过 <codeph>cameraDirection</codeph> 指定摄像头更加便捷。你只需指定摄像头朝向（前置或后置），不需要显式指定 camera ID；SDK 会通过 Android 原生 API 获取并确认实际的 camera ID。</li>
                                <li>通过 <codeph>cameraId</codeph> 指定摄像头可以更精确定位某个摄像头。对于拥有多个摄像头的设备，当 <codeph>cameraDirection</codeph> 无法识别或访问全部摄像头时，建议使用 <codeph>cameraId</codeph> 明确指定所需的摄像头 ID。</li>
                            </ul>
                        </note>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>cameraFocalLengthType</pt>
                    <pd>（可选）摄像头焦距类型。详见 <xref keyref="CAMERA_FOCAL_LENGTH_TYPE"/>。
                        <note>要设置摄像头焦距类型，仅支持通过 <codeph>cameraDirection</codeph> 来指定摄像头，不支持通过 <codeph>cameraId</codeph> 指定。</note>
                    </pd>
                </plentry>
                <plentry props="android">
                    <pt>captureFormat</pt>
                    <pd>（可选）视频帧的格式。详见 <xref keyref="VideoFormat"/>。</pd>
                </plentry>
                <plentry props="android">
                    <pt>followEncodeDimensionRatio</pt>
                    <pd>（可选）是否遵循 <xref keyref="setVideoEncoderConfiguration"/> 中设置的视频宽高比。
                        <ul>
                            <li><xref keyref="true"/>：（默认）遵循设置的视频宽高比。SDK 会根据设置的视频比例裁剪采集视频，并同步修改本地预览画面，以及 <xref keyref="onCaptureVideoFrame"/> 和 <xref keyref="onPreEncodeVideoFrame"/> 中的视频帧。</li>
                            <li><xref keyref="false"/>：不遵循设置的视频宽高比。SDK 不会修改采集的视频帧宽高比。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>cameraDirection</pt>
                    <pd>摄像头方向，仅适用于 iOS。详见 <codeph>AgoraCameraDirection</codeph>。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>cameraFocalLengthType</pt>
                    <pd>摄像头焦距类型，仅适用于 iOS。详见 <codeph>AgoraFocalLength</codeph>。
                        <note>对于配备多镜头后置摄像头的 iOS 设备（如双摄像头：广角和超广角，或三摄像头：广角、超广角和长焦），你可以使用以下任一方式以超广角视角采集视频：
                            <ul>
                                <li>方法一：将该参数设置为 <codeph>AgoraFocalLengthUltraWide</codeph>（2）（超广角镜头）。</li>
                                <li>方法二：将该参数设置为 <codeph>AgoraFocalLengthDefault</codeph>（0）（标准镜头），然后调用 <codeph>setCameraZoomFactor:</codeph> 将摄像头的缩放因子设置为小于 1.0 的值，最小值为 0.5。</li>
                            </ul><ph>两种方法的区别在于，方法一的超广角尺寸不可调节，而方法二支持自由调节摄像头的缩放因子。</ph></note>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>deviceId</pt>
                    <pd>摄像头设备 ID，仅适用于 macOS。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>dimensions</pt>
                    <pd>视频帧的尺寸（单位：像素）。默认值为 960 × 540。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>frameRate</pt>
                    <pd>视频帧的帧率（单位：fps）。默认值为 15。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>followEncodeDimensionRatio</pt>
                    <pd>是否遵循通过 <codeph>setVideoEncoderConfiguration</codeph> 设置的视频宽高比。
                        <ul>
                            <li><xref keyref="true"/>：（默认）遵循设置的视频宽高比。SDK 会根据设置的视频宽高比裁剪采集的视频，并同步更新本地预览画面以及 <codeph>onCaptureVideoFrame</codeph> 和 <codeph>onPreEncodeVideoFrame</codeph> 中的视频帧。</li>
                            <li><xref keyref="false"/>：不遵循设置的视频宽高比。SDK 不会更改采集视频帧的宽高比。</li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>