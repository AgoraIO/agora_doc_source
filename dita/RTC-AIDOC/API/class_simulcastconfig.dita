<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="class_simulcastconfig">
    <title>
        <ph keyref="SimulcastConfig"/>
  </title>
    <shortdesc id="short">
        <ph id="shortdesc">用于配置不同质量层级的视频流。</ph>
  </shortdesc>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">struct SimulcastConfig {
  StreamLayerConfig configs[STREAM_LAYER_COUNT_MAX];
  bool publish_fallback_enable;
};</codeblock>
                <codeblock props="android" outputclass="language-java">public class SimulcastConfig {
  final public StreamLayerConfig[] configs = new StreamLayerConfig[StreamLayerIndex.STREAM_LAYER_COUNT_MAX.getValue()];
  public boolean publishFallbackEnable;
}</codeblock>
                <codeblock props="ios" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface AgoraSimulcastConfig: NSObject
@property (copy, nonatomic, readonly) NSArray&lt;AgoraStreamLayerConfig*&gt;* _Nonnull configs;
@property (assign, nonatomic) BOOL publishFallbackEnable;
@end</codeblock>
                <codeblock props="mac" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface AgoraSimulcastConfig: NSObject
@property (copy, nonatomic, readonly) NSArray&lt;AgoraStreamLayerConfig*&gt;* _Nonnull configs;
@property (assign, nonatomic) BOOL publishFallbackEnable;
@end</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="since">
                <dlentry props="android cpp ios mac">
                    <dt>自从</dt>
                    <dd>自 v4.6.0 版本新增。</dd>
                </dlentry>
            </dl>
        </section>
        <section id="parameters" deliveryTarget="details">
            <title>属性</title>
            <parml>
                <plentry props="cpp">
                    <pt>configs</pt>
                    <pd>多质量层级视频流的配置。详见 <codeph>StreamLayerConfig</codeph>。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>publish_fallback_enable</pt>
                    <pd>是否开启分层推流回退：
                        <ul>
                            <li>
                                <codeph>true</codeph>：开启分层推流回退。当发布端设备性能或网络较差时，SDK 会动态关闭从 layer1 到 layer6 的多个不同质量层级的视频流，至少保留最高和最低质量的视频流，以维持基本的视频连续性。</li>
                            <li>
                                <codeph>false</codeph>：（默认）关闭分层推流回退。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="android ios">
                    <pt>configs</pt>
                    <pd>多质量层级视频流的配置。详见 <xref keyref="StreamLayerConfig"/>。</pd>
                </plentry>
                <plentry props="android">
                    <pt>publishFallbackEnable</pt>
                    <pd>是否开启分层推流回退机制：
                        <ul>
                            <li>
                                <xref keyref="true"/>：开启回退机制。当推流端设备性能或网络状况不佳时，SDK 会动态禁用从 layer1 到 layer6 的多路不同质量层级的视频流，至少保留最高和最低质量的视频流，以维持基本的视频连贯性。</li>
                            <li>
                                <xref keyref="false"/>：（默认）关闭回退机制。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="ios">
                    <pt>publishFallbackEnable</pt>
                    <pd>是否启用分层推流回退：
                        <ul>
                            <li>
                                <xref keyref="true"/>：启用分层推流回退。当发布端设备性能或网络较差时，SDK 会动态关闭从 layer1 到 layer6 的多个不同质量层级的视频流，至少保留最高和最低质量的视频流，以维持基本的视频连续性。</li>
                            <li>
                                <xref keyref="false"/>：（默认）关闭分层推流回退。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="mac">
                    <pt>configs</pt>
                    <pd>多质量层级视频流的配置。详见 <codeph>AgoraStreamLayerConfig</codeph>。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>publishFallbackEnable</pt>
                    <pd>是否启用分层推流回退：
                        <ul>
                            <li>
                                <codeph>YES</codeph>：启用分层推流回退。当发布端设备性能或网络较差时，SDK 会动态关闭从 layer1 到 layer6 的多个不同质量层级的视频流，至少保留最高和最低质量的视频流，以维持基本的视频连续性。</li>
                            <li>
                                <codeph>NO</codeph>：（默认）关闭分层推流回退。</li>
                        </ul>
                    </pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>