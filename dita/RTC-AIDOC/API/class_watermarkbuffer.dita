<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="class_watermarkbuffer">
    <title>
        <ph keyref="WatermarkBuffer"/>
  </title>
    <shortdesc id="short">
        <ph id="shortdesc">用于配置水印图像的格式、尺寸和像素缓冲区。</ph>
  </shortdesc>
    <refbody>
        <section id="prototype">
            <p outputclass="codeblock">
                <codeblock props="cpp" outputclass="language-cpp">struct WatermarkBuffer {
  int width;
  int height;
  int length;
  media::base::VIDEO_PIXEL_FORMAT format;
  const uint8_t* buffer;
};</codeblock>
                <codeblock props="android" outputclass="language-java">public class WatermarkBuffer {
  public final static int WATERMARK_BUFFER_FORMAT_I420 = 1;
  public final static int WATERMARK_BUFFER_FORMAT_BGRA = 2;
  public final static int WATERMARK_BUFFER_FORMAT_NV21 = 3;
  public final static int WATERMARK_BUFFER_FORMAT_RGBA = 4;
  public ByteBuffer buffer;
  public int width;
  public int height;
  public int format;
}</codeblock>
                <codeblock props="ios" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface WatermarkBuffer : NSObject
@property(assign, nonatomic) int width;
@property(assign, nonatomic) int height;
@property(assign, nonatomic) int length;
@property(strong, nonatomic) NSData* _Nullable buffer;
@property(assign, nonatomic) WatermarkBufferFormat format;
@end</codeblock>
                <codeblock props="mac" outputclass="language-objectivec">__attribute__((visibility("default"))) @interface WatermarkBuffer : NSObject
@property(assign, nonatomic) int width;
@property(assign, nonatomic) int height;
@property(assign, nonatomic) int length;
@property(strong, nonatomic) NSData* _Nullable buffer;
@property(assign, nonatomic) WatermarkBufferFormat format;
@end</codeblock>
            </p>
        </section>
        <section id="detailed_desc" deliveryTarget="details" otherprops="no-title">
            <dl outputclass="since">
                <dlentry props="android cpp ios mac">
                    <dt>自从</dt>
                    <dd>自 v4.6.0 版本新增。</dd>
                </dlentry>
            </dl>
            <p props="android">用于定义水印图像的缓冲区数据结构。</p>
            <p props="ios mac">包括图像的宽度、高度、长度、图像数据缓冲区和格式。</p>
        </section>
        <section id="parameters" deliveryTarget="details">
            <title>属性</title>
            <parml>
                <plentry props="android cpp ios mac">
                    <pt>width</pt>
                    <pd>水印图像的宽度，单位为像素。</pd>
                </plentry>
                <plentry props="android cpp ios mac">
                    <pt>height</pt>
                    <pd>水印图像的高度，单位为像素。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>length</pt>
                    <pd>水印图像缓冲区的长度，单位为字节。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>format</pt>
                    <pd>水印图像的像素格式，详见 <codeph>VIDEO_PIXEL_FORMAT</codeph>。默认值为 <codeph>VIDEO_PIXEL_I420</codeph>。当前支持的格式包括：<codeph>VIDEO_PIXEL_I420</codeph>、<codeph>VIDEO_PIXEL_RGBA</codeph>、<codeph>VIDEO_PIXEL_BGRA</codeph> 和 <codeph>VIDEO_PIXEL_NV21</codeph>。</pd>
                </plentry>
                <plentry props="cpp">
                    <pt>buffer</pt>
                    <pd>水印图像的像素缓冲区数据。</pd>
                </plentry>
                <plentry props="android">
                    <pt>WATERMARK_BUFFER_FORMAT_I420</pt>
                    <pd>指定水印缓冲区的格式为 I420。</pd>
                </plentry>
                <plentry props="android">
                    <pt>WATERMARK_BUFFER_FORMAT_BGRA</pt>
                    <pd>指定水印缓冲区的格式为 BGRA。</pd>
                </plentry>
                <plentry props="android">
                    <pt>WATERMARK_BUFFER_FORMAT_NV21</pt>
                    <pd>指定水印缓冲区的格式为 NV21。</pd>
                </plentry>
                <plentry props="android">
                    <pt>WATERMARK_BUFFER_FORMAT_RGBA</pt>
                    <pd>指定水印缓冲区的格式为 RGBA。</pd>
                </plentry>
                <plentry props="android">
                    <pt>buffer</pt>
                    <pd>存储水印图像的像素数据。详见 <codeph>ByteBuffer</codeph>。</pd>
                </plentry>
                <plentry props="android">
                    <pt>format</pt>
                    <pd>水印图像的格式：
                        <ul>
                            <li>
                                <codeph>WATERMARK_BUFFER_FORMAT_I420</codeph>：I420 格式。</li>
                            <li>
                                <codeph>WATERMARK_BUFFER_FORMAT_BGRA</codeph>：BGRA 格式。</li>
                            <li>
                                <codeph>WATERMARK_BUFFER_FORMAT_NV21</codeph>：NV21 格式。</li>
                            <li>
                                <codeph>WATERMARK_BUFFER_FORMAT_RGBA</codeph>：RGBA 格式。</li>
                        </ul>
                    </pd>
                </plentry>
                <plentry props="ios mac">
                    <pt>length</pt>
                    <pd>缓冲区的长度，单位为字节。</pd>
                </plentry>
                <plentry props="ios mac">
                    <pt>buffer</pt>
                    <pd>原始图像数据缓冲区。详见 <codeph>NSData</codeph>。</pd>
                </plentry>
                <plentry props="ios">
                    <pt>format</pt>
                    <pd>水印缓冲区的格式，详见 <xref keyref="WatermarkBufferFormat"/>。</pd>
                </plentry>
                <plentry props="mac">
                    <pt>format</pt>
                    <pd>水印缓冲区的格式，详见 <codeph>WatermarkBufferFormat</codeph>。</pd>
                </plentry>
            </parml>
        </section>
    </refbody>
</reference>